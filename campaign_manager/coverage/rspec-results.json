{"version":"3.13.6","examples":[{"id":"./spec/integration/api_key_management_spec.rb[1:1:1:1]","description":"allows storing and retrieving API keys","full_description":"API Key Management Integration API Key Storage when authenticated allows storing and retrieving API keys","status":"passed","file_path":"./spec/integration/api_key_management_spec.rb","line_number":39,"run_time":0.7624347,"pending_message":null},{"id":"./spec/integration/api_key_management_spec.rb[1:1:1:2]","description":"handles nested parameters","full_description":"API Key Management Integration API Key Storage when authenticated handles nested parameters","status":"passed","file_path":"./spec/integration/api_key_management_spec.rb","line_number":68,"run_time":0.0116155,"pending_message":null},{"id":"./spec/integration/api_key_management_spec.rb[1:1:1:3]","description":"allows clearing keys","full_description":"API Key Management Integration API Key Storage when authenticated allows clearing keys","status":"passed","file_path":"./spec/integration/api_key_management_spec.rb","line_number":80,"run_time":0.0166474,"pending_message":null},{"id":"./spec/integration/api_key_management_spec.rb[1:1:2:1]","description":"requires authentication for show and update","full_description":"API Key Management Integration API Key Storage when not authenticated requires authentication for show and update","status":"passed","file_path":"./spec/integration/api_key_management_spec.rb","line_number":101,"run_time":0.0653495,"pending_message":null},{"id":"./spec/integration/campaign_management_spec.rb[1:1:1:1]","description":"allows user to create, view, update, and delete a campaign through API","full_description":"Campaign Management Integration Complete Campaign Lifecycle when authenticated allows user to create, view, update, and delete a campaign through API","status":"passed","file_path":"./spec/integration/campaign_management_spec.rb","line_number":16,"run_time":0.9434333,"pending_message":null},{"id":"./spec/integration/campaign_management_spec.rb[1:1:1:2]","description":"enforces user isolation - users can only see their own campaigns","full_description":"Campaign Management Integration Complete Campaign Lifecycle when authenticated enforces user isolation - users can only see their own campaigns","status":"passed","file_path":"./spec/integration/campaign_management_spec.rb","line_number":62,"run_time":0.6651514,"pending_message":null},{"id":"./spec/integration/campaign_management_spec.rb[1:1:2:1]","description":"requires authentication for all campaign operations","full_description":"Campaign Management Integration Complete Campaign Lifecycle when not authenticated requires authentication for all campaign operations","status":"passed","file_path":"./spec/integration/campaign_management_spec.rb","line_number":106,"run_time":0.0577199,"pending_message":null},{"id":"./spec/integration/campaign_management_spec.rb[1:2:1:1]","description":"allows creating campaign and leads together","full_description":"Campaign Management Integration Campaign and Leads Integration when authenticated allows creating campaign and leads together","status":"passed","file_path":"./spec/integration/campaign_management_spec.rb","line_number":135,"run_time":0.5612982,"pending_message":null},{"id":"./spec/integration/campaign_management_spec.rb[1:2:1:2]","description":"enforces lead ownership through campaign ownership","full_description":"Campaign Management Integration Campaign and Leads Integration when authenticated enforces lead ownership through campaign ownership","status":"passed","file_path":"./spec/integration/campaign_management_spec.rb","line_number":195,"run_time":0.1243185,"pending_message":null},{"id":"./spec/integration/error_handling_spec.rb[1:1:1:1]","description":"handles accessing non-existent campaign gracefully","full_description":"Error Handling Integration Invalid Resource Access when authenticated handles accessing non-existent campaign gracefully","status":"passed","file_path":"./spec/integration/error_handling_spec.rb","line_number":16,"run_time":0.4675922,"pending_message":null},{"id":"./spec/integration/error_handling_spec.rb[1:1:1:2]","description":"handles accessing non-existent lead gracefully","full_description":"Error Handling Integration Invalid Resource Access when authenticated handles accessing non-existent lead gracefully","status":"passed","file_path":"./spec/integration/error_handling_spec.rb","line_number":29,"run_time":0.4164256,"pending_message":null},{"id":"./spec/integration/error_handling_spec.rb[1:1:1:3]","description":"handles accessing other user's resources gracefully","full_description":"Error Handling Integration Invalid Resource Access when authenticated handles accessing other user's resources gracefully","status":"passed","file_path":"./spec/integration/error_handling_spec.rb","line_number":42,"run_time":0.5197626,"pending_message":null},{"id":"./spec/integration/error_handling_spec.rb[1:1:1:4]","description":"handles invalid lead creation with wrong campaign","full_description":"Error Handling Integration Invalid Resource Access when authenticated handles invalid lead creation with wrong campaign","status":"passed","file_path":"./spec/integration/error_handling_spec.rb","line_number":68,"run_time":0.0450346,"pending_message":null},{"id":"./spec/integration/error_handling_spec.rb[1:2:1:1]","description":"returns proper error messages for invalid campaign data","full_description":"Error Handling Integration Validation Errors when authenticated returns proper error messages for invalid campaign data","status":"passed","file_path":"./spec/integration/error_handling_spec.rb","line_number":91,"run_time":0.0396944,"pending_message":null},{"id":"./spec/integration/error_handling_spec.rb[1:2:1:2]","description":"returns proper error messages for invalid lead data","full_description":"Error Handling Integration Validation Errors when authenticated returns proper error messages for invalid lead data","status":"passed","file_path":"./spec/integration/error_handling_spec.rb","line_number":113,"run_time":0.0583389,"pending_message":null},{"id":"./spec/integration/error_handling_spec.rb[1:3:1:1]","description":"handles malformed JSON gracefully","full_description":"Error Handling Integration Malformed Requests when authenticated handles malformed JSON gracefully","status":"passed","file_path":"./spec/integration/error_handling_spec.rb","line_number":150,"run_time":0.4621835,"pending_message":null},{"id":"./spec/integration/error_handling_spec.rb[1:3:1:2]","description":"handles invalid ID format gracefully","full_description":"Error Handling Integration Malformed Requests when authenticated handles invalid ID format gracefully","status":"passed","file_path":"./spec/integration/error_handling_spec.rb","line_number":162,"run_time":0.3988441,"pending_message":null},{"id":"./spec/integration/lead_management_spec.rb[1:1:1:1]","description":"allows user to create, view, update, and delete a lead through API","full_description":"Lead Management Integration Complete Lead Lifecycle when authenticated allows user to create, view, update, and delete a lead through API","status":"passed","file_path":"./spec/integration/lead_management_spec.rb","line_number":16,"run_time":0.1123484,"pending_message":null},{"id":"./spec/integration/lead_management_spec.rb[1:1:1:2]","description":"sets default website from email when not provided","full_description":"Lead Management Integration Complete Lead Lifecycle when authenticated sets default website from email when not provided","status":"passed","file_path":"./spec/integration/lead_management_spec.rb","line_number":68,"run_time":0.0524753,"pending_message":null},{"id":"./spec/integration/lead_management_spec.rb[1:1:1:3]","description":"does not override provided website","full_description":"Lead Management Integration Complete Lead Lifecycle when authenticated does not override provided website","status":"passed","file_path":"./spec/integration/lead_management_spec.rb","line_number":84,"run_time":0.055315,"pending_message":null},{"id":"./spec/integration/lead_management_spec.rb[1:1:1:4]","description":"validates required fields","full_description":"Lead Management Integration Complete Lead Lifecycle when authenticated validates required fields","status":"passed","file_path":"./spec/integration/lead_management_spec.rb","line_number":100,"run_time":0.0548327,"pending_message":null},{"id":"./spec/integration/lead_management_spec.rb[1:1:2:1]","description":"requires authentication for all lead operations","full_description":"Lead Management Integration Complete Lead Lifecycle when not authenticated requires authentication for all lead operations","status":"passed","file_path":"./spec/integration/lead_management_spec.rb","line_number":131,"run_time":0.0659076,"pending_message":null},{"id":"./spec/integration/lead_management_spec.rb[1:2:1:1]","description":"allows filtering leads by campaign","full_description":"Lead Management Integration Lead Filtering by Campaign when authenticated allows filtering leads by campaign","status":"passed","file_path":"./spec/integration/lead_management_spec.rb","line_number":167,"run_time":0.9256397,"pending_message":null},{"id":"./spec/integration/user_dashboard_spec.rb[1:1:1:1]","description":"displays user dashboard with campaigns and leads","full_description":"User Dashboard Integration Dashboard Access when authenticated displays user dashboard with campaigns and leads","status":"passed","file_path":"./spec/integration/user_dashboard_spec.rb","line_number":34,"run_time":0.1531042,"pending_message":null},{"id":"./spec/integration/user_dashboard_spec.rb[1:1:1:2]","description":"shows empty state when user has no campaigns","full_description":"User Dashboard Integration Dashboard Access when authenticated shows empty state when user has no campaigns","status":"passed","file_path":"./spec/integration/user_dashboard_spec.rb","line_number":59,"run_time":0.0709815,"pending_message":null},{"id":"./spec/integration/user_dashboard_spec.rb[1:1:1:3]","description":"allows creating campaign from dashboard","full_description":"User Dashboard Integration Dashboard Access when authenticated allows creating campaign from dashboard","status":"passed","file_path":"./spec/integration/user_dashboard_spec.rb","line_number":72,"run_time":0.0788019,"pending_message":null},{"id":"./spec/integration/user_dashboard_spec.rb[1:1:2:1]","description":"redirects to login page","full_description":"User Dashboard Integration Dashboard Access when not authenticated redirects to login page","status":"passed","file_path":"./spec/integration/user_dashboard_spec.rb","line_number":95,"run_time":0.0171996,"pending_message":null},{"id":"./spec/integration/user_dashboard_spec.rb[1:1:3:1]","description":"allows access without authentication","full_description":"User Dashboard Integration Dashboard Access with DISABLE_AUTH enabled allows access without authentication","status":"passed","file_path":"./spec/integration/user_dashboard_spec.rb","line_number":110,"run_time":0.0621026,"pending_message":null},{"id":"./spec/integration/user_dashboard_spec.rb[1:1:3:2]","description":"creates admin user automatically","full_description":"User Dashboard Integration Dashboard Access with DISABLE_AUTH enabled creates admin user automatically","status":"passed","file_path":"./spec/integration/user_dashboard_spec.rb","line_number":116,"run_time":0.1059573,"pending_message":null},{"id":"./spec/integration/user_dashboard_spec.rb[1:2:1:1]","description":"allows selecting a campaign and viewing its leads","full_description":"User Dashboard Integration Campaign Selection and Context when authenticated allows selecting a campaign and viewing its leads","status":"passed","file_path":"./spec/integration/user_dashboard_spec.rb","line_number":127,"run_time":1.0543496,"pending_message":null},{"id":"./spec/jobs/application_job_spec.rb[1:1:1]","description":"inherits from ActiveJob::Base","full_description":"ApplicationJob class configuration inherits from ActiveJob::Base","status":"passed","file_path":"./spec/jobs/application_job_spec.rb","line_number":5,"run_time":0.0031272,"pending_message":null},{"id":"./spec/jobs/application_job_spec.rb[1:1:2]","description":"has retry_on commented out","full_description":"ApplicationJob class configuration has retry_on commented out","status":"passed","file_path":"./spec/jobs/application_job_spec.rb","line_number":9,"run_time":0.0128921,"pending_message":null},{"id":"./spec/jobs/application_job_spec.rb[1:1:3]","description":"has discard_on commented out","full_description":"ApplicationJob class configuration has discard_on commented out","status":"passed","file_path":"./spec/jobs/application_job_spec.rb","line_number":16,"run_time":0.0049139,"pending_message":null},{"id":"./spec/jobs/application_job_spec.rb[1:2:1]","description":"can be subclassed","full_description":"ApplicationJob as a base class can be subclassed","status":"passed","file_path":"./spec/jobs/application_job_spec.rb","line_number":33,"run_time":0.007374,"pending_message":null},{"id":"./spec/jobs/application_job_spec.rb[1:2:2]","description":"inherits ActiveJob functionality","full_description":"ApplicationJob as a base class inherits ActiveJob functionality","status":"passed","file_path":"./spec/jobs/application_job_spec.rb","line_number":37,"run_time":0.0048874,"pending_message":null},{"id":"./spec/jobs/application_job_spec.rb[1:2:3]","description":"can be instantiated","full_description":"ApplicationJob as a base class can be instantiated","status":"passed","file_path":"./spec/jobs/application_job_spec.rb","line_number":41,"run_time":0.0031436,"pending_message":null},{"id":"./spec/jobs/application_job_spec.rb[1:2:4]","description":"can be queued","full_description":"ApplicationJob as a base class can be queued","status":"passed","file_path":"./spec/jobs/application_job_spec.rb","line_number":46,"run_time":0.0054212,"pending_message":null},{"id":"./spec/mailers/application_mailer_spec.rb[1:1:1]","description":"inherits from ActionMailer::Base","full_description":"ApplicationMailer class configuration inherits from ActionMailer::Base","status":"passed","file_path":"./spec/mailers/application_mailer_spec.rb","line_number":5,"run_time":0.0712362,"pending_message":null},{"id":"./spec/mailers/application_mailer_spec.rb[1:1:2]","description":"has default from address","full_description":"ApplicationMailer class configuration has default from address","status":"passed","file_path":"./spec/mailers/application_mailer_spec.rb","line_number":9,"run_time":0.0060636,"pending_message":null},{"id":"./spec/mailers/application_mailer_spec.rb[1:1:3]","description":"has mailer layout configured","full_description":"ApplicationMailer class configuration has mailer layout configured","status":"passed","file_path":"./spec/mailers/application_mailer_spec.rb","line_number":13,"run_time":0.0093767,"pending_message":null},{"id":"./spec/mailers/application_mailer_spec.rb[1:2:1]","description":"can be subclassed","full_description":"ApplicationMailer as a base class can be subclassed","status":"passed","file_path":"./spec/mailers/application_mailer_spec.rb","line_number":31,"run_time":0.0049765,"pending_message":null},{"id":"./spec/mailers/application_mailer_spec.rb[1:2:2]","description":"inherits ActionMailer functionality","full_description":"ApplicationMailer as a base class inherits ActionMailer functionality","status":"passed","file_path":"./spec/mailers/application_mailer_spec.rb","line_number":35,"run_time":0.0077268,"pending_message":null},{"id":"./spec/mailers/application_mailer_spec.rb[1:2:3]","description":"uses default from address","full_description":"ApplicationMailer as a base class uses default from address","status":"passed","file_path":"./spec/mailers/application_mailer_spec.rb","line_number":39,"run_time":0.0732285,"pending_message":null},{"id":"./spec/mailers/application_mailer_spec.rb[1:2:4]","description":"can create mail objects","full_description":"ApplicationMailer as a base class can create mail objects","status":"passed","file_path":"./spec/mailers/application_mailer_spec.rb","line_number":44,"run_time":0.0289746,"pending_message":null},{"id":"./spec/mailers/application_mailer_spec.rb[1:2:5]","description":"can be delivered without template","full_description":"ApplicationMailer as a base class can be delivered without template","status":"passed","file_path":"./spec/mailers/application_mailer_spec.rb","line_number":50,"run_time":0.0224335,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:1:1]","description":"is expected to belong to campaign required: true","full_description":"AgentConfig associations is expected to belong to campaign required: true","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":5,"run_time":0.0183848,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:2:1]","description":"is expected to validate that :campaign_id cannot be empty/falsy","full_description":"AgentConfig validations is expected to validate that :campaign_id cannot be empty/falsy","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":12,"run_time":0.015022,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:2:2]","description":"is expected to validate that :agent_name cannot be empty/falsy","full_description":"AgentConfig validations is expected to validate that :agent_name cannot be empty/falsy","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":13,"run_time":0.0177151,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:2:3]","description":"requires settings to not be nil","full_description":"AgentConfig validations requires settings to not be nil","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":15,"run_time":0.0266337,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:2:4]","description":"is expected to validate that :enabled is either ‹true› or ‹false›","full_description":"AgentConfig validations is expected to validate that :enabled is either ‹true› or ‹false›","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":20,"run_time":0.009751,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:2:5]","description":"validates agent_name inclusion","full_description":"AgentConfig validations validates agent_name inclusion","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":22,"run_time":0.0296532,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:2:6]","description":"rejects invalid agent_name","full_description":"AgentConfig validations rejects invalid agent_name","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":30,"run_time":0.0269462,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:2:7]","description":"requires settings","full_description":"AgentConfig validations requires settings","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":36,"run_time":0.0309129,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:3:1]","description":"returns true for enabled? when enabled is true","full_description":"AgentConfig status query methods returns true for enabled? when enabled is true","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":47,"run_time":0.0333395,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:3:2]","description":"returns true for disabled? when enabled is false","full_description":"AgentConfig status query methods returns true for disabled? when enabled is false","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":53,"run_time":0.0336907,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:4:1]","description":"gets setting value with string key","full_description":"AgentConfig settings accessor methods gets setting value with string key","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":64,"run_time":0.0309321,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:4:2]","description":"gets setting value with symbol key","full_description":"AgentConfig settings accessor methods gets setting value with symbol key","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":69,"run_time":0.0319592,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:4:3]","description":"returns nil for non-existent setting","full_description":"AgentConfig settings accessor methods returns nil for non-existent setting","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":74,"run_time":0.0312817,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:4:4]","description":"sets setting value","full_description":"AgentConfig settings accessor methods sets setting value","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":79,"run_time":0.0308864,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:4:5]","description":"preserves existing settings when setting new one","full_description":"AgentConfig settings accessor methods preserves existing settings when setting new one","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":86,"run_time":0.0280737,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:5:1]","description":"prevents duplicate agent configs for the same campaign and agent","full_description":"AgentConfig database constraints prevents duplicate agent configs for the same campaign and agent","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":99,"run_time":0.046624,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:5:2]","description":"allows different agent configs for the same campaign","full_description":"AgentConfig database constraints allows different agent configs for the same campaign","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":106,"run_time":0.0362687,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:5:3]","description":"allows same agent config for different campaigns","full_description":"AgentConfig database constraints allows same agent config for different campaigns","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":113,"run_time":0.0428146,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:5:4]","description":"requires valid agent_name via database constraint","full_description":"AgentConfig database constraints requires valid agent_name via database constraint","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":121,"run_time":0.0217622,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:6:1]","description":"creates a valid agent config","full_description":"AgentConfig creation creates a valid agent config","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":132,"run_time":0.0301517,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:6:2]","description":"has default enabled value of true","full_description":"AgentConfig creation has default enabled value of true","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":138,"run_time":0.0206488,"pending_message":null},{"id":"./spec/models/agent_config_spec.rb[1:6:3]","description":"can store complex JSONB settings","full_description":"AgentConfig creation can store complex JSONB settings","status":"passed","file_path":"./spec/models/agent_config_spec.rb","line_number":143,"run_time":0.0314888,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:1:1]","description":"is expected to belong to lead required: true","full_description":"AgentOutput associations is expected to belong to lead required: true","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":5,"run_time":0.025103,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:2:1]","description":"is expected to validate that :lead_id cannot be empty/falsy","full_description":"AgentOutput validations is expected to validate that :lead_id cannot be empty/falsy","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":13,"run_time":0.0081843,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:2:2]","description":"is expected to validate that :agent_name cannot be empty/falsy","full_description":"AgentOutput validations is expected to validate that :agent_name cannot be empty/falsy","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":14,"run_time":0.0153855,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:2:3]","description":"is expected to validate that :status cannot be empty/falsy","full_description":"AgentOutput validations is expected to validate that :status cannot be empty/falsy","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":15,"run_time":0.0138484,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:2:4]","description":"is expected to validate that :output_data cannot be empty/falsy","full_description":"AgentOutput validations is expected to validate that :output_data cannot be empty/falsy","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":16,"run_time":0.0118264,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:2:5]","description":"validates agent_name inclusion","full_description":"AgentOutput validations validates agent_name inclusion","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":18,"run_time":0.034453,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:2:6]","description":"rejects invalid agent_name","full_description":"AgentOutput validations rejects invalid agent_name","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":26,"run_time":0.0324045,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:2:7]","description":"validates status inclusion","full_description":"AgentOutput validations validates status inclusion","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":32,"run_time":0.0363441,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:2:8]","description":"rejects invalid status","full_description":"AgentOutput validations rejects invalid status","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":40,"run_time":0.0308008,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:2:9]","description":"requires output_data","full_description":"AgentOutput validations requires output_data","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":46,"run_time":0.0341351,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:3:1]","description":"returns true for completed? when status is completed","full_description":"AgentOutput status query methods returns true for completed? when status is completed","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":58,"run_time":0.0363591,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:3:2]","description":"returns true for pending? when status is pending","full_description":"AgentOutput status query methods returns true for pending? when status is pending","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":65,"run_time":0.0350729,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:3:3]","description":"returns true for failed? when status is failed","full_description":"AgentOutput status query methods returns true for failed? when status is failed","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":72,"run_time":0.0387659,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:4:1]","description":"prevents duplicate agent outputs for the same lead and agent","full_description":"AgentOutput database constraints prevents duplicate agent outputs for the same lead and agent","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":85,"run_time":0.0405832,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:4:2]","description":"allows different agent outputs for the same lead","full_description":"AgentOutput database constraints allows different agent outputs for the same lead","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":92,"run_time":0.0444313,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:4:3]","description":"requires valid agent_name via database constraint","full_description":"AgentOutput database constraints requires valid agent_name via database constraint","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":99,"run_time":0.0296516,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:4:4]","description":"requires valid status via database constraint","full_description":"AgentOutput database constraints requires valid status via database constraint","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":106,"run_time":0.0359129,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:5:1]","description":"creates a valid agent output","full_description":"AgentOutput creation creates a valid agent output","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":118,"run_time":0.0358243,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:5:2]","description":"has default status of pending","full_description":"AgentOutput creation has default status of pending","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":124,"run_time":0.0311654,"pending_message":null},{"id":"./spec/models/agent_output_spec.rb[1:5:3]","description":"can store complex JSONB data","full_description":"AgentOutput creation can store complex JSONB data","status":"passed","file_path":"./spec/models/agent_output_spec.rb","line_number":129,"run_time":0.0354557,"pending_message":null},{"id":"./spec/models/campaign_spec.rb[1:1:1]","description":"is expected to belong to user required: true","full_description":"Campaign associations is expected to belong to user required: true","status":"passed","file_path":"./spec/models/campaign_spec.rb","line_number":5,"run_time":0.0078291,"pending_message":null},{"id":"./spec/models/campaign_spec.rb[1:1:2]","description":"is expected to have many leads dependent =\u003e destroy","full_description":"Campaign associations is expected to have many leads dependent =\u003e destroy","status":"passed","file_path":"./spec/models/campaign_spec.rb","line_number":6,"run_time":0.0045242,"pending_message":null},{"id":"./spec/models/campaign_spec.rb[1:1:3]","description":"is expected to have many agent_configs dependent =\u003e destroy","full_description":"Campaign associations is expected to have many agent_configs dependent =\u003e destroy","status":"passed","file_path":"./spec/models/campaign_spec.rb","line_number":7,"run_time":0.0032792,"pending_message":null},{"id":"./spec/models/campaign_spec.rb[1:2:1]","description":"is expected to validate that :title cannot be empty/falsy","full_description":"Campaign validations is expected to validate that :title cannot be empty/falsy","status":"passed","file_path":"./spec/models/campaign_spec.rb","line_number":11,"run_time":0.0138679,"pending_message":null},{"id":"./spec/models/campaign_spec.rb[1:2:2]","description":"is expected to validate that :base_prompt cannot be empty/falsy","full_description":"Campaign validations is expected to validate that :base_prompt cannot be empty/falsy","status":"passed","file_path":"./spec/models/campaign_spec.rb","line_number":12,"run_time":0.0098337,"pending_message":null},{"id":"./spec/models/campaign_spec.rb[1:3:1]","description":"creates a valid campaign","full_description":"Campaign creation creates a valid campaign","status":"passed","file_path":"./spec/models/campaign_spec.rb","line_number":18,"run_time":0.0225443,"pending_message":null},{"id":"./spec/models/campaign_spec.rb[1:3:2]","description":"requires a title","full_description":"Campaign creation requires a title","status":"passed","file_path":"./spec/models/campaign_spec.rb","line_number":24,"run_time":0.0175405,"pending_message":null},{"id":"./spec/models/campaign_spec.rb[1:3:3]","description":"requires a base_prompt","full_description":"Campaign creation requires a base_prompt","status":"passed","file_path":"./spec/models/campaign_spec.rb","line_number":30,"run_time":0.0166063,"pending_message":null},{"id":"./spec/models/campaign_spec.rb[1:3:4]","description":"requires a user","full_description":"Campaign creation requires a user","status":"passed","file_path":"./spec/models/campaign_spec.rb","line_number":36,"run_time":0.0042249,"pending_message":null},{"id":"./spec/models/campaign_spec.rb[1:4:1]","description":"provides basePrompt getter","full_description":"Campaign camelCase API compatibility provides basePrompt getter","status":"passed","file_path":"./spec/models/campaign_spec.rb","line_number":47,"run_time":0.0173238,"pending_message":null},{"id":"./spec/models/campaign_spec.rb[1:4:2]","description":"provides basePrompt setter","full_description":"Campaign camelCase API compatibility provides basePrompt setter","status":"passed","file_path":"./spec/models/campaign_spec.rb","line_number":51,"run_time":0.0214831,"pending_message":null},{"id":"./spec/models/campaign_spec.rb[1:4:3]","description":"returns camelCase in as_json","full_description":"Campaign camelCase API compatibility returns camelCase in as_json","status":"passed","file_path":"./spec/models/campaign_spec.rb","line_number":56,"run_time":0.0216709,"pending_message":null},{"id":"./spec/models/campaign_spec.rb[1:5:1]","description":"can have multiple leads","full_description":"Campaign leads association can have multiple leads","status":"passed","file_path":"./spec/models/campaign_spec.rb","line_number":68,"run_time":0.0365161,"pending_message":null},{"id":"./spec/models/campaign_spec.rb[1:5:2]","description":"destroys associated leads when campaign is destroyed","full_description":"Campaign leads association destroys associated leads when campaign is destroyed","status":"passed","file_path":"./spec/models/campaign_spec.rb","line_number":76,"run_time":0.0415113,"pending_message":null},{"id":"./spec/models/campaign_spec.rb[1:6:1]","description":"can have multiple agent configs","full_description":"Campaign agent_configs association can have multiple agent configs","status":"passed","file_path":"./spec/models/campaign_spec.rb","line_number":92,"run_time":0.0373852,"pending_message":null},{"id":"./spec/models/campaign_spec.rb[1:6:2]","description":"destroys associated agent configs when campaign is destroyed","full_description":"Campaign agent_configs association destroys associated agent configs when campaign is destroyed","status":"passed","file_path":"./spec/models/campaign_spec.rb","line_number":100,"run_time":0.0366785,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:1:1]","description":"is expected to belong to campaign required: true","full_description":"Lead associations is expected to belong to campaign required: true","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":5,"run_time":0.0068054,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:1:2]","description":"is expected to have many agent_outputs dependent =\u003e destroy","full_description":"Lead associations is expected to have many agent_outputs dependent =\u003e destroy","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":6,"run_time":0.0040843,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:2:1]","description":"is expected to validate that :name cannot be empty/falsy","full_description":"Lead validations is expected to validate that :name cannot be empty/falsy","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":10,"run_time":0.0119212,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:2:2]","description":"is expected to validate that :email cannot be empty/falsy","full_description":"Lead validations is expected to validate that :email cannot be empty/falsy","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":11,"run_time":0.0102288,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:2:3]","description":"is expected to validate that :title cannot be empty/falsy","full_description":"Lead validations is expected to validate that :title cannot be empty/falsy","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":12,"run_time":0.0106463,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:2:4]","description":"is expected to validate that :company cannot be empty/falsy","full_description":"Lead validations is expected to validate that :company cannot be empty/falsy","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":13,"run_time":0.0108849,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:2:5]","description":"is expected to allow :email to be ‹\"test@example.com\"›","full_description":"Lead validations is expected to allow :email to be ‹\"test@example.com\"›","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":15,"run_time":0.004218,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:2:6]","description":"is expected to allow :email to be ‹\"user.name+tag@domain.co.uk\"›","full_description":"Lead validations is expected to allow :email to be ‹\"user.name+tag@domain.co.uk\"›","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":16,"run_time":0.0030229,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:2:7]","description":"is expected not to allow :email to be ‹\"invalid-email\"›","full_description":"Lead validations is expected not to allow :email to be ‹\"invalid-email\"›","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":17,"run_time":0.003168,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:2:8]","description":"is expected not to allow :email to be ‹\"@example.com\"›","full_description":"Lead validations is expected not to allow :email to be ‹\"@example.com\"›","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":18,"run_time":0.0070771,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:2:9]","description":"is expected not to allow :email to be ‹\"test@\"›","full_description":"Lead validations is expected not to allow :email to be ‹\"test@\"›","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":19,"run_time":0.0046702,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:3:1]","description":"creates a valid lead","full_description":"Lead creation creates a valid lead","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":26,"run_time":0.0268883,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:3:2]","description":"requires a name","full_description":"Lead creation requires a name","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":32,"run_time":0.02018,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:3:3]","description":"requires an email","full_description":"Lead creation requires an email","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":38,"run_time":0.0216837,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:3:4]","description":"requires a title","full_description":"Lead creation requires a title","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":44,"run_time":0.0225654,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:3:5]","description":"requires a company","full_description":"Lead creation requires a company","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":50,"run_time":0.0216878,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:3:6]","description":"requires a valid email format","full_description":"Lead creation requires a valid email format","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":56,"run_time":0.0210236,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:3:7]","description":"requires a campaign","full_description":"Lead creation requires a campaign","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":62,"run_time":0.0071089,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:3:8]","description":"has default stage value","full_description":"Lead creation has default stage value","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":68,"run_time":0.0253714,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:3:9]","description":"has default quality value","full_description":"Lead creation has default quality value","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":73,"run_time":0.0283937,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:4:1]","description":"sets default website from email when website is empty","full_description":"Lead before_save callback sets default website from email when website is empty","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":83,"run_time":0.0343171,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:4:2]","description":"sets default website from email when website is blank","full_description":"Lead before_save callback sets default website from email when website is blank","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":88,"run_time":0.0251945,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:4:3]","description":"does not override existing website","full_description":"Lead before_save callback does not override existing website","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":94,"run_time":0.023146,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:5:1]","description":"provides campaignId getter","full_description":"Lead camelCase API compatibility provides campaignId getter","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":105,"run_time":0.0221972,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:5:2]","description":"provides campaignId setter","full_description":"Lead camelCase API compatibility provides campaignId setter","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":109,"run_time":0.0288776,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:5:3]","description":"returns camelCase in as_json","full_description":"Lead camelCase API compatibility returns camelCase in as_json","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":115,"run_time":0.026465,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:6:1]","description":"can have multiple agent outputs","full_description":"Lead agent_outputs association can have multiple agent outputs","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":128,"run_time":0.0380628,"pending_message":null},{"id":"./spec/models/lead_spec.rb[1:6:2]","description":"destroys associated agent outputs when lead is destroyed","full_description":"Lead agent_outputs association destroys associated agent outputs when lead is destroyed","status":"passed","file_path":"./spec/models/lead_spec.rb","line_number":136,"run_time":0.0379648,"pending_message":null},{"id":"./spec/models/user_spec.rb[1:1:1]","description":"is expected to have many campaigns dependent =\u003e destroy","full_description":"User associations is expected to have many campaigns dependent =\u003e destroy","status":"passed","file_path":"./spec/models/user_spec.rb","line_number":5,"run_time":0.0038318,"pending_message":null},{"id":"./spec/models/user_spec.rb[1:2:1]","description":"is expected to validate that :email cannot be empty/falsy","full_description":"User validations is expected to validate that :email cannot be empty/falsy","status":"passed","file_path":"./spec/models/user_spec.rb","line_number":9,"run_time":0.0093048,"pending_message":null},{"id":"./spec/models/user_spec.rb[1:2:2]","description":"is expected to validate that :email is case-insensitively unique","full_description":"User validations is expected to validate that :email is case-insensitively unique","status":"passed","file_path":"./spec/models/user_spec.rb","line_number":10,"run_time":0.0286448,"pending_message":null},{"id":"./spec/models/user_spec.rb[1:2:3]","description":"is expected to validate that :password cannot be empty/falsy","full_description":"User validations is expected to validate that :password cannot be empty/falsy","status":"passed","file_path":"./spec/models/user_spec.rb","line_number":11,"run_time":0.014286,"pending_message":null},{"id":"./spec/models/user_spec.rb[1:3:1]","description":"should be database authenticatable","full_description":"User Devise configuration should be database authenticatable","status":"passed","file_path":"./spec/models/user_spec.rb","line_number":15,"run_time":0.0031588,"pending_message":null},{"id":"./spec/models/user_spec.rb[1:3:2]","description":"should be registerable","full_description":"User Devise configuration should be registerable","status":"passed","file_path":"./spec/models/user_spec.rb","line_number":19,"run_time":0.0024305,"pending_message":null},{"id":"./spec/models/user_spec.rb[1:3:3]","description":"should be recoverable","full_description":"User Devise configuration should be recoverable","status":"passed","file_path":"./spec/models/user_spec.rb","line_number":23,"run_time":0.002029,"pending_message":null},{"id":"./spec/models/user_spec.rb[1:3:4]","description":"should be rememberable","full_description":"User Devise configuration should be rememberable","status":"passed","file_path":"./spec/models/user_spec.rb","line_number":27,"run_time":0.0019247,"pending_message":null},{"id":"./spec/models/user_spec.rb[1:3:5]","description":"should be validatable","full_description":"User Devise configuration should be validatable","status":"passed","file_path":"./spec/models/user_spec.rb","line_number":31,"run_time":0.0079284,"pending_message":null},{"id":"./spec/models/user_spec.rb[1:4:1]","description":"creates a valid user","full_description":"User creation creates a valid user","status":"passed","file_path":"./spec/models/user_spec.rb","line_number":37,"run_time":0.0195549,"pending_message":null},{"id":"./spec/models/user_spec.rb[1:4:2]","description":"requires email","full_description":"User creation requires email","status":"passed","file_path":"./spec/models/user_spec.rb","line_number":43,"run_time":0.0086117,"pending_message":null},{"id":"./spec/models/user_spec.rb[1:4:3]","description":"requires password","full_description":"User creation requires password","status":"passed","file_path":"./spec/models/user_spec.rb","line_number":49,"run_time":0.0078626,"pending_message":null},{"id":"./spec/models/user_spec.rb[1:4:4]","description":"requires password confirmation","full_description":"User creation requires password confirmation","status":"passed","file_path":"./spec/models/user_spec.rb","line_number":55,"run_time":0.0125088,"pending_message":null},{"id":"./spec/models/user_spec.rb[1:4:5]","description":"requires valid email format","full_description":"User creation requires valid email format","status":"passed","file_path":"./spec/models/user_spec.rb","line_number":61,"run_time":0.0080594,"pending_message":null},{"id":"./spec/models/user_spec.rb[1:4:6]","description":"requires unique email","full_description":"User creation requires unique email","status":"passed","file_path":"./spec/models/user_spec.rb","line_number":67,"run_time":0.0213083,"pending_message":null},{"id":"./spec/models/user_spec.rb[1:4:7]","description":"is case-insensitive for email uniqueness","full_description":"User creation is case-insensitive for email uniqueness","status":"passed","file_path":"./spec/models/user_spec.rb","line_number":74,"run_time":0.0195378,"pending_message":null},{"id":"./spec/models/user_spec.rb[1:5:1]","description":"can have multiple campaigns","full_description":"User campaigns association can have multiple campaigns","status":"passed","file_path":"./spec/models/user_spec.rb","line_number":85,"run_time":0.0379589,"pending_message":null},{"id":"./spec/models/user_spec.rb[1:5:2]","description":"destroys associated campaigns when user is destroyed","full_description":"User campaigns association destroys associated campaigns when user is destroyed","status":"passed","file_path":"./spec/models/user_spec.rb","line_number":93,"run_time":0.0369916,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:1:1:1]","description":"returns all agent configs for the campaign","full_description":"Api::V1::AgentConfigsController GET #index when authenticated returns all agent configs for the campaign","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":22,"run_time":0.0807375,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:1:1:2]","description":"returns empty array when campaign has no configs","full_description":"Api::V1::AgentConfigsController GET #index when authenticated returns empty array when campaign has no configs","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":36,"run_time":0.0491631,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:1:1:3:1]","description":"returns 404 not found","full_description":"Api::V1::AgentConfigsController GET #index when authenticated when campaign belongs to another user returns 404 not found","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":45,"run_time":0.0580605,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:1:2:1]","description":"returns 401 unauthorized","full_description":"Api::V1::AgentConfigsController GET #index when not authenticated returns 401 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":56,"run_time":0.041097,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:2:1:1]","description":"returns the agent config","full_description":"Api::V1::AgentConfigsController GET #show when authenticated returns the agent config","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":69,"run_time":0.0645358,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:2:1:2:1]","description":"returns 404 not found","full_description":"Api::V1::AgentConfigsController GET #show when authenticated when config belongs to another user's campaign returns 404 not found","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":81,"run_time":0.0832095,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:2:1:3:1]","description":"returns 404 not found","full_description":"Api::V1::AgentConfigsController GET #show when authenticated when config does not exist returns 404 not found","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":89,"run_time":0.0614916,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:2:2:1]","description":"returns 401 unauthorized","full_description":"Api::V1::AgentConfigsController GET #show when not authenticated returns 401 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":98,"run_time":0.0394008,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:3:1:1:1]","description":"creates a new agent config","full_description":"Api::V1::AgentConfigsController POST #create when authenticated with valid attributes creates a new agent config","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":110,"run_time":0.0534063,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:3:1:1:2]","description":"associates config with campaign","full_description":"Api::V1::AgentConfigsController POST #create when authenticated with valid attributes associates config with campaign","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":116,"run_time":0.0560489,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:3:1:1:3]","description":"returns the created config","full_description":"Api::V1::AgentConfigsController POST #create when authenticated with valid attributes returns the created config","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":124,"run_time":0.0496303,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:3:1:2:1]","description":"returns 422 with error message","full_description":"Api::V1::AgentConfigsController POST #create when authenticated with invalid agent name returns 422 with error message","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":135,"run_time":0.0432768,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:3:1:3:1]","description":"returns 422 with error message","full_description":"Api::V1::AgentConfigsController POST #create when authenticated when agent config already exists returns 422 with error message","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":150,"run_time":0.0643371,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:3:1:4:1]","description":"returns 404 not found","full_description":"Api::V1::AgentConfigsController POST #create when authenticated when campaign belongs to another user returns 404 not found","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":160,"run_time":0.0668563,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:3:2:1]","description":"returns 401 unauthorized","full_description":"Api::V1::AgentConfigsController POST #create when not authenticated returns 401 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":169,"run_time":0.0422632,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:4:1:1:1]","description":"updates the config","full_description":"Api::V1::AgentConfigsController PATCH #update when authenticated with valid attributes updates the config","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":191,"run_time":0.0623992,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:4:1:1:2]","description":"returns the updated config","full_description":"Api::V1::AgentConfigsController PATCH #update when authenticated with valid attributes returns the updated config","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":199,"run_time":0.0621053,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:4:1:2:1]","description":"returns 404 not found","full_description":"Api::V1::AgentConfigsController PATCH #update when authenticated when config belongs to another user's campaign returns 404 not found","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":210,"run_time":0.0822878,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:4:1:3:1]","description":"returns 404 not found","full_description":"Api::V1::AgentConfigsController PATCH #update when authenticated when config does not exist returns 404 not found","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":218,"run_time":0.0506384,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:4:2:1]","description":"returns 401 unauthorized","full_description":"Api::V1::AgentConfigsController PATCH #update when not authenticated returns 401 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":227,"run_time":0.0512345,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:5:1:1]","description":"destroys the config","full_description":"Api::V1::AgentConfigsController DELETE #destroy when authenticated destroys the config","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":240,"run_time":0.0606647,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:5:1:2]","description":"returns 204 no content","full_description":"Api::V1::AgentConfigsController DELETE #destroy when authenticated returns 204 no content","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":246,"run_time":0.0573091,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:5:1:3:1]","description":"returns 404 not found","full_description":"Api::V1::AgentConfigsController DELETE #destroy when authenticated when config belongs to another user's campaign returns 404 not found","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":254,"run_time":0.0733996,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:5:1:4:1]","description":"returns 404","full_description":"Api::V1::AgentConfigsController DELETE #destroy when authenticated when config does not exist returns 404","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":263,"run_time":0.0431981,"pending_message":null},{"id":"./spec/requests/api/v1/agent_configs_controller_spec.rb[1:5:2:1]","description":"returns 401 unauthorized","full_description":"Api::V1::AgentConfigsController DELETE #destroy when not authenticated returns 401 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/agent_configs_controller_spec.rb","line_number":272,"run_time":0.0378216,"pending_message":null},{"id":"./spec/requests/api/v1/api_keys_controller_spec.rb[1:1:1:1]","description":"returns empty keys when session has no keys","full_description":"Api::V1::ApiKeysController GET #show when authenticated returns empty keys when session has no keys","status":"passed","file_path":"./spec/requests/api/v1/api_keys_controller_spec.rb","line_number":10,"run_time":0.0251621,"pending_message":null},{"id":"./spec/requests/api/v1/api_keys_controller_spec.rb[1:1:1:2]","description":"returns stored keys from session","full_description":"Api::V1::ApiKeysController GET #show when authenticated returns stored keys from session","status":"passed","file_path":"./spec/requests/api/v1/api_keys_controller_spec.rb","line_number":19,"run_time":0.0455821,"pending_message":null},{"id":"./spec/requests/api/v1/api_keys_controller_spec.rb[1:1:2:1]","description":"returns 401 unauthorized","full_description":"Api::V1::ApiKeysController GET #show when not authenticated returns 401 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/api_keys_controller_spec.rb","line_number":40,"run_time":0.0161086,"pending_message":null},{"id":"./spec/requests/api/v1/api_keys_controller_spec.rb[1:2:1:3]","description":"persists keys across requests","full_description":"Api::V1::ApiKeysController PUT #update when authenticated persists keys across requests","status":"passed","file_path":"./spec/requests/api/v1/api_keys_controller_spec.rb","line_number":116,"run_time":0.0351158,"pending_message":null},{"id":"./spec/requests/api/v1/api_keys_controller_spec.rb[1:2:1:4]","description":"allows clearing keys by setting them to empty string","full_description":"Api::V1::ApiKeysController PUT #update when authenticated allows clearing keys by setting them to empty string","status":"passed","file_path":"./spec/requests/api/v1/api_keys_controller_spec.rb","line_number":131,"run_time":0.0443379,"pending_message":null},{"id":"./spec/requests/api/v1/api_keys_controller_spec.rb[1:2:1:1:1]","description":"stores llmApiKey in session","full_description":"Api::V1::ApiKeysController PUT #update when authenticated with direct parameters stores llmApiKey in session","status":"passed","file_path":"./spec/requests/api/v1/api_keys_controller_spec.rb","line_number":52,"run_time":0.0249816,"pending_message":null},{"id":"./spec/requests/api/v1/api_keys_controller_spec.rb[1:2:1:1:2]","description":"updates only llmApiKey when tavilyApiKey is not provided","full_description":"Api::V1::ApiKeysController PUT #update when authenticated with direct parameters updates only llmApiKey when tavilyApiKey is not provided","status":"passed","file_path":"./spec/requests/api/v1/api_keys_controller_spec.rb","line_number":64,"run_time":0.0347057,"pending_message":null},{"id":"./spec/requests/api/v1/api_keys_controller_spec.rb[1:2:1:1:3]","description":"updates only tavilyApiKey when llmApiKey is not provided","full_description":"Api::V1::ApiKeysController PUT #update when authenticated with direct parameters updates only tavilyApiKey when llmApiKey is not provided","status":"passed","file_path":"./spec/requests/api/v1/api_keys_controller_spec.rb","line_number":75,"run_time":0.0281365,"pending_message":null},{"id":"./spec/requests/api/v1/api_keys_controller_spec.rb[1:2:1:2:1]","description":"accepts nested api_keys hash","full_description":"Api::V1::ApiKeysController PUT #update when authenticated with nested parameters accepts nested api_keys hash","status":"passed","file_path":"./spec/requests/api/v1/api_keys_controller_spec.rb","line_number":88,"run_time":0.0301225,"pending_message":null},{"id":"./spec/requests/api/v1/api_keys_controller_spec.rb[1:2:1:2:2]","description":"prefers direct parameters over nested when both are provided","full_description":"Api::V1::ApiKeysController PUT #update when authenticated with nested parameters prefers direct parameters over nested when both are provided","status":"passed","file_path":"./spec/requests/api/v1/api_keys_controller_spec.rb","line_number":102,"run_time":0.0247276,"pending_message":null},{"id":"./spec/requests/api/v1/api_keys_controller_spec.rb[1:2:2:1]","description":"returns 401 unauthorized","full_description":"Api::V1::ApiKeysController PUT #update when not authenticated returns 401 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/api_keys_controller_spec.rb","line_number":152,"run_time":0.0148116,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:1:1:1]","description":"returns only the current user's campaigns","full_description":"Api::V1::CampaignsController GET #index when authenticated returns only the current user's campaigns","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":19,"run_time":0.064241,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:1:1:2]","description":"returns empty array when user has no campaigns","full_description":"Api::V1::CampaignsController GET #index when authenticated returns empty array when user has no campaigns","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":32,"run_time":0.0294526,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:1:2:1]","description":"returns 401 unauthorized","full_description":"Api::V1::CampaignsController GET #index when not authenticated returns 401 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":42,"run_time":0.015681,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:2:1:1:1]","description":"creates a new campaign","full_description":"Api::V1::CampaignsController POST #create when authenticated with valid attributes creates a new campaign","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":54,"run_time":0.0364892,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:2:1:1:2]","description":"associates campaign with current user","full_description":"Api::V1::CampaignsController POST #create when authenticated with valid attributes associates campaign with current user","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":60,"run_time":0.0447332,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:2:1:1:3]","description":"returns the created campaign","full_description":"Api::V1::CampaignsController POST #create when authenticated with valid attributes returns the created campaign","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":68,"run_time":0.0343511,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:2:1:1:4]","description":"converts camelCase to snake_case","full_description":"Api::V1::CampaignsController POST #create when authenticated with valid attributes converts camelCase to snake_case","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":77,"run_time":0.0356925,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:2:1:2:1]","description":"returns 422 with errors when title is missing","full_description":"Api::V1::CampaignsController POST #create when authenticated with invalid attributes returns 422 with errors when title is missing","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":87,"run_time":0.0302878,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:2:1:2:2]","description":"returns 422 with errors when basePrompt is missing","full_description":"Api::V1::CampaignsController POST #create when authenticated with invalid attributes returns 422 with errors when basePrompt is missing","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":101,"run_time":0.0298597,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:2:2:1]","description":"returns 401 unauthorized","full_description":"Api::V1::CampaignsController POST #create when not authenticated returns 401 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":118,"run_time":0.0153987,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:3:1:1:1]","description":"updates the campaign","full_description":"Api::V1::CampaignsController PUT #update when authenticated with valid attributes updates the campaign","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":140,"run_time":0.0466296,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:3:1:1:2]","description":"returns the updated campaign","full_description":"Api::V1::CampaignsController PUT #update when authenticated with valid attributes returns the updated campaign","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":149,"run_time":0.0436048,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:3:1:2:1]","description":"returns 422 with errors","full_description":"Api::V1::CampaignsController PUT #update when authenticated with invalid attributes returns 422 with errors","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":159,"run_time":0.0399256,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:3:1:3:1]","description":"returns 422 unauthorized","full_description":"Api::V1::CampaignsController PUT #update when authenticated when campaign belongs to another user returns 422 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":178,"run_time":0.0529872,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:3:1:4:1]","description":"returns 422","full_description":"Api::V1::CampaignsController PUT #update when authenticated when campaign does not exist returns 422","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":188,"run_time":0.03594,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:3:2:1]","description":"returns 401 unauthorized","full_description":"Api::V1::CampaignsController PUT #update when not authenticated returns 401 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":199,"run_time":0.0318545,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:4:1:1]","description":"destroys the campaign","full_description":"Api::V1::CampaignsController DELETE #destroy when authenticated destroys the campaign","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":212,"run_time":0.0481983,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:4:1:2]","description":"returns 204 no content","full_description":"Api::V1::CampaignsController DELETE #destroy when authenticated returns 204 no content","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":218,"run_time":0.0522867,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:4:1:3]","description":"destroys associated leads","full_description":"Api::V1::CampaignsController DELETE #destroy when authenticated destroys associated leads","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":223,"run_time":0.0647775,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:4:1:4:1]","description":"returns 404 not found","full_description":"Api::V1::CampaignsController DELETE #destroy when authenticated when campaign belongs to another user returns 404 not found","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":234,"run_time":0.0537664,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:4:1:5:1]","description":"returns 404","full_description":"Api::V1::CampaignsController DELETE #destroy when authenticated when campaign does not exist returns 404","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":243,"run_time":0.0388284,"pending_message":null},{"id":"./spec/requests/api/v1/campaigns_controller_spec.rb[1:4:2:1]","description":"returns 401 unauthorized","full_description":"Api::V1::CampaignsController DELETE #destroy when not authenticated returns 401 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/campaigns_controller_spec.rb","line_number":252,"run_time":0.0321919,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:1:1:1]","description":"returns only leads from current user's campaigns","full_description":"Api::V1::LeadsController GET #index when authenticated returns only leads from current user's campaigns","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":24,"run_time":0.0793268,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:1:1:2]","description":"returns empty array when user has no leads","full_description":"Api::V1::LeadsController GET #index when authenticated returns empty array when user has no leads","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":37,"run_time":0.0306082,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:1:2:1]","description":"returns 401 unauthorized","full_description":"Api::V1::LeadsController GET #index when not authenticated returns 401 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":47,"run_time":0.0201479,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:2:1:1:1]","description":"creates a new lead","full_description":"Api::V1::LeadsController POST #create when authenticated with valid attributes creates a new lead","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":59,"run_time":0.0550277,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:2:1:1:2]","description":"associates lead with campaign","full_description":"Api::V1::LeadsController POST #create when authenticated with valid attributes associates lead with campaign","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":65,"run_time":0.0542391,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:2:1:1:3]","description":"returns the created lead","full_description":"Api::V1::LeadsController POST #create when authenticated with valid attributes returns the created lead","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":73,"run_time":0.0458002,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:2:1:1:4]","description":"converts camelCase to snake_case","full_description":"Api::V1::LeadsController POST #create when authenticated with valid attributes converts camelCase to snake_case","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":83,"run_time":0.0481986,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:2:1:1:5]","description":"sets default website from email when not provided","full_description":"Api::V1::LeadsController POST #create when authenticated with valid attributes sets default website from email when not provided","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":90,"run_time":0.0476214,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:2:1:1:6]","description":"sets default stage to queued","full_description":"Api::V1::LeadsController POST #create when authenticated with valid attributes sets default stage to queued","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":100,"run_time":0.0448418,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:2:1:1:7]","description":"sets default quality to \"-\"","full_description":"Api::V1::LeadsController POST #create when authenticated with valid attributes sets default quality to \"-\"","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":107,"run_time":0.0445015,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:2:1:2:1]","description":"returns 422 with errors when name is missing","full_description":"Api::V1::LeadsController POST #create when authenticated with invalid attributes returns 422 with errors when name is missing","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":116,"run_time":0.0387384,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:2:1:2:2]","description":"returns 422 with errors when email is invalid","full_description":"Api::V1::LeadsController POST #create when authenticated with invalid attributes returns 422 with errors when email is invalid","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":127,"run_time":0.0401624,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:2:1:3:1]","description":"returns 422 unauthorized","full_description":"Api::V1::LeadsController POST #create when authenticated when campaign belongs to another user returns 422 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":140,"run_time":0.0500812,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:2:2:1]","description":"returns 401 unauthorized","full_description":"Api::V1::LeadsController POST #create when not authenticated returns 401 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":154,"run_time":0.0317744,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:3:1:1:1]","description":"updates the lead","full_description":"Api::V1::LeadsController PUT #update when authenticated with valid attributes updates the lead","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":178,"run_time":0.0582239,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:3:1:1:2]","description":"returns the updated lead","full_description":"Api::V1::LeadsController PUT #update when authenticated with valid attributes returns the updated lead","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":189,"run_time":0.0530884,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:3:1:2:1]","description":"returns 422 with errors","full_description":"Api::V1::LeadsController PUT #update when authenticated with invalid attributes returns 422 with errors","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":199,"run_time":0.0445573,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:3:1:3:1]","description":"returns 422 unauthorized","full_description":"Api::V1::LeadsController PUT #update when authenticated when lead belongs to another user's campaign returns 422 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":214,"run_time":0.0680267,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:3:1:4:1]","description":"returns 422","full_description":"Api::V1::LeadsController PUT #update when authenticated when lead does not exist returns 422","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":224,"run_time":0.0415756,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:3:2:1]","description":"returns 401 unauthorized","full_description":"Api::V1::LeadsController PUT #update when not authenticated returns 401 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":235,"run_time":0.0361369,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:4:1:1]","description":"destroys the lead","full_description":"Api::V1::LeadsController DELETE #destroy when authenticated destroys the lead","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":248,"run_time":0.0501578,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:4:1:2]","description":"returns 204 no content","full_description":"Api::V1::LeadsController DELETE #destroy when authenticated returns 204 no content","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":254,"run_time":0.0469557,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:4:1:3:1]","description":"returns 404 not found","full_description":"Api::V1::LeadsController DELETE #destroy when authenticated when lead belongs to another user's campaign returns 404 not found","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":262,"run_time":0.0681367,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:4:1:4:1]","description":"returns 404","full_description":"Api::V1::LeadsController DELETE #destroy when authenticated when lead does not exist returns 404","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":271,"run_time":0.0427112,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:4:2:1]","description":"returns 401 unauthorized","full_description":"Api::V1::LeadsController DELETE #destroy when not authenticated returns 401 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":280,"run_time":0.0369776,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:5:1:1:1]","description":"returns success status","full_description":"Api::V1::LeadsController POST #run_agents when authenticated with valid API keys in session returns success status","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":294,"run_time":0.087233,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:5:1:1:2]","description":"creates agent output for the next agent","full_description":"Api::V1::LeadsController POST #run_agents when authenticated with valid API keys in session creates agent output for the next agent","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":324,"run_time":0.0965046,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:5:1:1:3]","description":"updates lead stage to next stage","full_description":"Api::V1::LeadsController POST #run_agents when authenticated with valid API keys in session updates lead stage to next stage","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":351,"run_time":0.0831735,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:5:1:2:1]","description":"returns 422 with error message","full_description":"Api::V1::LeadsController POST #run_agents when authenticated when API keys are missing returns 422 with error message","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":381,"run_time":0.0450194,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:5:1:3:1]","description":"returns 404 not found","full_description":"Api::V1::LeadsController POST #run_agents when authenticated when lead belongs to another user returns 404 not found","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":394,"run_time":0.0691201,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:5:1:4:1]","description":"returns 404 not found","full_description":"Api::V1::LeadsController POST #run_agents when authenticated when lead does not exist returns 404 not found","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":404,"run_time":0.0416499,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:5:2:1]","description":"returns 401 unauthorized","full_description":"Api::V1::LeadsController POST #run_agents when not authenticated returns 401 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":413,"run_time":0.0351363,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:6:1:1:1]","description":"returns all agent outputs for the lead","full_description":"Api::V1::LeadsController GET #agent_outputs when authenticated when lead has agent outputs returns all agent outputs for the lead","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":430,"run_time":0.0552928,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:6:1:1:2]","description":"includes output data in the response","full_description":"Api::V1::LeadsController GET #agent_outputs when authenticated when lead has agent outputs includes output data in the response","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":440,"run_time":0.0561335,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:6:1:2:1]","description":"returns empty outputs array","full_description":"Api::V1::LeadsController GET #agent_outputs when authenticated when lead has no agent outputs returns empty outputs array","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":450,"run_time":0.0419108,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:6:1:3:1]","description":"returns 404 not found","full_description":"Api::V1::LeadsController GET #agent_outputs when authenticated when lead belongs to another user returns 404 not found","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":463,"run_time":0.0631042,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:6:1:4:1]","description":"returns 404 not found","full_description":"Api::V1::LeadsController GET #agent_outputs when authenticated when lead does not exist returns 404 not found","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":473,"run_time":0.0384296,"pending_message":null},{"id":"./spec/requests/api/v1/leads_controller_spec.rb[1:6:2:1]","description":"returns 401 unauthorized","full_description":"Api::V1::LeadsController GET #agent_outputs when not authenticated returns 401 unauthorized","status":"passed","file_path":"./spec/requests/api/v1/leads_controller_spec.rb","line_number":482,"run_time":0.041394,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:1:1:1]","description":"loads (HTML) and executes controller logic","full_description":"CampaignsController GET /campaigns (index) when authenticated loads (HTML) and executes controller logic","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":54,"run_time":0.0534709,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:1:1:2]","description":"loads (JSON) and does not redirect","full_description":"CampaignsController GET /campaigns (index) when authenticated loads (JSON) and does not redirect","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":65,"run_time":0.5212676,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:1:2:1]","description":"redirects for HTML","full_description":"CampaignsController GET /campaigns (index) when not authenticated redirects for HTML","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":75,"run_time":0.0297739,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:1:2:2]","description":"returns 401 for JSON (Devise behavior)","full_description":"CampaignsController GET /campaigns (index) when not authenticated returns 401 for JSON (Devise behavior)","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":80,"run_time":0.0224284,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:1:3:1]","description":"allows access without login and no redirect","full_description":"CampaignsController GET /campaigns (index) with DISABLE_AUTH enabled allows access without login and no redirect","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":87,"run_time":0.0414354,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:2:1:1]","description":"loads own campaign (HTML)","full_description":"CampaignsController GET /campaigns/:id (show) when authenticated loads own campaign (HTML)","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":101,"run_time":0.4963116,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:2:1:2]","description":"loads with JSON as well","full_description":"CampaignsController GET /campaigns/:id (show) when authenticated loads with JSON as well","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":107,"run_time":0.038826,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:2:1:3]","description":"handles someone else's campaign safely (no crash)","full_description":"CampaignsController GET /campaigns/:id (show) when authenticated handles someone else's campaign safely (no crash)","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":112,"run_time":0.5318162,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:2:1:4]","description":"handles non-existent campaign safely (no crash)","full_description":"CampaignsController GET /campaigns/:id (show) when authenticated handles non-existent campaign safely (no crash)","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":120,"run_time":0.4940458,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:2:2:1]","description":"redirects to login (HTML)","full_description":"CampaignsController GET /campaigns/:id (show) when not authenticated redirects to login (HTML)","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":129,"run_time":0.0359029,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:2:3:1]","description":"responds without redirect even when not signed in","full_description":"CampaignsController GET /campaigns/:id (show) with DISABLE_AUTH enabled responds without redirect even when not signed in","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":136,"run_time":0.495704,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:3:1:1]","description":"creates an admin bootstrap user if missing and does not duplicate on repeat","full_description":"CampaignsController skip_auth? / current_user bootstrap (DISABLE_AUTH) when DISABLE_AUTH is true creates an admin bootstrap user if missing and does not duplicate on repeat","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":149,"run_time":0.0629045,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:3:1:2]","description":"reuses an existing admin user","full_description":"CampaignsController skip_auth? / current_user bootstrap (DISABLE_AUTH) when DISABLE_AUTH is true reuses an existing admin user","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":160,"run_time":0.0417136,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:3:1:3]","description":"never redirects on index","full_description":"CampaignsController skip_auth? / current_user bootstrap (DISABLE_AUTH) when DISABLE_AUTH is true never redirects on index","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":168,"run_time":0.0413828,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:3:2:1]","description":"does not create admin bootstrap user implicitly","full_description":"CampaignsController skip_auth? / current_user bootstrap (DISABLE_AUTH) when DISABLE_AUTH is false/unset does not create admin bootstrap user implicitly","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":176,"run_time":0.0239942,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:3:2:2]","description":"uses the signed-in user normally","full_description":"CampaignsController skip_auth? / current_user bootstrap (DISABLE_AUTH) when DISABLE_AUTH is false/unset uses the signed-in user normally","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":184,"run_time":0.0369608,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:4:1:1]","description":"handles an id that looks numeric but is not, safely","full_description":"CampaignsController edge cases \u0026 robustness when authenticated handles an id that looks numeric but is not, safely","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":198,"run_time":0.474765,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:4:1:2]","description":"ignores extraneous params safely","full_description":"CampaignsController edge cases \u0026 robustness when authenticated ignores extraneous params safely","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":205,"run_time":0.0320982,"pending_message":null},{"id":"./spec/requests/campaigns_controller_spec.rb[1:4:2:1]","description":"still ignores junk params and responds OK","full_description":"CampaignsController edge cases \u0026 robustness with DISABLE_AUTH enabled still ignores junk params and responds OK","status":"passed","file_path":"./spec/requests/campaigns_controller_spec.rb","line_number":213,"run_time":0.0333111,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:1:1]","description":"runs only the SEARCH agent for a queued lead","full_description":"LeadAgentService.run_agents_for_lead with valid API keys and successful agent execution runs only the SEARCH agent for a queued lead","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":34,"run_time":0.053355,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:1:2]","description":"creates agent output for the next agent","full_description":"LeadAgentService.run_agents_for_lead with valid API keys and successful agent execution creates agent output for the next agent","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":45,"run_time":0.0630035,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:1:3]","description":"updates lead stage from queued to searched after running SEARCH","full_description":"LeadAgentService.run_agents_for_lead with valid API keys and successful agent execution updates lead stage from queued to searched after running SEARCH","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":58,"run_time":0.0553463,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:1:4]","description":"does not update quality for SEARCH agent","full_description":"LeadAgentService.run_agents_for_lead with valid API keys and successful agent execution does not update quality for SEARCH agent","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":67,"run_time":0.0597235,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:1:5]","description":"runs WRITER agent for a searched lead","full_description":"LeadAgentService.run_agents_for_lead with valid API keys and successful agent execution runs WRITER agent for a searched lead","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":76,"run_time":0.0688756,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:1:6]","description":"updates quality after running CRITIQUE agent","full_description":"LeadAgentService.run_agents_for_lead with valid API keys and successful agent execution updates quality after running CRITIQUE agent","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":86,"run_time":0.0762554,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:1:7]","description":"passes search output to writer agent","full_description":"LeadAgentService.run_agents_for_lead with valid API keys and successful agent execution passes search output to writer agent","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":97,"run_time":0.0701526,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:1:8]","description":"passes writer output to critique agent","full_description":"LeadAgentService.run_agents_for_lead with valid API keys and successful agent execution passes writer output to critique agent","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":118,"run_time":0.0817895,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:2:1]","description":"returns failed status with error message","full_description":"LeadAgentService.run_agents_for_lead when API keys are missing returns failed status with error message","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":144,"run_time":0.0244199,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:2:2]","description":"does not create any agent outputs","full_description":"LeadAgentService.run_agents_for_lead when API keys are missing does not create any agent outputs","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":152,"run_time":0.0293394,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:2:3]","description":"does not update lead stage","full_description":"LeadAgentService.run_agents_for_lead when API keys are missing does not update lead stage","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":158,"run_time":0.0335571,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:3:1]","description":"does not advance stage when an agent fails","full_description":"LeadAgentService.run_agents_for_lead when an agent fails does not advance stage when an agent fails","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":172,"run_time":0.0486647,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:3:2]","description":"stores error in agent output","full_description":"LeadAgentService.run_agents_for_lead when an agent fails stores error in agent output","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":182,"run_time":0.0541621,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:3:3]","description":"does not advance stage when SEARCH fails","full_description":"LeadAgentService.run_agents_for_lead when an agent fails does not advance stage when SEARCH fails","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":192,"run_time":0.0514635,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:4:1]","description":"skips disabled agents and advances stage","full_description":"LeadAgentService.run_agents_for_lead when agent config is disabled skips disabled agents and advances stage","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":208,"run_time":0.0454599,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:4:2]","description":"advances stage even when agent is disabled","full_description":"LeadAgentService.run_agents_for_lead when agent config is disabled advances stage even when agent is disabled","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":215,"run_time":0.0474105,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:4:3]","description":"does not create output for disabled agent","full_description":"LeadAgentService.run_agents_for_lead when agent config is disabled does not create output for disabled agent","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":222,"run_time":0.0475264,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:5:1]","description":"creates default config for SEARCH agent when not exists","full_description":"LeadAgentService.run_agents_for_lead agent config retrieval creates default config for SEARCH agent when not exists","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":231,"run_time":0.186843,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:5:2]","description":"uses existing configs when available","full_description":"LeadAgentService.run_agents_for_lead agent config retrieval uses existing configs when available","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":239,"run_time":0.2019166,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:6:1]","description":"returns status, outputs, lead, and agent lists","full_description":"LeadAgentService.run_agents_for_lead return format returns status, outputs, lead, and agent lists","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":254,"run_time":0.137267,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:6:2]","description":"outputs hash contains only the executed agent result","full_description":"LeadAgentService.run_agents_for_lead return format outputs hash contains only the executed agent result","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":264,"run_time":0.063594,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:6:3]","description":"returns updated lead with current attributes","full_description":"LeadAgentService.run_agents_for_lead return format returns updated lead with current attributes","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":275,"run_time":0.0586742,"pending_message":null},{"id":"./spec/services/lead_agent_service_spec.rb[1:1:6:4]","description":"returns completed status when lead is already at final stage","full_description":"LeadAgentService.run_agents_for_lead return format returns completed status when lead is already at final stage","status":"passed","file_path":"./spec/services/lead_agent_service_spec.rb","line_number":282,"run_time":0.0335228,"pending_message":null}],"summary":{"duration":20.8015614,"example_count":287,"failure_count":0,"pending_count":0,"errors_outside_of_examples_count":0},"summary_line":"287 examples, 0 failures"}