[
  {
    "id": "agent-configuration-management",
    "uri": "features/agent_config_management.feature",
    "keyword": "Feature",
    "name": "Agent Configuration Management",
    "description": "  As an authenticated user\n  I want to manage agent configurations for my campaigns\n  So that I can customize agent behavior",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 49456000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 415000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 140000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "agent-configuration-management;list-agent-configs-for-a-campaign",
        "keyword": "Scenario",
        "name": "List agent configs for a campaign",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Config Test\" exists for me",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 13679000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 73208000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 12,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 526000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"configs\"",
            "line": 13,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 483000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 231000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6420000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 140000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "agent-configuration-management;get-a-specific-agent-config",
        "keyword": "Scenario",
        "name": "Get a specific agent config",
        "description": "",
        "line": 15,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Config Test\" exists for me",
            "line": 16,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3791000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"SEARCH\" agent config",
            "line": 17,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 5368000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs/#{@agent_config.id}\"",
            "line": 18,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 12747000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 19,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"agentName\" with \"SEARCH\"",
            "line": 20,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5939000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 131000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "agent-configuration-management;create-a-new-agent-config",
        "keyword": "Scenario",
        "name": "Create a new agent config",
        "description": "",
        "line": 22,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Config Test\" exists for me",
            "line": 23,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2366000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs\" with JSON:",
            "line": 24,
            "doc_string": {
              "value": "{\"agent_config\": {\"agent_name\": \"SEARCH\", \"enabled\": true, \"settings\": {\"search_depth\": \"advanced\"}}}",
              "content_type": "",
              "line": 25
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 9062000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 201",
            "line": 28,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"agentName\" with \"SEARCH\"",
            "line": 29,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6448000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 137000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "agent-configuration-management;update-agent-config-settings",
        "keyword": "Scenario",
        "name": "Update agent config settings",
        "description": "",
        "line": 31,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Config Test\" exists for me",
            "line": 32,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2330000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"WRITER\" agent config",
            "line": 33,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 1460000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs/#{@agent_config.id}\" with JSON:",
            "line": 34,
            "doc_string": {
              "value": "{\"agent_config\": {\"enabled\": false, \"settings\": {\"email_length\": \"long\"}}}",
              "content_type": "",
              "line": 35
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 18754000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 38,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"enabled\" with false",
            "line": 39,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1119"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9485000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 310000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "id": "agent-configuration-management;delete-an-agent-config",
        "keyword": "Scenario",
        "name": "Delete an agent config",
        "description": "",
        "line": 41,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Config Test\" exists for me",
            "line": 42,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 8449000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"CRITIQUE\" agent config",
            "line": 43,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 3803000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a DELETE request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs/#{@agent_config.id}\"",
            "line": 44,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 13553000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 204",
            "line": 45,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6980000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 136000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "agent-configuration-management;cannot-create-duplicate-agent-config",
        "keyword": "Scenario",
        "name": "Cannot create duplicate agent config",
        "description": "",
        "line": 47,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Config Test\" exists for me",
            "line": 48,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3476000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"SEARCH\" agent config",
            "line": 49,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 2013000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs\" with JSON:",
            "line": 50,
            "doc_string": {
              "value": "{\"agent_config\": {\"agent_name\": \"SEARCH\", \"enabled\": true}}",
              "content_type": "",
              "line": 51
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 2183000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 54,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7829000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "agent-configuration-management;cannot-create-config-with-invalid-agent-name",
        "keyword": "Scenario",
        "name": "Cannot create config with invalid agent name",
        "description": "",
        "line": 56,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Config Test\" exists for me",
            "line": 57,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2042000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs\" with JSON:",
            "line": 58,
            "doc_string": {
              "value": "{\"agent_config\": {\"agent_name\": \"INVALID\", \"enabled\": true}}",
              "content_type": "",
              "line": 59
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 9730000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 62,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 149000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8005000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 146000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "agent-configuration-management;cannot-access-agent-configs-for-another-user's-campaign",
        "keyword": "Scenario",
        "name": "Cannot access agent configs for another user's campaign",
        "description": "",
        "line": 64,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"My Campaign\" exists for me",
            "line": 65,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5084000
            }
          },
          {
            "keyword": "And ",
            "name": "there is another user with a separate campaign",
            "line": 66,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5417000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/campaigns/#{@other_campaign.id}/agent_configs\"",
            "line": 67,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 4170000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 404",
            "line": 68,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7692000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 137000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "agent-configuration-management;update-agent-config-with-invalid-settings-structure",
        "keyword": "Scenario",
        "name": "Update agent config with invalid settings structure",
        "description": "",
        "line": 70,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Config Test\" exists for me",
            "line": 71,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 8099000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"WRITER\" agent config",
            "line": 72,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 4301000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs/#{@agent_config.id}\" with JSON:",
            "line": 73,
            "doc_string": {
              "value": "{\"agent_config\": {\"settings\": {\"invalid_setting\": \"value\"}}}",
              "content_type": "",
              "line": 74
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 8930000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 77,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"agentName\"",
            "line": 78,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12288000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 139000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "agent-configuration-management;delete-non-existent-agent-config",
        "keyword": "Scenario",
        "name": "Delete non-existent agent config",
        "description": "",
        "line": 80,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Config Test\" exists for me",
            "line": 81,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4327000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a DELETE request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs/99999\"",
            "line": 82,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 7473000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 404",
            "line": 83,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8854000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 139000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "id": "agent-configuration-management;create-agent-config-with-nested-settings-parameters",
        "keyword": "Scenario",
        "name": "Create agent config with nested settings parameters",
        "description": "",
        "line": 85,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Config Test\" exists for me",
            "line": 86,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2220000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs\" with JSON:",
            "line": 87,
            "doc_string": {
              "value": "{\"agent_config\": {\"agent_name\": \"CRITIQUE\", \"enabled\": true, \"settings\": {\"strictness\": \"high\", \"checks\": {\"personalization\": true, \"brand_voice\": false}}}}",
              "content_type": "",
              "line": 88
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 9386000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 201",
            "line": 91,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 89000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"agentName\" with \"CRITIQUE\"",
            "line": 92,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 63000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 62000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9125000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 388000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 140000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "agent-configuration-management;create-agent-config-with-empty-settings",
        "keyword": "Scenario",
        "name": "Create agent config with empty settings",
        "description": "",
        "line": 94,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Config Test\" exists for me",
            "line": 95,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6141000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs\" with JSON:",
            "line": 96,
            "doc_string": {
              "value": "{\"agent_config\": {\"agent_name\": \"DESIGN\", \"enabled\": true, \"settings\": {}}}",
              "content_type": "",
              "line": 97
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 28758000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 201",
            "line": 100,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 91000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"agentName\" with \"DESIGN\"",
            "line": 101,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 84000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12393000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 65000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 153000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "id": "agent-configuration-management;create-agent-config-with-missing-required-parameters-returns-error",
        "keyword": "Scenario",
        "name": "Create agent config with missing required parameters returns error",
        "description": "",
        "line": 103,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Config Test\" exists for me",
            "line": 104,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3624000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs\" with JSON:",
            "line": 105,
            "doc_string": {
              "value": "{}",
              "content_type": "",
              "line": 106
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 5697000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 109,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "agent-execution-workflow",
    "uri": "features/agent_execution_workflow.feature",
    "keyword": "Feature",
    "name": "Agent Execution Workflow",
    "description": "  As an authenticated user\n  I want to run agents on leads\n  So that I can generate personalized emails",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9322000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3146000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 153000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "agent-execution-workflow;run-agents-on-a-lead-with-all-agents-enabled",
        "keyword": "Scenario",
        "name": "Run agents on a lead with all agents enabled",
        "description": "",
        "line": 10,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Agent Test\" exists for me",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2185000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 14938000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"queued\"",
            "line": 13,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1704000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has agent configs for \"SEARCH\", \"WRITER\", \"CRITIQUE\", and \"DESIGN\"",
            "line": 14,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:63"
            },
            "result": {
              "status": "passed",
              "duration": 4906000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents\"",
            "line": 15,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 345765000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 16,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"status\"",
            "line": 17,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 61000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"outputs\"",
            "line": 18,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12849000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3785000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 63000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 283000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "agent-execution-workflow;run-agents-progresses-through-design-stage",
        "keyword": "Scenario",
        "name": "Run agents progresses through DESIGN stage",
        "description": "",
        "line": 20,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Agent Test\" exists for me",
            "line": 21,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3767000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 22,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 6991000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 23,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2946000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"CRITIQUE\" agent output with email content",
            "line": 24,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 2225000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"DESIGN\" agent config",
            "line": 25,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 2426000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN agent will return formatted email",
            "line": 26,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:978"
            },
            "result": {
              "status": "passed",
              "duration": 9058000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents\"",
            "line": 27,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 88926000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 28,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 68000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead stage should be \"designed\"",
            "line": 29,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1192"
            },
            "result": {
              "status": "passed",
              "duration": 829000
            }
          },
          {
            "keyword": "And ",
            "name": "the outputs should include \"DESIGN\"",
            "line": 30,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1083"
            },
            "result": {
              "status": "passed",
              "duration": 76000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 93000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 111000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 33942000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 5073000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 253000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 524000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          }
        ]
      },
      {
        "id": "agent-execution-workflow;run-agents-with-design-agent-disabled-skips-to-designed",
        "keyword": "Scenario",
        "name": "Run agents with DESIGN agent disabled skips to designed",
        "description": "",
        "line": 32,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Agent Test\" exists for me",
            "line": 33,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5599000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 34,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 6598000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 35,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2639000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"DESIGN\" agent config that is disabled",
            "line": 36,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:74"
            },
            "result": {
              "status": "passed",
              "duration": 3023000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents\"",
            "line": 37,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 23377000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 38,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead stage should be \"designed\"",
            "line": 39,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1192"
            },
            "result": {
              "status": "passed",
              "duration": 5282000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11211000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 7658000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 59000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 257000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 779000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 35000
            }
          }
        ]
      },
      {
        "id": "agent-execution-workflow;design-agent-formats-email-with-markdown",
        "keyword": "Scenario",
        "name": "DESIGN agent formats email with markdown",
        "description": "",
        "line": 41,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Agent Test\" exists for me",
            "line": 42,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 8645000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 43,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 34953000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 44,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 6614000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"CRITIQUE\" agent output with email content",
            "line": 45,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 3857000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"DESIGN\" agent config",
            "line": 46,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 5290000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN agent will return formatted email",
            "line": 47,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:978"
            },
            "result": {
              "status": "passed",
              "duration": 817000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents\"",
            "line": 48,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 106097000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 49,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN output should include formatted email",
            "line": 50,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1096"
            },
            "result": {
              "status": "passed",
              "duration": 3297000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 86000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 136000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 17460000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 6777000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 86000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 425000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          }
        ]
      },
      {
        "id": "agent-execution-workflow;run-agents-progresses-lead-through-stages",
        "keyword": "Scenario",
        "name": "Run agents progresses lead through stages",
        "description": "",
        "line": 52,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Agent Test\" exists for me",
            "line": 53,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3888000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 54,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3932000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"queued\"",
            "line": 55,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1147000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents\"",
            "line": 56,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 214328000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 57,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead stage should be \"searched\"",
            "line": 58,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1192"
            },
            "result": {
              "status": "passed",
              "duration": 618000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8570000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4710000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "agent-execution-workflow;run-agents-fails-when-api-keys-are-missing",
        "keyword": "Scenario",
        "name": "Run agents fails when API keys are missing",
        "description": "",
        "line": 60,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Agent Test\" exists for me",
            "line": 61,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2842000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 62,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2778000
            }
          },
          {
            "keyword": "And ",
            "name": "I do not have API keys configured",
            "line": 63,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:120"
            },
            "result": {
              "status": "passed",
              "duration": 3340000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents\"",
            "line": 64,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 24705000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 65,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"error\"",
            "line": 66,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 65000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7915000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2851000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 155000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 71000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 624000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 102000
            }
          }
        ]
      },
      {
        "id": "agent-execution-workflow;run-agents-on-lead-that-already-completed",
        "keyword": "Scenario",
        "name": "Run agents on lead that already completed",
        "description": "",
        "line": 68,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Agent Test\" exists for me",
            "line": 69,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2498000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 70,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4834000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"completed\"",
            "line": 71,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2615000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents\"",
            "line": 72,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 21496000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 73,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"status\" with \"completed\"",
            "line": 74,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10951000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 5992000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 180000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "agent-execution-workflow;run-agents-with-disabled-agent-skips-that-agent",
        "keyword": "Scenario",
        "name": "Run agents with disabled agent skips that agent",
        "description": "",
        "line": 76,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Agent Test\" exists for me",
            "line": 77,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6713000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 78,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 6652000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"SEARCH\" agent config that is disabled",
            "line": 79,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:74"
            },
            "result": {
              "status": "passed",
              "duration": 2616000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents\"",
            "line": 80,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 162219000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 81,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 64000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead stage should advance past \"searched\"",
            "line": 82,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1202"
            },
            "result": {
              "status": "passed",
              "duration": 1294000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 66000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 29587000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 8918000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 368000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1913000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          }
        ]
      },
      {
        "id": "agent-execution-workflow;run-agents-stores-outputs-for-each-agent",
        "keyword": "Scenario",
        "name": "Run agents stores outputs for each agent",
        "description": "",
        "line": 84,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Agent Test\" exists for me",
            "line": 85,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 7363000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 86,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 9562000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents\"",
            "line": 87,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 320718000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 88,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead should have agent outputs stored",
            "line": 89,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1078"
            },
            "result": {
              "status": "passed",
              "duration": 3675000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7721000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4772000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 202000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          }
        ]
      },
      {
        "id": "agent-execution-workflow;run-agents-handles-agent-execution-errors-gracefully",
        "keyword": "Scenario",
        "name": "Run agents handles agent execution errors gracefully",
        "description": "",
        "line": 91,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Agent Test\" exists for me",
            "line": 92,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4107000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 93,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4420000
            }
          },
          {
            "keyword": "And ",
            "name": "the API service is unavailable",
            "line": 94,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:881"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents\"",
            "line": 95,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 261061000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 96,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"failedAgents\"",
            "line": 97,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7701000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2309000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 153000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "agent-execution-workflow;run-agents-with-async=true-enqueues-job",
        "keyword": "Scenario",
        "name": "Run agents with async=true enqueues job",
        "description": "",
        "line": 99,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Agent Test\" exists for me",
            "line": 100,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2397000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 101,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3770000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has agent configs for \"SEARCH\", \"WRITER\", \"CRITIQUE\", and \"DESIGN\"",
            "line": 102,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:63"
            },
            "result": {
              "status": "passed",
              "duration": 4969000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents?async=true\"",
            "line": 103,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 17385000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 202",
            "line": 104,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"status\" with \"queued\"",
            "line": 105,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"jobId\"",
            "line": 106,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 101000
            }
          },
          {
            "keyword": "And ",
            "name": "an AgentExecutionJob should be enqueued",
            "line": 107,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:301"
            },
            "result": {
              "status": "passed",
              "duration": 200000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5921000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2294000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 150000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "agent-execution-workflow;run-agents-with-async=false-runs-synchronously",
        "keyword": "Scenario",
        "name": "Run agents with async=false runs synchronously",
        "description": "",
        "line": 109,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Agent Test\" exists for me",
            "line": 110,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3211000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 111,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4011000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has agent configs for \"SEARCH\", \"WRITER\", \"CRITIQUE\", and \"DESIGN\"",
            "line": 112,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:63"
            },
            "result": {
              "status": "passed",
              "duration": 6496000
            }
          },
          {
            "keyword": "And ",
            "name": "the Orchestrator is configured",
            "line": 113,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1268"
            },
            "result": {
              "status": "passed",
              "duration": 2050000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents?async=false\"",
            "line": 114,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 24920000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 115,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"status\"",
            "line": 116,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "keyword": "And ",
            "name": "no jobs should be enqueued",
            "line": 117,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:406"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead should have agent outputs stored",
            "line": 118,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1078"
            },
            "result": {
              "status": "passed",
              "duration": 1164000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 67000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5701000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 1862000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 150000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "agent-execution-workflow;run-agents-async-handles-job-enqueue-failure",
        "keyword": "Scenario",
        "name": "Run agents async handles job enqueue failure",
        "description": "",
        "line": 120,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Agent Test\" exists for me",
            "line": 121,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2227000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 122,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2389000
            }
          },
          {
            "keyword": "And ",
            "name": "job enqueueing will fail",
            "line": 123,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:147"
            },
            "result": {
              "status": "passed",
              "duration": 504000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents?async=true\"",
            "line": 124,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 7805000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 500",
            "line": 125,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"error\"",
            "line": 126,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "retrieve-agent-outputs-for-a-lead",
    "uri": "features/agent_outputs.feature",
    "keyword": "Feature",
    "name": "Retrieve agent outputs for a lead",
    "description": "  As an authenticated user\n  I want to view agent outputs for a lead\n  So that I can review generated content",
    "line": 1,
    "elements": [
      {
        "id": "retrieve-agent-outputs-for-a-lead;get-agent-outputs-list",
        "keyword": "Scenario",
        "name": "Get agent outputs list",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 10374000
            }
          },
          {
            "keyword": "And ",
            "name": "a \"WRITER\" agent output exists for the lead",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1361000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/leads/#{@lead.id}/agent_outputs\"",
            "line": 9,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 8219000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 10,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"outputs\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 163000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "agent-outputs-management",
    "uri": "features/agent_outputs_comprehensive.feature",
    "keyword": "Feature",
    "name": "Agent Outputs Management",
    "description": "  As an authenticated user\n  I want to view and manage agent outputs\n  So that I can review and edit generated content",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7330000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 59000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1132000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "id": "agent-outputs-management;get-all-agent-outputs-for-a-lead",
        "keyword": "Scenario",
        "name": "Get all agent outputs for a lead",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 5102000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1198000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1005000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"CRITIQUE\" agent output",
            "line": 13,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1679000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/leads/#{@lead.id}/agent_outputs\"",
            "line": 14,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 9755000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 15,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 97000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"outputs\"",
            "line": 16,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 85000
            }
          },
          {
            "keyword": "And ",
            "name": "the outputs should include \"SEARCH\"",
            "line": 17,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1083"
            },
            "result": {
              "status": "passed",
              "duration": 93000
            }
          },
          {
            "keyword": "And ",
            "name": "the outputs should include \"WRITER\"",
            "line": 18,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1083"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "keyword": "And ",
            "name": "the outputs should include \"CRITIQUE\"",
            "line": 19,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1083"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 102000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11710000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 74000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 229000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          }
        ]
      },
      {
        "id": "agent-outputs-management;get-agent-outputs-for-lead-with-no-outputs",
        "keyword": "Scenario",
        "name": "Get agent outputs for lead with no outputs",
        "description": "",
        "line": 21,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 22,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 5050000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/leads/#{@lead.id}/agent_outputs\"",
            "line": 23,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 6417000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 24,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"outputs\"",
            "line": 25,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "keyword": "And ",
            "name": "the outputs array should be empty",
            "line": 26,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1105"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5394000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 337000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "agent-outputs-management;update-design-agent-output",
        "keyword": "Scenario",
        "name": "Update DESIGN agent output",
        "description": "",
        "line": 28,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 29,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 7562000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output",
            "line": 30,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1889000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/leads/#{@lead.id}/update_agent_output\" with JSON:",
            "line": 31,
            "doc_string": {
              "value": "{\"agentName\": \"DESIGN\", \"content\": \"Updated formatted email content\"}",
              "content_type": "",
              "line": 32
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 15440000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 35,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 409000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"outputData\"",
            "line": 36,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7865000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 75000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 433000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          }
        ]
      },
      {
        "id": "agent-outputs-management;cannot-update-agent-output-for-another-user's-lead",
        "keyword": "Scenario",
        "name": "Cannot update agent output for another user's lead",
        "description": "",
        "line": 38,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 39,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3815000
            }
          },
          {
            "keyword": "And ",
            "name": "there is another user with a separate campaign",
            "line": 40,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6340000
            }
          },
          {
            "keyword": "And ",
            "name": "the other user has a lead",
            "line": 41,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:934"
            },
            "result": {
              "status": "passed",
              "duration": 2477000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/leads/#{@other_lead.id}/update_agent_output\" with JSON:",
            "line": 42,
            "doc_string": {
              "value": "{\"agentName\": \"WRITER\", \"content\": \"Hacked content\"}",
              "content_type": "",
              "line": 43
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 6649000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 404",
            "line": 46,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 60000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7927000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 77000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 476000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ]
      },
      {
        "id": "agent-outputs-management;update-agent-output-with-invalid-agent-name",
        "keyword": "Scenario",
        "name": "Update agent output with invalid agent name",
        "description": "",
        "line": 48,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 49,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 5539000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/leads/#{@lead.id}/update_agent_output\" with JSON:",
            "line": 50,
            "doc_string": {
              "value": "{\"agentName\": \"INVALID\", \"content\": \"Test\"}",
              "content_type": "",
              "line": 51
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 4843000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 54,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7738000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 149000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "agent-outputs-management;get-agent-outputs-includes-output-data",
        "keyword": "Scenario",
        "name": "Get agent outputs includes output data",
        "description": "",
        "line": 56,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 57,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 5352000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 58,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1185000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/leads/#{@lead.id}/agent_outputs\"",
            "line": 59,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 7176000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 60,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER output should include \"email\" in outputData",
            "line": 61,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1111"
            },
            "result": {
              "status": "passed",
              "duration": 77000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6190000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 152000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "agent-outputs-management;agent-output-with-completed-status-returns-true-for-completed?",
        "keyword": "Scenario",
        "name": "Agent output with completed status returns true for completed?",
        "description": "",
        "line": 63,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 64,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3471000
            }
          },
          {
            "keyword": "And ",
            "name": "a \"SEARCH\" agent output exists for the lead with status \"completed\"",
            "line": 65,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1229"
            },
            "result": {
              "status": "passed",
              "duration": 1549000
            }
          },
          {
            "keyword": "Then ",
            "name": "the agent output should be completed",
            "line": 66,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1237"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "keyword": "And ",
            "name": "the agent output should not be failed",
            "line": 67,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1257"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "keyword": "And ",
            "name": "the agent output should not be pending",
            "line": 68,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1262"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6485000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 154000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "agent-outputs-management;agent-output-with-failed-status-returns-true-for-failed?",
        "keyword": "Scenario",
        "name": "Agent output with failed status returns true for failed?",
        "description": "",
        "line": 70,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 71,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3897000
            }
          },
          {
            "keyword": "And ",
            "name": "a \"WRITER\" agent output exists for the lead with status \"failed\"",
            "line": 72,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1229"
            },
            "result": {
              "status": "passed",
              "duration": 1426000
            }
          },
          {
            "keyword": "Then ",
            "name": "the agent output should be failed",
            "line": 73,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1242"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "keyword": "And ",
            "name": "the agent output should not be completed",
            "line": 74,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1252"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "keyword": "And ",
            "name": "the agent output should not be pending",
            "line": 75,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1262"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5703000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 142000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "agent-outputs-management;agent-output-with-pending-status-returns-true-for-pending?",
        "keyword": "Scenario",
        "name": "Agent output with pending status returns true for pending?",
        "description": "",
        "line": 77,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 78,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3471000
            }
          },
          {
            "keyword": "And ",
            "name": "a \"CRITIQUE\" agent output exists for the lead with status \"pending\"",
            "line": 79,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1229"
            },
            "result": {
              "status": "passed",
              "duration": 1256000
            }
          },
          {
            "keyword": "Then ",
            "name": "the agent output should be pending",
            "line": 80,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1247"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          },
          {
            "keyword": "And ",
            "name": "the agent output should not be completed",
            "line": 81,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1252"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "keyword": "And ",
            "name": "the agent output should not be failed",
            "line": 82,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1257"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "manage-api-keys-via-session",
    "uri": "features/api_keys_management.feature",
    "keyword": "Feature",
    "name": "Manage API keys via session",
    "description": "  As an authenticated user\n  I want to save and retrieve my API keys\n  So that agents can use them",
    "line": 1,
    "elements": [
      {
        "id": "manage-api-keys-via-session;update-and-read-api-keys",
        "keyword": "Scenario",
        "name": "Update and read API keys",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5879000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/api_keys\" with JSON:",
            "line": 8,
            "doc_string": {
              "value": "{\"llmApiKey\": \"LLM-123\", \"tavilyApiKey\": \"TAV-456\"}",
              "content_type": "",
              "line": 9
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 7356000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 12,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"llmApiKey\" with \"LLM-123\"",
            "line": 13,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"tavilyApiKey\" with \"TAV-456\"",
            "line": 14,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/api_keys\"",
            "line": 15,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 2676000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 16,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"llmApiKey\" with \"LLM-123\"",
            "line": 17,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"tavilyApiKey\" with \"TAV-456\"",
            "line": 18,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 140000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "manage-api-keys-via-session;update-api-keys-with-empty-params",
        "keyword": "Scenario",
        "name": "Update API keys with empty params",
        "description": "",
        "line": 20,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 21,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 20231000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/api_keys\" with JSON:",
            "line": 22,
            "doc_string": {
              "value": "{}",
              "content_type": "",
              "line": 23
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 4091000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 26,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"llmApiKey\"",
            "line": 27,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"tavilyApiKey\"",
            "line": 28,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 160000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "manage-api-keys-via-session;update-api-keys-with-nested-params-structure",
        "keyword": "Scenario",
        "name": "Update API keys with nested params structure",
        "description": "",
        "line": 30,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 31,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7467000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/api_keys\" with JSON:",
            "line": 32,
            "doc_string": {
              "value": "{\"api_keys\": {\"llmApiKey\": \"LLM-789\", \"tavilyApiKey\": \"TAV-012\"}}",
              "content_type": "",
              "line": 33
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 5855000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 36,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 116000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"llmApiKey\" with \"LLM-789\"",
            "line": 37,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"tavilyApiKey\" with \"TAV-012\"",
            "line": 38,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 168000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 156000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 66000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "api-keys-validation",
    "uri": "features/api_keys_validation.feature",
    "keyword": "Feature",
    "name": "API Keys Validation",
    "description": "  As an authenticated user\n  I want to validate my API keys\n  So that agents can execute successfully",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9177000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 370000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          }
        ]
      },
      {
        "id": "api-keys-validation;update-api-keys-successfully",
        "keyword": "Scenario",
        "name": "Update API keys successfully",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/api_keys\" with JSON:",
            "line": 10,
            "doc_string": {
              "value": "{\"llmApiKey\": \"valid-llm-key\", \"tavilyApiKey\": \"valid-tavily-key\"}",
              "content_type": "",
              "line": 11
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 8009000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 14,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"llmApiKey\" with \"valid-llm-key\"",
            "line": 15,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"tavilyApiKey\" with \"valid-tavily-key\"",
            "line": 16,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7529000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "api-keys-validation;get-api-keys-returns-stored-keys",
        "keyword": "Scenario",
        "name": "Get API keys returns stored keys",
        "description": "",
        "line": 18,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have API keys configured",
            "line": 19,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2695000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/api_keys\"",
            "line": 20,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 3006000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 21,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"llmApiKey\"",
            "line": 22,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"tavilyApiKey\"",
            "line": 23,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8867000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 72000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 892000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 85000
            }
          }
        ]
      },
      {
        "id": "api-keys-validation;update-only-llm-api-key",
        "keyword": "Scenario",
        "name": "Update only LLM API key",
        "description": "",
        "line": 25,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/api_keys\" with JSON:",
            "line": 26,
            "doc_string": {
              "value": "{\"llmApiKey\": \"new-llm-key\"}",
              "content_type": "",
              "line": 27
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 5293000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 30,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"llmApiKey\" with \"new-llm-key\"",
            "line": 31,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9834000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 145000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "api-keys-validation;update-only-tavily-api-key",
        "keyword": "Scenario",
        "name": "Update only Tavily API key",
        "description": "",
        "line": 33,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/api_keys\" with JSON:",
            "line": 34,
            "doc_string": {
              "value": "{\"tavilyApiKey\": \"new-tavily-key\"}",
              "content_type": "",
              "line": 35
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 4559000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 38,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"tavilyApiKey\" with \"new-tavily-key\"",
            "line": 39,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6112000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "api-keys-validation;clear-api-keys",
        "keyword": "Scenario",
        "name": "Clear API keys",
        "description": "",
        "line": 41,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have API keys configured",
            "line": 42,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2057000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/api_keys\" with JSON:",
            "line": 43,
            "doc_string": {
              "value": "{\"llmApiKey\": \"\", \"tavilyApiKey\": \"\"}",
              "content_type": "",
              "line": 44
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 4703000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 47,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"llmApiKey\" with \"\"",
            "line": 48,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"tavilyApiKey\" with \"\"",
            "line": 49,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "applicationcontroller",
    "uri": "features/application_controller.feature",
    "keyword": "Feature",
    "name": "ApplicationController",
    "description": "  As a user\n  I want the application to handle edge cases correctly\n  So that the application works correctly in all scenarios",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 162000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "applicationcontroller;applicationcontroller-uses-custom-login-path-in-production",
        "keyword": "Scenario",
        "name": "ApplicationController uses custom login path in production",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the application is in production mode",
            "line": 10,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:332"
            },
            "result": {
              "status": "passed",
              "duration": 982000
            }
          },
          {
            "keyword": "When ",
            "name": "I check the new_user_session_path",
            "line": 11,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:397"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should return \"/login\"",
            "line": 12,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:412"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "keyword": "And ",
            "name": "it should not return \"/users/sign_in\"",
            "line": 13,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:417"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 72000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 217000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "applicationcontroller;applicationcontroller-uses-custom-signup-path-in-production",
        "keyword": "Scenario",
        "name": "ApplicationController uses custom signup path in production",
        "description": "",
        "line": 15,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the application is in production mode",
            "line": 16,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:332"
            },
            "result": {
              "status": "passed",
              "duration": 359000
            }
          },
          {
            "keyword": "When ",
            "name": "I check the new_user_registration_path",
            "line": 17,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:422"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should return \"/signup\"",
            "line": 18,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:412"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "keyword": "And ",
            "name": "it should not return \"/users/sign_up\"",
            "line": 19,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:417"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 153000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "applicationcontroller;applicationcontroller-uses-default-paths-in-development",
        "keyword": "Scenario",
        "name": "ApplicationController uses default paths in development",
        "description": "",
        "line": 21,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the application is in development mode",
            "line": 22,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:344"
            },
            "result": {
              "status": "passed",
              "duration": 368000
            }
          },
          {
            "keyword": "When ",
            "name": "I check the new_user_session_path",
            "line": 23,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:397"
            },
            "result": {
              "status": "passed",
              "duration": 96000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should return \"/users/sign_in\"",
            "line": 24,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:412"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "keyword": "And ",
            "name": "I check the new_user_registration_path",
            "line": 25,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:422"
            },
            "result": {
              "status": "passed",
              "duration": 4000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should return \"/users/sign_up\"",
            "line": 26,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:412"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 4000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 139000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "applicationcontroller;applicationcontroller-ensures-default-api-keys-in-development",
        "keyword": "Scenario",
        "name": "ApplicationController ensures default API keys in development",
        "description": "",
        "line": 28,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the application is in development mode",
            "line": 29,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:344"
            },
            "result": {
              "status": "passed",
              "duration": 296000
            }
          },
          {
            "keyword": "And ",
            "name": "no users exist",
            "line": 30,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 1091000
            }
          },
          {
            "keyword": "When ",
            "name": "I create a user with email \"devuser@example.com\"",
            "line": 31,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:317"
            },
            "result": {
              "status": "passed",
              "duration": 4519000
            }
          },
          {
            "keyword": "And ",
            "name": "I visit the home page",
            "line": 32,
            "match": {
              "location": "features/step_definitions/common_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 49197000
            }
          },
          {
            "keyword": "Then ",
            "name": "the user should have llm_api_key set",
            "line": 33,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:356"
            },
            "result": {
              "status": "passed",
              "duration": 95000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should have tavily_api_key set",
            "line": 34,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:361"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "keyword": "And ",
            "name": "the llm_api_key should be the default dev key",
            "line": 35,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:376"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "the tavily_api_key should be the default dev key",
            "line": 36,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:381"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 69000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 70000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 79000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 170000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "applicationcontroller;applicationcontroller-does-not-set-api-keys-in-production",
        "keyword": "Scenario",
        "name": "ApplicationController does not set API keys in production",
        "description": "",
        "line": 38,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the application is in production mode",
            "line": 39,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:332"
            },
            "result": {
              "status": "passed",
              "duration": 706000
            }
          },
          {
            "keyword": "And ",
            "name": "no users exist",
            "line": 40,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 894000
            }
          },
          {
            "keyword": "When ",
            "name": "I create a user with email \"produser@example.com\"",
            "line": 41,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:317"
            },
            "result": {
              "status": "passed",
              "duration": 4243000
            }
          },
          {
            "keyword": "And ",
            "name": "I visit the home page",
            "line": 42,
            "match": {
              "location": "features/step_definitions/common_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 2992000
            }
          },
          {
            "keyword": "Then ",
            "name": "the user should not have llm_api_key set",
            "line": 43,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:366"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should not have tavily_api_key set",
            "line": 44,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:371"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "applicationcontroller;applicationcontroller-normalizes-user-from-session",
        "keyword": "Scenario",
        "name": "ApplicationController normalizes user from session",
        "description": "",
        "line": 46,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\"",
            "line": 47,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5106000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in as \"user@example.com\"",
            "line": 48,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:40"
            },
            "result": {
              "status": "passed",
              "duration": 505000
            }
          },
          {
            "keyword": "When ",
            "name": "I check the current_user",
            "line": 49,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:445"
            },
            "result": {
              "status": "passed",
              "duration": 190000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should be a User object",
            "line": 50,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:459"
            },
            "result": {
              "status": "passed",
              "duration": 1447000
            }
          },
          {
            "keyword": "And ",
            "name": "it should have email \"user@example.com\"",
            "line": 51,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:463"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 154000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "applicationcontroller;applicationcontroller-handles-nil-user-gracefully",
        "keyword": "Scenario",
        "name": "ApplicationController handles nil user gracefully",
        "description": "",
        "line": 53,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am not logged in",
            "line": 54,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:467"
            },
            "result": {
              "status": "passed",
              "duration": 61000
            }
          },
          {
            "keyword": "When ",
            "name": "I check the current_user",
            "line": 55,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:445"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should be nil",
            "line": 56,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:481"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 91000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 343000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          }
        ]
      },
      {
        "id": "applicationcontroller;applicationcontroller-does-not-set-api-keys-if-user-already-has-them",
        "keyword": "Scenario",
        "name": "ApplicationController does not set API keys if user already has them",
        "description": "",
        "line": 58,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the application is in development mode",
            "line": 59,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:344"
            },
            "result": {
              "status": "passed",
              "duration": 383000
            }
          },
          {
            "keyword": "And ",
            "name": "a user exists with email \"devuser@example.com\"",
            "line": 60,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6040000
            }
          },
          {
            "keyword": "And ",
            "name": "the user has llm_api_key \"custom-key\"",
            "line": 61,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:489"
            },
            "result": {
              "status": "passed",
              "duration": 1570000
            }
          },
          {
            "keyword": "And ",
            "name": "the user has tavily_api_key \"custom-tavily-key\"",
            "line": 62,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:495"
            },
            "result": {
              "status": "passed",
              "duration": 1364000
            }
          },
          {
            "keyword": "When ",
            "name": "I visit the home page",
            "line": 63,
            "match": {
              "location": "features/step_definitions/common_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 2730000
            }
          },
          {
            "keyword": "Then ",
            "name": "the user's llm_api_key should be \"custom-key\"",
            "line": 64,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:505"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's tavily_api_key should be \"custom-tavily-key\"",
            "line": 65,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:510"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 153000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "applicationcontroller;applicationcontroller-sets-only-missing-api-keys-in-development",
        "keyword": "Scenario",
        "name": "ApplicationController sets only missing API keys in development",
        "description": "",
        "line": 67,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the application is in development mode",
            "line": 68,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:344"
            },
            "result": {
              "status": "passed",
              "duration": 348000
            }
          },
          {
            "keyword": "And ",
            "name": "a user exists with email \"devuser@example.com\"",
            "line": 69,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5227000
            }
          },
          {
            "keyword": "And ",
            "name": "the user has llm_api_key \"custom-key\"",
            "line": 70,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:489"
            },
            "result": {
              "status": "passed",
              "duration": 1217000
            }
          },
          {
            "keyword": "And ",
            "name": "the user does not have tavily_api_key",
            "line": 71,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:500"
            },
            "result": {
              "status": "passed",
              "duration": 249000
            }
          },
          {
            "keyword": "When ",
            "name": "I visit the home page",
            "line": 72,
            "match": {
              "location": "features/step_definitions/common_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 3810000
            }
          },
          {
            "keyword": "Then ",
            "name": "the user's llm_api_key should be \"custom-key\"",
            "line": 73,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:505"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's tavily_api_key should be the default dev key",
            "line": 74,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:515"
            },
            "result": {
              "status": "passed",
              "duration": 808000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 74000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 76000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 222000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "id": "applicationcontroller;applicationcontroller-sets-api-keys-only-for-authenticated-users",
        "keyword": "Scenario",
        "name": "ApplicationController sets API keys only for authenticated users",
        "description": "",
        "line": 76,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the application is in development mode",
            "line": 77,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:344"
            },
            "result": {
              "status": "passed",
              "duration": 446000
            }
          },
          {
            "keyword": "And ",
            "name": "I am not logged in",
            "line": 78,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:467"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "keyword": "When ",
            "name": "I visit the home page",
            "line": 79,
            "match": {
              "location": "features/step_definitions/common_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 51899000
            }
          },
          {
            "keyword": "Then ",
            "name": "no API keys should be set",
            "line": 80,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:386"
            },
            "result": {
              "status": "passed",
              "duration": 3184000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1555000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          }
        ]
      },
      {
        "id": "applicationcontroller;applicationcontroller-normalizes-user-from-hash-with-id",
        "keyword": "Scenario",
        "name": "ApplicationController normalizes user from hash with id",
        "description": "",
        "line": 82,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\"",
            "line": 83,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8981000
            }
          },
          {
            "keyword": "And ",
            "name": "I have a user hash with id",
            "line": 84,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:521"
            },
            "result": {
              "status": "passed",
              "duration": 135000
            }
          },
          {
            "keyword": "When ",
            "name": "I check the normalized user",
            "line": 85,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:541"
            },
            "result": {
              "status": "passed",
              "duration": 1795000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should be a User object",
            "line": 86,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:459"
            },
            "result": {
              "status": "passed",
              "duration": 78000
            }
          },
          {
            "keyword": "And ",
            "name": "it should have email \"user@example.com\"",
            "line": 87,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:463"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 221000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "applicationcontroller;applicationcontroller-normalizes-user-from-hash-with-string-id",
        "keyword": "Scenario",
        "name": "ApplicationController normalizes user from hash with string id",
        "description": "",
        "line": 89,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\"",
            "line": 90,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12742000
            }
          },
          {
            "keyword": "And ",
            "name": "I have a user hash with string id",
            "line": 91,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:529"
            },
            "result": {
              "status": "passed",
              "duration": 113000
            }
          },
          {
            "keyword": "When ",
            "name": "I check the normalized user",
            "line": 92,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:541"
            },
            "result": {
              "status": "passed",
              "duration": 1050000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should be a User object",
            "line": 93,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:459"
            },
            "result": {
              "status": "passed",
              "duration": 72000
            }
          },
          {
            "keyword": "And ",
            "name": "it should have email \"user@example.com\"",
            "line": 94,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:463"
            },
            "result": {
              "status": "passed",
              "duration": 65000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 196000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "applicationcontroller;applicationcontroller-returns-nil-for-invalid-user-hash",
        "keyword": "Scenario",
        "name": "ApplicationController returns nil for invalid user hash",
        "description": "",
        "line": 96,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have an invalid user hash",
            "line": 97,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:537"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "keyword": "When ",
            "name": "I check the normalized user",
            "line": 98,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:541"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should be nil",
            "line": 99,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:481"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "applicationhelper",
    "uri": "features/application_helper.feature",
    "keyword": "Feature",
    "name": "ApplicationHelper",
    "description": "  As a system\n  I want to ensure the helper methods provide correct Gmail status and configuration information\n  So that the application can display accurate connection and sender details to users",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7823000
            }
          },
          {
            "keyword": "And ",
            "name": "the environment variable \"DEFAULT_GMAIL_SENDER\" is set to \"user@example.com\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:3"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 188000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "applicationhelper;gmail_status_badge-returns-connected-status-with-email",
        "keyword": "Scenario",
        "name": "gmail_status_badge returns connected status with email",
        "description": "",
        "line": 10,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user can send gmail",
            "line": 11,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 1365000
            }
          },
          {
            "keyword": "And ",
            "name": "the user gmail_email is \"user@example.com\"",
            "line": 12,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 102000
            }
          },
          {
            "keyword": "When ",
            "name": "I call gmail_status_badge for the user",
            "line": 13,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 123000
            }
          },
          {
            "keyword": "Then ",
            "name": "the application helper result should be \"Gmail connected (user@example.com)\"",
            "line": 14,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:51"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7719000
            }
          },
          {
            "keyword": "And ",
            "name": "the environment variable \"DEFAULT_GMAIL_SENDER\" is set to \"user@example.com\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:3"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 66000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 552000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "id": "applicationhelper;gmail_status_badge-returns-connected-status-without-email",
        "keyword": "Scenario",
        "name": "gmail_status_badge returns connected status without email",
        "description": "",
        "line": 16,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user can send gmail",
            "line": 17,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 1079000
            }
          },
          {
            "keyword": "And ",
            "name": "the user gmail_email is nil",
            "line": 18,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:28"
            },
            "result": {
              "status": "passed",
              "duration": 106000
            }
          },
          {
            "keyword": "When ",
            "name": "I call gmail_status_badge for the user",
            "line": 19,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 119000
            }
          },
          {
            "keyword": "Then ",
            "name": "the application helper result should be \"Gmail connected\"",
            "line": 20,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:51"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 62000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8316000
            }
          },
          {
            "keyword": "And ",
            "name": "the environment variable \"DEFAULT_GMAIL_SENDER\" is set to \"user@example.com\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:3"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 231000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "applicationhelper;gmail_status_badge-returns-not-connected-status",
        "keyword": "Scenario",
        "name": "gmail_status_badge returns not connected status",
        "description": "",
        "line": 22,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user cannot send gmail",
            "line": 23,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:33"
            },
            "result": {
              "status": "passed",
              "duration": 227000
            }
          },
          {
            "keyword": "When ",
            "name": "I call gmail_status_badge for the user",
            "line": 24,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 81000
            }
          },
          {
            "keyword": "Then ",
            "name": "the application helper result should be \"Gmail not connected\"",
            "line": 25,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:51"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6508000
            }
          },
          {
            "keyword": "And ",
            "name": "the environment variable \"DEFAULT_GMAIL_SENDER\" is set to \"user@example.com\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:3"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 65000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 233000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "applicationhelper;default_gmail_sender_available?-returns-true-when-sender-exists-and-can-send-gmail",
        "keyword": "Scenario",
        "name": "default_gmail_sender_available? returns true when sender exists and can send gmail",
        "description": "",
        "line": 27,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user can send gmail",
            "line": 28,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 1416000
            }
          },
          {
            "keyword": "When ",
            "name": "I call default_gmail_sender_available?",
            "line": 29,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:42"
            },
            "result": {
              "status": "passed",
              "duration": 275000
            }
          },
          {
            "keyword": "Then ",
            "name": "the application helper result should be true",
            "line": 30,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:55"
            },
            "result": {
              "status": "passed",
              "duration": 65000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 70000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 68000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8574000
            }
          },
          {
            "keyword": "And ",
            "name": "the environment variable \"DEFAULT_GMAIL_SENDER\" is set to \"user@example.com\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:3"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 60000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 196000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "applicationhelper;default_gmail_sender_available?-returns-false-when-sender-does-not-exist",
        "keyword": "Scenario",
        "name": "default_gmail_sender_available? returns false when sender does not exist",
        "description": "",
        "line": 32,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "no user exists with the default sender email",
            "line": 33,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:59"
            },
            "result": {
              "status": "passed",
              "duration": 3884000
            }
          },
          {
            "keyword": "When ",
            "name": "I call default_gmail_sender_available?",
            "line": 34,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:42"
            },
            "result": {
              "status": "passed",
              "duration": 562000
            }
          },
          {
            "keyword": "Then ",
            "name": "the application helper result should be false",
            "line": 35,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:55"
            },
            "result": {
              "status": "passed",
              "duration": 83000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 67000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6806000
            }
          },
          {
            "keyword": "And ",
            "name": "the environment variable \"DEFAULT_GMAIL_SENDER\" is set to \"user@example.com\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:3"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 459000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "applicationhelper;default_gmail_sender_email-returns-the-default-sender-email",
        "keyword": "Scenario",
        "name": "default_gmail_sender_email returns the default sender email",
        "description": "",
        "line": 37,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I call default_gmail_sender_email",
            "line": 38,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "keyword": "Then ",
            "name": "the application helper result should be \"user@example.com\"",
            "line": 39,
            "match": {
              "location": "features/step_definitions/application_helper_steps.rb:51"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "async-agent-execution",
    "uri": "features/async_agent_execution.feature",
    "keyword": "Feature",
    "name": "Async Agent Execution",
    "description": "  As an authenticated user\n  I want to run agents asynchronously via background jobs\n  So that long-running agent operations don't block HTTP requests",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9154000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 198000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "async-agent-execution;enqueue-agent-execution-job-with-async-parameter",
        "keyword": "Scenario",
        "name": "Enqueue agent execution job with async parameter",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4888000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3095000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2251000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has agent configs for \"SEARCH\", \"WRITER\", \"CRITIQUE\", and \"DESIGN\"",
            "line": 13,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:63"
            },
            "result": {
              "status": "passed",
              "duration": 5828000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents?async=true\"",
            "line": 14,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 14490000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 202",
            "line": 15,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"status\" with \"queued\"",
            "line": 16,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"jobId\"",
            "line": 17,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "keyword": "And ",
            "name": "an AgentExecutionJob should be enqueued",
            "line": 18,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:301"
            },
            "result": {
              "status": "passed",
              "duration": 59000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8344000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 173000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "async-agent-execution;execute-agent-execution-job-successfully",
        "keyword": "Scenario",
        "name": "Execute agent execution job successfully",
        "description": "",
        "line": 20,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 21,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2730000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 22,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2562000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 23,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2608000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has agent configs for \"SEARCH\", \"WRITER\", \"CRITIQUE\", and \"DESIGN\"",
            "line": 24,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:63"
            },
            "result": {
              "status": "passed",
              "duration": 8134000
            }
          },
          {
            "keyword": "And ",
            "name": "the Orchestrator is configured",
            "line": 25,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1268"
            },
            "result": {
              "status": "passed",
              "duration": 2680000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents?async=true\"",
            "line": 26,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 16584000
            }
          },
          {
            "keyword": "And ",
            "name": "I process all enqueued jobs",
            "line": 27,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:307"
            },
            "result": {
              "status": "passed",
              "duration": 18061000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 202",
            "line": 28,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 113000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead should have agent outputs stored",
            "line": 29,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1078"
            },
            "result": {
              "status": "passed",
              "duration": 3985000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead stage should advance past \"queued\"",
            "line": 30,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1202"
            },
            "result": {
              "status": "passed",
              "duration": 766000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 71000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12271000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 172000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "async-agent-execution;job-validates-campaign-ownership",
        "keyword": "Scenario",
        "name": "Job validates campaign ownership",
        "description": "",
        "line": 32,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 33,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2820000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 34,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2927000
            }
          },
          {
            "keyword": "And ",
            "name": "there is another user with a separate campaign",
            "line": 35,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8743000
            }
          },
          {
            "keyword": "And ",
            "name": "the other user has a lead",
            "line": 36,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:934"
            },
            "result": {
              "status": "passed",
              "duration": 2255000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 37,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2531000
            }
          },
          {
            "keyword": "When ",
            "name": "I try to execute a job for lead \"#{@other_lead.id}\" with campaign \"#{@other_campaign.id}\" and user \"#{@user.id}\"",
            "line": 38,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:333"
            },
            "result": {
              "status": "passed",
              "duration": 1867000
            }
          },
          {
            "keyword": "Then ",
            "name": "the job should not execute",
            "line": 39,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:348"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "keyword": "And ",
            "name": "the job should log an unauthorized access error",
            "line": 40,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:355"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10337000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 172000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "async-agent-execution;job-validates-lead-campaign-association",
        "keyword": "Scenario",
        "name": "Job validates lead-campaign association",
        "description": "",
        "line": 42,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 43,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 13288000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 44,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3425000
            }
          },
          {
            "keyword": "And ",
            "name": "there is another user with a separate campaign",
            "line": 45,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 14512000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 46,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4637000
            }
          },
          {
            "keyword": "When ",
            "name": "I try to execute a job for lead \"#{@lead.id}\" with campaign \"#{@other_campaign.id}\" and user \"#{@user.id}\"",
            "line": 47,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:333"
            },
            "result": {
              "status": "passed",
              "duration": 2640000
            }
          },
          {
            "keyword": "Then ",
            "name": "the job should not execute",
            "line": 48,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:348"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "keyword": "And ",
            "name": "the job should log a lead-campaign mismatch error",
            "line": 49,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:365"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8463000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 315000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 205000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "async-agent-execution;job-handles-missing-api-keys-gracefully",
        "keyword": "Scenario",
        "name": "Job handles missing API keys gracefully",
        "description": "",
        "line": 51,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 52,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2531000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 53,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4724000
            }
          },
          {
            "keyword": "And ",
            "name": "I do not have API keys configured",
            "line": 54,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:120"
            },
            "result": {
              "status": "passed",
              "duration": 1572000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has agent configs for \"SEARCH\", \"WRITER\", \"CRITIQUE\", and \"DESIGN\"",
            "line": 55,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:63"
            },
            "result": {
              "status": "passed",
              "duration": 8456000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents?async=true\"",
            "line": 56,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 25023000
            }
          },
          {
            "keyword": "And ",
            "name": "I process all enqueued jobs",
            "line": 57,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:307"
            },
            "result": {
              "status": "passed",
              "duration": 3456000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 202",
            "line": 58,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "keyword": "And ",
            "name": "the job should be discarded due to ArgumentError",
            "line": 59,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:373"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8404000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 214000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 283000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 77000
            }
          }
        ]
      },
      {
        "id": "async-agent-execution;job-retries-on-transient-errors",
        "keyword": "Scenario",
        "name": "Job retries on transient errors",
        "description": "",
        "line": 61,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 62,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2860000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 63,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4280000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 64,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3401000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has agent configs for \"SEARCH\", \"WRITER\", \"CRITIQUE\", and \"DESIGN\"",
            "line": 65,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:63"
            },
            "result": {
              "status": "passed",
              "duration": 8061000
            }
          },
          {
            "keyword": "And ",
            "name": "the SEARCH agent will fail",
            "line": 66,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:973"
            },
            "result": {
              "status": "passed",
              "duration": 149000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents?async=true\"",
            "line": 67,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 15826000
            }
          },
          {
            "keyword": "And ",
            "name": "I process all enqueued jobs with errors",
            "line": 68,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:321"
            },
            "result": {
              "status": "passed",
              "duration": 12323000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 202",
            "line": 69,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "keyword": "And ",
            "name": "the job should be retried on error",
            "line": 70,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:386"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7210000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 179000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "async-agent-execution;job-logs-execution-results",
        "keyword": "Scenario",
        "name": "Job logs execution results",
        "description": "",
        "line": 72,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 73,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2240000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 74,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2184000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 75,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2091000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has agent configs for \"SEARCH\", \"WRITER\", \"CRITIQUE\", and \"DESIGN\"",
            "line": 76,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:63"
            },
            "result": {
              "status": "passed",
              "duration": 17358000
            }
          },
          {
            "keyword": "And ",
            "name": "the Orchestrator is configured",
            "line": 77,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1268"
            },
            "result": {
              "status": "passed",
              "duration": 2102000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents?async=true\"",
            "line": 78,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 17681000
            }
          },
          {
            "keyword": "And ",
            "name": "I process all enqueued jobs",
            "line": 79,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:307"
            },
            "result": {
              "status": "passed",
              "duration": 14766000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 202",
            "line": 80,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "keyword": "And ",
            "name": "the job should log successful execution",
            "line": 81,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:400"
            },
            "result": {
              "status": "passed",
              "duration": 1066000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 64000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6106000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "async-agent-execution;sync-execution-when-async=false",
        "keyword": "Scenario",
        "name": "Sync execution when async=false",
        "description": "",
        "line": 83,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 84,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2442000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 85,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2255000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 86,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 1968000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has agent configs for \"SEARCH\", \"WRITER\", \"CRITIQUE\", and \"DESIGN\"",
            "line": 87,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:63"
            },
            "result": {
              "status": "passed",
              "duration": 5922000
            }
          },
          {
            "keyword": "And ",
            "name": "the Orchestrator is configured",
            "line": 88,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1268"
            },
            "result": {
              "status": "passed",
              "duration": 1962000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents?async=false\"",
            "line": 89,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 39175000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 90,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"status\"",
            "line": 91,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "keyword": "And ",
            "name": "no jobs should be enqueued",
            "line": 92,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:406"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead should have agent outputs stored",
            "line": 93,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1078"
            },
            "result": {
              "status": "passed",
              "duration": 1690000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 61000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "user-authentication-and-dashboard-access",
    "uri": "features/authentication.feature",
    "keyword": "Feature",
    "name": "User authentication and dashboard access",
    "description": "  As a registered user\n  I want to access my campaign dashboard\n  So that I can manage campaigns and leads",
    "line": 1,
    "elements": [
      {
        "id": "user-authentication-and-dashboard-access;logged-in-user-sees-dashboard",
        "keyword": "Scenario",
        "name": "Logged-in user sees dashboard",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11093000
            }
          },
          {
            "keyword": "When ",
            "name": "I visit the home page",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 5852000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should see the dashboard container",
            "line": 9,
            "match": {
              "location": "features/step_definitions/common_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 10189000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 673000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 344000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "authentication-and-authorization",
    "uri": "features/authentication_comprehensive.feature",
    "keyword": "Feature",
    "name": "Authentication and Authorization",
    "description": "  As a user\n  I want secure access to my data\n  So that my campaigns and leads are protected",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1168000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "id": "authentication-and-authorization;unauthenticated-user-cannot-access-campaigns",
        "keyword": "Scenario",
        "name": "Unauthenticated user cannot access campaigns",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am not logged in",
            "line": 10,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:467"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/campaigns\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 8981000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 401",
            "line": 12,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 59000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 152000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "authentication-and-authorization;unauthenticated-user-cannot-create-campaigns",
        "keyword": "Scenario",
        "name": "Unauthenticated user cannot create campaigns",
        "description": "",
        "line": 14,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am not logged in",
            "line": 15,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:467"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns\" with JSON:",
            "line": 16,
            "doc_string": {
              "value": "{\"campaign\": {\"title\": \"Unauthorized Campaign\"}}",
              "content_type": "",
              "line": 17
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 3929000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 401",
            "line": 20,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 108000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "authentication-and-authorization;user-can-only-see-their-own-campaigns",
        "keyword": "Scenario",
        "name": "User can only see their own campaigns",
        "description": "",
        "line": 22,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 23,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9454000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"My Campaign\" exists for me",
            "line": 24,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2721000
            }
          },
          {
            "keyword": "And ",
            "name": "there is another user with a separate campaign",
            "line": 25,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 13438000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/campaigns\"",
            "line": 26,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 7362000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 27,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 79000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaigns should only include my campaigns",
            "line": 28,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1156"
            },
            "result": {
              "status": "passed",
              "duration": 5131000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 185000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 302000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          }
        ]
      },
      {
        "id": "authentication-and-authorization;user-cannot-update-another-user's-campaign",
        "keyword": "Scenario",
        "name": "User cannot update another user's campaign",
        "description": "",
        "line": 30,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 31,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9701000
            }
          },
          {
            "keyword": "And ",
            "name": "there is another user with a separate campaign",
            "line": 32,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6139000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/campaigns/#{@other_campaign.id}\" with JSON:",
            "line": 33,
            "doc_string": {
              "value": "{\"campaign\": {\"title\": \"Hacked\"}}",
              "content_type": "",
              "line": 34
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 2741000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 37,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 146000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "authentication-and-authorization;user-cannot-delete-another-user's-campaign",
        "keyword": "Scenario",
        "name": "User cannot delete another user's campaign",
        "description": "",
        "line": 39,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 40,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6459000
            }
          },
          {
            "keyword": "And ",
            "name": "there is another user with a separate campaign",
            "line": 41,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5267000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a DELETE request to \"/api/v1/campaigns/#{@other_campaign.id}\"",
            "line": 42,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 2958000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 404",
            "line": 43,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 296000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 145000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "authentication-and-authorization;user-cannot-access-another-user's-leads",
        "keyword": "Scenario",
        "name": "User cannot access another user's leads",
        "description": "",
        "line": 45,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 46,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5959000
            }
          },
          {
            "keyword": "And ",
            "name": "there is another user with a separate campaign",
            "line": 47,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5051000
            }
          },
          {
            "keyword": "And ",
            "name": "the other user has a lead",
            "line": 48,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:934"
            },
            "result": {
              "status": "passed",
              "duration": 1529000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/leads/#{@other_lead.id}/agent_outputs\"",
            "line": 49,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 4176000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 404",
            "line": 50,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 173000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "authentication-and-authorization;user-cannot-run-agents-on-another-user's-lead",
        "keyword": "Scenario",
        "name": "User cannot run agents on another user's lead",
        "description": "",
        "line": 52,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 53,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6095000
            }
          },
          {
            "keyword": "And ",
            "name": "there is another user with a separate campaign",
            "line": 54,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 15724000
            }
          },
          {
            "keyword": "And ",
            "name": "the other user has a lead",
            "line": 55,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:934"
            },
            "result": {
              "status": "passed",
              "duration": 2012000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@other_lead.id}/run_agents\"",
            "line": 56,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 4788000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 404",
            "line": 57,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "baseserializer",
    "uri": "features/base_serializer.feature",
    "keyword": "Feature",
    "name": "BaseSerializer",
    "description": "  As a developer\n  I want to serialize objects and collections to camelCase JSON using BaseSerializer\n  So that the frontend receives the expected format",
    "line": 1,
    "elements": [
      {
        "id": "baseserializer;serialize-a-single-object-with-snake_case-keys",
        "keyword": "Scenario",
        "name": "Serialize a single object with snake_case keys",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a Ruby object with snake_case keys",
            "line": 7,
            "match": {
              "location": "features/step_definitions/base_serializer_steps.rb:3"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "keyword": "When ",
            "name": "I serialize the object with BaseSerializer",
            "line": 8,
            "match": {
              "location": "features/step_definitions/base_serializer_steps.rb:35"
            },
            "result": {
              "status": "passed",
              "duration": 79000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be a hash with camelCase keys",
            "line": 9,
            "match": {
              "location": "features/step_definitions/base_serializer_steps.rb:54"
            },
            "result": {
              "status": "passed",
              "duration": 3541000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 199000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 61000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "baseserializer;serialize-a-collection-of-objects",
        "keyword": "Scenario",
        "name": "Serialize a collection of objects",
        "description": "",
        "line": 11,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a collection of Ruby objects with snake_case keys",
            "line": 12,
            "match": {
              "location": "features/step_definitions/base_serializer_steps.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "When ",
            "name": "I serialize the collection with BaseSerializer",
            "line": 13,
            "match": {
              "location": "features/step_definitions/base_serializer_steps.rb:49"
            },
            "result": {
              "status": "passed",
              "duration": 191000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be an array of hashes with camelCase keys",
            "line": 14,
            "match": {
              "location": "features/step_definitions/base_serializer_steps.rb:62"
            },
            "result": {
              "status": "passed",
              "duration": 185000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 153000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ]
      },
      {
        "id": "baseserializer;serialize-nested-hashes-and-arrays",
        "keyword": "Scenario",
        "name": "Serialize nested hashes and arrays",
        "description": "",
        "line": 16,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a Ruby object with nested hashes and arrays with snake_case keys",
            "line": 17,
            "match": {
              "location": "features/step_definitions/base_serializer_steps.rb:18"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "When ",
            "name": "I serialize the object with BaseSerializer",
            "line": 18,
            "match": {
              "location": "features/step_definitions/base_serializer_steps.rb:35"
            },
            "result": {
              "status": "passed",
              "duration": 60000
            }
          },
          {
            "keyword": "Then ",
            "name": "all keys in the result should be camelCase, including nested ones",
            "line": 19,
            "match": {
              "location": "features/step_definitions/base_serializer_steps.rb:69"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 206000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 165000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "batch-lead-processing-service",
    "uri": "features/batch_lead_processing_service.feature",
    "keyword": "Feature",
    "name": "Batch lead processing service",
    "description": "  As a user\n  I want to process multiple leads in batches efficiently\n  So that campaigns can scale and errors are handled gracefully",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5439000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign exists for the user",
            "line": 8,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1647000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has leads",
            "line": 9,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 3708000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 136000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "batch-lead-processing-service;process-leads-in-batches-successfully",
        "keyword": "Scenario",
        "name": "Process leads in batches successfully",
        "description": "",
        "line": 11,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I process all leads in the campaign using the batch lead processing service",
            "line": 12,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:18"
            },
            "result": {
              "status": "passed",
              "duration": 1608000
            }
          },
          {
            "keyword": "Then ",
            "name": "all leads should be queued for processing",
            "line": 13,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:69"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include the correct total and queued count",
            "line": 14,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:73"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5044000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign exists for the user",
            "line": 8,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1291000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has leads",
            "line": 9,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 3722000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 143000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "batch-lead-processing-service;some-leads-fail-to-queue",
        "keyword": "Scenario",
        "name": "Some leads fail to queue",
        "description": "",
        "line": 16,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "some leads will fail to enqueue",
            "line": 17,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:78"
            },
            "result": {
              "status": "passed",
              "duration": 200000
            }
          },
          {
            "keyword": "When ",
            "name": "I process all leads in the campaign using the batch lead processing service",
            "line": 18,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:18"
            },
            "result": {
              "status": "passed",
              "duration": 1109000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include failed leads",
            "line": 19,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:89"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "keyword": "And ",
            "name": "the failed count should be correct",
            "line": 20,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:93"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5317000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign exists for the user",
            "line": 8,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2701000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has leads",
            "line": 9,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 3671000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 310000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "batch-lead-processing-service;no-valid-leads-found",
        "keyword": "Scenario",
        "name": "No valid leads found",
        "description": "",
        "line": 22,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has no valid leads",
            "line": 23,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "keyword": "When ",
            "name": "I process leads using the batch lead processing service",
            "line": 24,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:101"
            },
            "result": {
              "status": "passed",
              "duration": 193000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include an error message",
            "line": 25,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:105"
            },
            "result": {
              "status": "passed",
              "duration": 59000
            }
          },
          {
            "keyword": "And ",
            "name": "the completed, failed, and queued lists should be empty",
            "line": 26,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:110"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5209000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign exists for the user",
            "line": 8,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1415000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has leads",
            "line": 9,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 4264000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "batch-lead-processing-service;unauthorized-user-tries-to-process-leads",
        "keyword": "Scenario",
        "name": "Unauthorized user tries to process leads",
        "description": "",
        "line": 28,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user that does not own the campaign",
            "line": 29,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:116"
            },
            "result": {
              "status": "passed",
              "duration": 4623000
            }
          },
          {
            "keyword": "When ",
            "name": "the user tries to process leads using the batch lead processing service",
            "line": 30,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:120"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include an error message",
            "line": 31,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:105"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "keyword": "And ",
            "name": "no leads should be processed",
            "line": 32,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:124"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 7569000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign exists for the user",
            "line": 8,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1414000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has leads",
            "line": 9,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 30850000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 152000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "batch-lead-processing-service;process-leads-synchronously-in-batches-successfully",
        "keyword": "Scenario",
        "name": "Process leads synchronously in batches successfully",
        "description": "",
        "line": 34,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I process all leads in the campaign synchronously using the batch lead processing service",
            "line": 35,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 2626000
            }
          },
          {
            "keyword": "Then ",
            "name": "all leads should be completed synchronously",
            "line": 36,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "keyword": "And ",
            "name": "the sync result should include the correct total and completed count",
            "line": 37,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:31"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 35000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5279000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign exists for the user",
            "line": 8,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1405000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has leads",
            "line": 9,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 3355000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 152000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "batch-lead-processing-service;unauthorized-user-tries-to-process-leads-synchronously",
        "keyword": "Scenario",
        "name": "Unauthorized user tries to process leads synchronously",
        "description": "",
        "line": 39,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user that does not own the campaign",
            "line": 40,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:116"
            },
            "result": {
              "status": "passed",
              "duration": 3958000
            }
          },
          {
            "keyword": "When ",
            "name": "the user tries to process leads synchronously using the batch lead processing service",
            "line": 41,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include an error message",
            "line": 42,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:105"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "keyword": "And ",
            "name": "no leads should be processed synchronously",
            "line": 43,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:40"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5110000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign exists for the user",
            "line": 8,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1182000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has leads",
            "line": 9,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 3029000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 144000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "batch-lead-processing-service;batch-size-is-set-by-env",
        "keyword": "Scenario",
        "name": "Batch size is set by ENV",
        "description": "",
        "line": 45,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the environment variable BATCH_SIZE is set to 5",
            "line": 46,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:45"
            },
            "result": {
              "status": "passed",
              "duration": 146000
            }
          },
          {
            "keyword": "When ",
            "name": "I get the recommended batch size from the batch lead processing service",
            "line": 47,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:49"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "keyword": "Then ",
            "name": "the recommended batch size should be 5",
            "line": 48,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:53"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4464000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign exists for the user",
            "line": 8,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1027000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has leads",
            "line": 9,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 3695000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 144000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "batch-lead-processing-service;batch-size-defaults-for-environment",
        "keyword": "Scenario",
        "name": "Batch size defaults for environment",
        "description": "",
        "line": 50,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the environment variable BATCH_SIZE is not set",
            "line": 51,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:57"
            },
            "result": {
              "status": "passed",
              "duration": 96000
            }
          },
          {
            "keyword": "And ",
            "name": "Rails is in production environment",
            "line": 52,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:61"
            },
            "result": {
              "status": "passed",
              "duration": 131000
            }
          },
          {
            "keyword": "When ",
            "name": "I get the recommended batch size from the batch lead processing service",
            "line": 53,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:49"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "keyword": "Then ",
            "name": "the recommended batch size should be 25",
            "line": 54,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:53"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5458000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign exists for the user",
            "line": 8,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1179000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has leads",
            "line": 9,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 3298000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 144000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "batch-lead-processing-service;batch-size-defaults-for-development",
        "keyword": "Scenario",
        "name": "Batch size defaults for development",
        "description": "",
        "line": 56,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the environment variable BATCH_SIZE is not set",
            "line": 57,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:57"
            },
            "result": {
              "status": "passed",
              "duration": 97000
            }
          },
          {
            "keyword": "And ",
            "name": "Rails is in development environment",
            "line": 58,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:65"
            },
            "result": {
              "status": "passed",
              "duration": 120000
            }
          },
          {
            "keyword": "When ",
            "name": "I get the recommended batch size from the batch lead processing service",
            "line": 59,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:49"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "keyword": "Then ",
            "name": "the recommended batch size should be 10",
            "line": 60,
            "match": {
              "location": "features/step_definitions/batch_lead_processing_service_steps.rb:53"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "campaign-authorization-boundaries",
    "uri": "features/campaign_authorization.feature",
    "keyword": "Feature",
    "name": "Campaign authorization boundaries",
    "description": "  As a campaign owner\n  I want to be prevented from touching others' campaigns\n  So that data stays private",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 9189000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 76000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 259000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ]
      },
      {
        "id": "campaign-authorization-boundaries;i-cannot-update-a-campaign-that-isn't-mine",
        "keyword": "Scenario",
        "name": "I cannot update a campaign that isn't mine",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Someone else's\" exists for me",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4784000
            }
          },
          {
            "keyword": "And ",
            "name": "there is another user with a separate campaign",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6774000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/campaigns/#{@other_campaign.id}\" with JSON:",
            "line": 13,
            "doc_string": {
              "value": "{\"campaign\": {\"title\": \"Hacked\"}}",
              "content_type": "",
              "line": 14
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 3249000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 17,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "create-a-campaign-via-api",
    "uri": "features/campaign_creation.feature",
    "keyword": "Feature",
    "name": "Create a campaign via API",
    "description": "  As an authenticated user\n  I want to create a campaign\n  So that I can organize my outreach",
    "line": 1,
    "elements": [
      {
        "id": "create-a-campaign-via-api;create-campaign-successfully",
        "keyword": "Scenario",
        "name": "Create campaign successfully",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5656000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns\" with JSON:",
            "line": 8,
            "doc_string": {
              "value": "{\"campaign\": {\"title\": \"Q4 Outreach\", \"sharedSettings\": {\"brand_voice\": {\"tone\": \"professional\", \"persona\": \"founder\"}, \"primary_goal\": \"book_call\"}}}",
              "content_type": "",
              "line": 9
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 4045000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 201",
            "line": 12,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"title\" with \"Q4 Outreach\"",
            "line": 13,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "delete-a-campaign-via-api",
    "uri": "features/campaign_destroy.feature",
    "keyword": "Feature",
    "name": "Delete a campaign via API",
    "description": "  As an authenticated user\n  I want to delete a campaign I own\n  So that I can remove unused campaigns",
    "line": 1,
    "elements": [
      {
        "id": "delete-a-campaign-via-api;delete-campaign-successfully",
        "keyword": "Scenario",
        "name": "Delete campaign successfully",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"To Delete\" exists for me",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 7436000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a DELETE request to \"/api/v1/campaigns/#{@campaign.id}\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 5182000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 204",
            "line": 9,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 86000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 157000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "campaign-leads-relationship",
    "uri": "features/campaign_leads_relationship.feature",
    "keyword": "Feature",
    "name": "Campaign-Leads Relationship",
    "description": "  As an authenticated user\n  I want to manage the relationship between campaigns and leads\n  So that I can organize my outreach",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7354000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 78000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "campaign-leads-relationship;list-leads-for-a-specific-campaign",
        "keyword": "Scenario",
        "name": "List leads for a specific campaign",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Campaign A\" exists for me",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2295000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a lead with email \"lead1@example.com\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:926"
            },
            "result": {
              "status": "passed",
              "duration": 1402000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a lead with email \"lead2@example.com\"",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:926"
            },
            "result": {
              "status": "passed",
              "duration": 1160000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/leads\"",
            "line": 13,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 25842000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 14,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON array response should have at least 2 items",
            "line": 15,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1218"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 13293000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 625000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "campaign-leads-relationship;leads-are-scoped-to-user's-campaigns",
        "keyword": "Scenario",
        "name": "Leads are scoped to user's campaigns",
        "description": "",
        "line": 17,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"My Campaign\" exists for me",
            "line": 18,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3588000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a lead with email \"mylead@example.com\"",
            "line": 19,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:926"
            },
            "result": {
              "status": "passed",
              "duration": 1535000
            }
          },
          {
            "keyword": "And ",
            "name": "there is another user with a separate campaign",
            "line": 20,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5383000
            }
          },
          {
            "keyword": "And ",
            "name": "the other user's campaign has a lead",
            "line": 21,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1224"
            },
            "result": {
              "status": "passed",
              "duration": 2345000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/leads\"",
            "line": 22,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 15419000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 23,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "keyword": "And ",
            "name": "the leads should only include leads from my campaigns",
            "line": 24,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1164"
            },
            "result": {
              "status": "passed",
              "duration": 1538000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6679000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 169000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "campaign-leads-relationship;deleting-campaign-deletes-associated-leads",
        "keyword": "Scenario",
        "name": "Deleting campaign deletes associated leads",
        "description": "",
        "line": 26,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"To Delete\" exists for me",
            "line": 27,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2775000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a lead with email \"lead@example.com\"",
            "line": 28,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:926"
            },
            "result": {
              "status": "passed",
              "duration": 1618000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a DELETE request to \"/api/v1/campaigns/#{@campaign.id}\"",
            "line": 29,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 7697000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 204",
            "line": 30,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead should be deleted",
            "line": 31,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1142"
            },
            "result": {
              "status": "passed",
              "duration": 553000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6569000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 165000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "campaign-leads-relationship;updating-lead-does-not-change-campaign-association",
        "keyword": "Scenario",
        "name": "Updating lead does not change campaign association",
        "description": "",
        "line": 33,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 34,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4013000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/leads/#{@lead.id}\" with JSON:",
            "line": 35,
            "doc_string": {
              "value": "{\"lead\": {\"name\": \"Updated Name\"}}",
              "content_type": "",
              "line": 36
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 32595000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 39,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead should still belong to the same campaign",
            "line": 40,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1172"
            },
            "result": {
              "status": "passed",
              "duration": 893000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "campaign-mailer-email-formatting",
    "uri": "features/campaign_mailer.feature",
    "keyword": "Feature",
    "name": "Campaign mailer email formatting",
    "description": "  As an authenticated user\n  I want to send personalized well-formatted campaign emails\n  So that I can effectively reach out to leads with customized messaging",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5511000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 974000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 134000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 175000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "campaign-mailer-email-formatting;campaignmailer-sends-email-with-custom-from-and-recipient-name",
        "keyword": "Scenario",
        "name": "CampaignMailer sends email with custom from and recipient name",
        "description": "",
        "line": 10,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I deliver a campaign email to \"alice@example.com\" with recipient_name \"Alice\" and campaign_title \"Acme\" and from_email \"me@example.com\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/email_steps.rb:154"
            },
            "result": {
              "status": "passed",
              "duration": 27671000
            }
          },
          {
            "keyword": "Then ",
            "name": "an email should be delivered to \"alice@example.com\"",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:198"
            },
            "result": {
              "status": "passed",
              "duration": 97000
            }
          },
          {
            "keyword": "And ",
            "name": "the email should have subject containing \"Outreach for Alice\"",
            "line": 13,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:222"
            },
            "result": {
              "status": "passed",
              "duration": 73000
            }
          },
          {
            "keyword": "And ",
            "name": "the email should have from address \"me@example.com\"",
            "line": 14,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:271"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6210000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1340000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 169000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "campaign-mailer-email-formatting;campaignmailer-falls-back-subject-when-recipient-name-blank-and-uses-default-from",
        "keyword": "Scenario",
        "name": "CampaignMailer falls back subject when recipient name blank and uses default from",
        "description": "",
        "line": 16,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 17,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 16137000
            }
          },
          {
            "keyword": "When ",
            "name": "I deliver a campaign email to \"bob@example.com\" with recipient_name \" \" and campaign_title \"My Campaign\"",
            "line": 18,
            "match": {
              "location": "features/step_definitions/email_steps.rb:161"
            },
            "result": {
              "status": "passed",
              "duration": 10023000
            }
          },
          {
            "keyword": "Then ",
            "name": "an email should be delivered to \"bob@example.com\"",
            "line": 19,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:198"
            },
            "result": {
              "status": "passed",
              "duration": 101000
            }
          },
          {
            "keyword": "And ",
            "name": "the email should have subject containing \"Outreach Update\"",
            "line": 20,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:222"
            },
            "result": {
              "status": "passed",
              "duration": 84000
            }
          },
          {
            "keyword": "And ",
            "name": "the email should have from address matching default",
            "line": 21,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 63000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "campaign-shared-settings",
    "uri": "features/campaign_shared_settings.feature",
    "keyword": "Feature",
    "name": "Campaign Shared Settings",
    "description": "  As an authenticated user\n  I want to configure shared settings for my campaigns\n  So that agents use consistent branding and goals",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 17240000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 76000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 308000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "id": "campaign-shared-settings;create-campaign-with-shared-settings",
        "keyword": "Scenario",
        "name": "Create campaign with shared settings",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns\" with JSON:",
            "line": 10,
            "doc_string": {
              "value": "{\"campaign\": {\"title\": \"Branded Campaign\", \"sharedSettings\": {\"brand_voice\": {\"tone\": \"casual\", \"persona\": \"founder\"}, \"primary_goal\": \"demo_request\"}}}",
              "content_type": "",
              "line": 11
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 7641000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 201",
            "line": 14,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"sharedSettings\"",
            "line": 15,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9668000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 193000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "campaign-shared-settings;update-campaign-shared-settings",
        "keyword": "Scenario",
        "name": "Update campaign shared settings",
        "description": "",
        "line": 17,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Settings Test\" exists for me",
            "line": 18,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2897000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/campaigns/#{@campaign.id}\" with JSON:",
            "line": 19,
            "doc_string": {
              "value": "{\"campaign\": {\"sharedSettings\": {\"brand_voice\": {\"tone\": \"formal\", \"persona\": \"executive\"}, \"primary_goal\": \"book_call\"}}}",
              "content_type": "",
              "line": 20
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 8278000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 23,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 97000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON nested value at \"sharedSettings.brand_voice.tone\" should equal \"formal\"",
            "line": 24,
            "match": {
              "location": "features/step_definitions/common_steps.rb:176"
            },
            "result": {
              "status": "passed",
              "duration": 69000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9519000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 61000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 343000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "campaign-shared-settings;campaign-shared-settings-are-used-by-agents",
        "keyword": "Scenario",
        "name": "Campaign shared settings are used by agents",
        "description": "",
        "line": 26,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Settings Test\" exists for me",
            "line": 27,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3275000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has shared settings with tone \"professional\"",
            "line": 28,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:965"
            },
            "result": {
              "status": "passed",
              "duration": 428000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 29,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4290000
            }
          },
          {
            "keyword": "When ",
            "name": "I run agents on the lead",
            "line": 30,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1050"
            },
            "result": {
              "status": "passed",
              "duration": 288330000
            }
          },
          {
            "keyword": "Then ",
            "name": "the agents should use the campaign's shared settings",
            "line": 31,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1150"
            },
            "result": {
              "status": "passed",
              "duration": 105000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "update-a-campaign-via-api",
    "uri": "features/campaign_update.feature",
    "keyword": "Feature",
    "name": "Update a campaign via API",
    "description": "  As an authenticated user\n  I want to update my campaign\n  So that I can change its title",
    "line": 1,
    "elements": [
      {
        "id": "update-a-campaign-via-api;update-campaign-title",
        "keyword": "Scenario",
        "name": "Update campaign title",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Initial\" exists for me",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 9986000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/campaigns/#{@campaign.id}\" with JSON:",
            "line": 8,
            "doc_string": {
              "value": "{\"campaign\": {\"title\": \"Renamed\"}}",
              "content_type": "",
              "line": 9
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 5088000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 12,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"title\" with \"Renamed\"",
            "line": 13,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 177000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "campaign-input-validation",
    "uri": "features/campaign_validation.feature",
    "keyword": "Feature",
    "name": "Campaign input validation",
    "description": "  As a campaign creator\n  I want helpful errors when I submit invalid data\n  So that I can fix mistakes quickly",
    "line": 1,
    "elements": [
      {
        "id": "campaign-input-validation;missing-title-yields-validation-error",
        "keyword": "Scenario",
        "name": "Missing title yields validation error",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6679000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns\" with JSON:",
            "line": 8,
            "doc_string": {
              "value": "{\"campaign\": {\"title\": \"\", \"sharedSettings\": {\"brand_voice\": {\"tone\": \"professional\", \"persona\": \"founder\"}, \"primary_goal\": \"book_call\"}}}",
              "content_type": "",
              "line": 9
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 3528000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 12,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 35000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 171000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "campaign-validation",
    "uri": "features/campaign_validation_comprehensive.feature",
    "keyword": "Feature",
    "name": "Campaign Validation",
    "description": "  As an authenticated user\n  I want validation errors for invalid campaign data\n  So that I can correct mistakes",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5534000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "campaign-validation;missing-title-yields-validation-error",
        "keyword": "Scenario",
        "name": "Missing title yields validation error",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns\" with JSON:",
            "line": 10,
            "doc_string": {
              "value": "{\"campaign\": {\"title\": \"\", \"sharedSettings\": {}}}",
              "content_type": "",
              "line": 11
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 4878000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 14,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"errors\"",
            "line": 15,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8776000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 326000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "campaign-validation;nil-title-yields-validation-error",
        "keyword": "Scenario",
        "name": "Nil title yields validation error",
        "description": "",
        "line": 17,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns\" with JSON:",
            "line": 18,
            "doc_string": {
              "value": "{\"campaign\": {\"sharedSettings\": {}}}",
              "content_type": "",
              "line": 19
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 5853000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 22,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6760000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 170000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "campaign-validation;very-long-title-is-accepted",
        "keyword": "Scenario",
        "name": "Very long title is accepted",
        "description": "",
        "line": 24,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns\" with JSON:",
            "line": 25,
            "doc_string": {
              "value": "{\"campaign\": {\"title\": \"A\" * 255, \"sharedSettings\": {}}}",
              "content_type": "",
              "line": 26
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 4658000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 201",
            "line": 29,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8939000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 168000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "campaign-validation;campaign-can-be-created-with-empty-shared-settings",
        "keyword": "Scenario",
        "name": "Campaign can be created with empty shared settings",
        "description": "",
        "line": 31,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns\" with JSON:",
            "line": 32,
            "doc_string": {
              "value": "{\"campaign\": {\"title\": \"Minimal Campaign\", \"sharedSettings\": {}}}",
              "content_type": "",
              "line": 33
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 6624000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 201",
            "line": 36,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6871000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 177000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "campaign-validation;campaign-can-be-created-with-complex-shared-settings",
        "keyword": "Scenario",
        "name": "Campaign can be created with complex shared settings",
        "description": "",
        "line": 38,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns\" with JSON:",
            "line": 39,
            "doc_string": {
              "value": "{\"campaign\": {\"title\": \"Complex Campaign\", \"sharedSettings\": {\"brand_voice\": {\"tone\": \"professional\", \"persona\": \"founder\"}, \"primary_goal\": \"book_call\", \"custom_field\": \"value\"}}}",
              "content_type": "",
              "line": 40
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 4866000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 201",
            "line": 43,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "list-my-campaigns-via-api",
    "uri": "features/campaigns_index.feature",
    "keyword": "Feature",
    "name": "List my campaigns via API",
    "description": "  As an authenticated user\n  I want to list my campaigns\n  So that I can view what Ive created",
    "line": 1,
    "elements": [
      {
        "id": "list-my-campaigns-via-api;get-campaigns-list",
        "keyword": "Scenario",
        "name": "Get campaigns list",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Listing Test\" exists for me",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 7972000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/campaigns\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 3927000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 9,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON array response should have at least 1 item",
            "line": 10,
            "match": {
              "location": "features/step_definitions/common_steps.rb:170"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 172000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "coverage-gaps",
    "uri": "features/coverage_gaps.feature",
    "keyword": "Feature",
    "name": "Coverage Gaps",
    "description": "  As a developer\n  I want to ensure 100% code coverage\n  So that all code paths are tested",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 16576000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3475000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 172000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;agentconfig-validation-rejects-non-hash-settings",
        "keyword": "Scenario",
        "name": "AgentConfig validation rejects non-Hash settings",
        "description": "",
        "line": 11,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2217000
            }
          },
          {
            "keyword": "When ",
            "name": "I create an agent config with invalid settings",
            "line": 13,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 350000
            }
          },
          {
            "keyword": "Then ",
            "name": "the agent config should have validation errors",
            "line": 14,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 190000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 7646000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6688000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 1925000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 165000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;agentconfig-enabled-and-disabled-methods",
        "keyword": "Scenario",
        "name": "AgentConfig enabled and disabled methods",
        "description": "",
        "line": 16,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 17,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3155000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"WRITER\" agent config",
            "line": 18,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 1509000
            }
          },
          {
            "keyword": "When ",
            "name": "I check if the agent config is enabled",
            "line": 19,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:24"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should be enabled",
            "line": 20,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:28"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "keyword": "When ",
            "name": "I disable the agent config",
            "line": 21,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:32"
            },
            "result": {
              "status": "passed",
              "duration": 1087000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should be disabled",
            "line": 22,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:37"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7134000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3468000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 753000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;agentconfig-get_setting-and-set_setting-methods",
        "keyword": "Scenario",
        "name": "AgentConfig get_setting and set_setting methods",
        "description": "",
        "line": 24,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 25,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2176000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 26,
            "doc_string": {
              "value": "{\"tone\": \"formal\"}",
              "content_type": "",
              "line": 27
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1407000
            }
          },
          {
            "keyword": "When ",
            "name": "I get the setting \"tone\" from the agent config",
            "line": 30,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should equal \"formal\"",
            "line": 31,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:50"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "keyword": "When ",
            "name": "I set the setting \"persona\" to \"founder\" on the agent config",
            "line": 32,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:54"
            },
            "result": {
              "status": "passed",
              "duration": 2472000
            }
          },
          {
            "keyword": "Then ",
            "name": "the agent config should have setting \"persona\" equal to \"founder\"",
            "line": 33,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:59"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7554000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 7148000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 178000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;campaign-default-shared_settings",
        "keyword": "Scenario",
        "name": "Campaign default shared_settings",
        "description": "",
        "line": 36,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 37,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6409000
            }
          },
          {
            "keyword": "When ",
            "name": "I check the campaign's shared_settings",
            "line": 38,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:64"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should have default brand_voice",
            "line": 39,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:68"
            },
            "result": {
              "status": "passed",
              "duration": 65000
            }
          },
          {
            "keyword": "And ",
            "name": "it should have default primary_goal",
            "line": 40,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:73"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9057000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2869000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 73000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 223000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;campaign-brand_voice-and-primary_goal-fallbacks",
        "keyword": "Scenario",
        "name": "Campaign brand_voice and primary_goal fallbacks",
        "description": "",
        "line": 42,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 43,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2967000
            }
          },
          {
            "keyword": "When ",
            "name": "I clear the campaign's shared_settings",
            "line": 44,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:77"
            },
            "result": {
              "status": "passed",
              "duration": 483000
            }
          },
          {
            "keyword": "And ",
            "name": "I check the campaign's brand_voice",
            "line": 45,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should return default brand_voice",
            "line": 46,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:86"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "keyword": "When ",
            "name": "I check the campaign's primary_goal",
            "line": 47,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:91"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "keyword": "Then ",
            "name": "the primary goal should return \"book_call\"",
            "line": 48,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:95"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6726000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2752000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 354000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;lead-serialization-returns-camelcase",
        "keyword": "Scenario",
        "name": "Lead serialization returns camelCase",
        "description": "",
        "line": 51,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 52,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2407000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 53,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3127000
            }
          },
          {
            "keyword": "When ",
            "name": "I serialize the lead",
            "line": 54,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:100"
            },
            "result": {
              "status": "passed",
              "duration": 7633000
            }
          },
          {
            "keyword": "Then ",
            "name": "the serialized lead should include \"campaignId\"",
            "line": 55,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:104"
            },
            "result": {
              "status": "passed",
              "duration": 72000
            }
          },
          {
            "keyword": "And ",
            "name": "the serialized lead should not include \"campaign_id\"",
            "line": 56,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:108"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "keyword": "And ",
            "name": "the serialized campaignId should equal the campaign id",
            "line": 57,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6818000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2415000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 252000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;markdownhelper-handles-blockquotes-with-accumulated-paragraphs",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles blockquotes with accumulated paragraphs",
        "description": "",
        "line": 60,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown with blockquote after paragraph:",
            "line": 61,
            "doc_string": {
              "value": "First paragraph line one\nline two\n\n> Quote line",
              "content_type": "",
              "line": 62
            },
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:117"
            },
            "result": {
              "status": "passed",
              "duration": 67000
            }
          },
          {
            "keyword": "Then ",
            "name": "the HTML should contain blockquote",
            "line": 68,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:124"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7849000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2681000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 164000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;markdownhelper-handles-bullet-lists-with-accumulated-paragraphs",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles bullet lists with accumulated paragraphs",
        "description": "",
        "line": 70,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown with list after paragraph:",
            "line": 71,
            "doc_string": {
              "value": "First paragraph line one\nline two\n\n- Item one\n- Item two",
              "content_type": "",
              "line": 72
            },
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 71000
            }
          },
          {
            "keyword": "Then ",
            "name": "the HTML should contain list items",
            "line": 79,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:135"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6944000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3057000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 363000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;markdownhelper-closes-list-on-non-list-line",
        "keyword": "Scenario",
        "name": "MarkdownHelper closes list on non-list line",
        "description": "",
        "line": 81,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown with list then paragraph:",
            "line": 82,
            "doc_string": {
              "value": "- Item one\n- Item two\n\nNormal paragraph",
              "content_type": "",
              "line": 83
            },
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:139"
            },
            "result": {
              "status": "passed",
              "duration": 77000
            }
          },
          {
            "keyword": "Then ",
            "name": "the HTML should close the list before paragraph",
            "line": 89,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:146"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8166000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2855000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 104000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 424000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;markdownhelper-handles-blockquote-without-blank-line",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles blockquote without blank line",
        "description": "",
        "line": 91,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown with blockquote after paragraph:",
            "line": 92,
            "doc_string": {
              "value": "First paragraph line one\n> Quote line",
              "content_type": "",
              "line": 93
            },
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:117"
            },
            "result": {
              "status": "passed",
              "duration": 68000
            }
          },
          {
            "keyword": "Then ",
            "name": "the HTML should contain blockquote",
            "line": 97,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:124"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6510000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2146000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 164000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;markdownhelper-handles-list-without-blank-line",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles list without blank line",
        "description": "",
        "line": 99,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown with list after paragraph:",
            "line": 100,
            "doc_string": {
              "value": "First paragraph line one\n- Item one",
              "content_type": "",
              "line": 101
            },
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "keyword": "Then ",
            "name": "the HTML should contain list items",
            "line": 105,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:135"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7459000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3158000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 539000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;coverage-harness-exercises-models-and-helpers",
        "keyword": "Scenario",
        "name": "Coverage harness exercises models and helpers",
        "description": "",
        "line": 108,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 109,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2647000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 110,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3859000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the model and helper coverage harness",
            "line": 111,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:499"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "keyword": "Then ",
            "name": "the coverage harness should complete",
            "line": 112,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:564"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7064000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2518000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 165000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;coverage-harness-exercises-service-and-job-errors",
        "keyword": "Scenario",
        "name": "Coverage harness exercises service and job errors",
        "description": "",
        "line": 114,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 115,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2274000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 116,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2487000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the service error coverage harness",
            "line": 117,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:512"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "keyword": "Then ",
            "name": "the coverage harness should complete",
            "line": 118,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:564"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7326000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4296000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 356000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;coverage-harness-exercises-controller-helpers",
        "keyword": "Scenario",
        "name": "Coverage harness exercises controller helpers",
        "description": "",
        "line": 120,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I run the controller helper coverage harness",
            "line": 121,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:525"
            },
            "result": {
              "status": "passed",
              "duration": 68000
            }
          },
          {
            "keyword": "Then ",
            "name": "the coverage harness should complete",
            "line": 122,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:564"
            },
            "result": {
              "status": "passed",
              "duration": 87000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 35000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9278000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4485000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 172000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;service-harness-covers-ai-agent-logic",
        "keyword": "Scenario",
        "name": "Service harness covers AI agent logic",
        "description": "",
        "line": 124,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 125,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3370000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 126,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3546000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the agent service coverage harness",
            "line": 127,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:534"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "keyword": "Then ",
            "name": "the coverage harness should complete",
            "line": 128,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:564"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6777000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3294000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 163000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;service-harness-covers-gmail-oauth-and-email-sender",
        "keyword": "Scenario",
        "name": "Service harness covers Gmail OAuth and email sender",
        "description": "",
        "line": 130,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 131,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2371000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 132,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2803000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the Gmail OAuth coverage harness",
            "line": 133,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:548"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "keyword": "And ",
            "name": "I run the email sender coverage harness",
            "line": 134,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:556"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "keyword": "Then ",
            "name": "the coverage harness should complete",
            "line": 135,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:564"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6855000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 1930000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 175000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;customfailureapp-production-mode-signup-redirect",
        "keyword": "Scenario",
        "name": "CustomFailureApp production mode signup redirect",
        "description": "",
        "line": 138,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 139,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "keyword": "And ",
            "name": "I am in production mode",
            "line": 140,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:156"
            },
            "result": {
              "status": "passed",
              "duration": 223000
            }
          },
          {
            "keyword": "When ",
            "name": "I access a protected resource without authentication",
            "line": 141,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:170"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "keyword": "And ",
            "name": "the failure app request path is \"/signup\"",
            "line": 142,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:175"
            },
            "result": {
              "status": "passed",
              "duration": 239000
            }
          },
          {
            "keyword": "Then ",
            "name": "the failure app should redirect to \"/signup\"",
            "line": 143,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:181"
            },
            "result": {
              "status": "passed",
              "duration": 122000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5680000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 1886000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 220000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;customfailureapp-production-mode-non-user-scope",
        "keyword": "Scenario",
        "name": "CustomFailureApp production mode non-user scope",
        "description": "",
        "line": 145,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 146,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "keyword": "And ",
            "name": "I am in production mode",
            "line": 147,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:156"
            },
            "result": {
              "status": "passed",
              "duration": 194000
            }
          },
          {
            "keyword": "When ",
            "name": "I access a protected resource with non-user scope",
            "line": 148,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:185"
            },
            "result": {
              "status": "passed",
              "duration": 856000
            }
          },
          {
            "keyword": "Then ",
            "name": "the failure app should use default behavior",
            "line": 149,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:214"
            },
            "result": {
              "status": "passed",
              "duration": 80000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 60000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6323000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2071000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;applicationcontroller-production-path-helpers",
        "keyword": "Scenario",
        "name": "ApplicationController production path helpers",
        "description": "",
        "line": 152,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am in production mode",
            "line": 153,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:156"
            },
            "result": {
              "status": "passed",
              "duration": 192000
            }
          },
          {
            "keyword": "When ",
            "name": "I call new_user_session_path",
            "line": 154,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:219"
            },
            "result": {
              "status": "passed",
              "duration": 100000
            }
          },
          {
            "keyword": "Then ",
            "name": "the session path should return \"/login\"",
            "line": 155,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:239"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "keyword": "When ",
            "name": "I call new_user_registration_path",
            "line": 156,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:229"
            },
            "result": {
              "status": "passed",
              "duration": 62000
            }
          },
          {
            "keyword": "Then ",
            "name": "the registration path should return \"/signup\"",
            "line": 157,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:243"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12045000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 10188000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 161000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 71000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;applicationcontroller-development-path-helpers",
        "keyword": "Scenario",
        "name": "ApplicationController development path helpers",
        "description": "",
        "line": 159,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am in development mode",
            "line": 160,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:163"
            },
            "result": {
              "status": "passed",
              "duration": 593000
            }
          },
          {
            "keyword": "When ",
            "name": "I call new_user_session_path",
            "line": 161,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:219"
            },
            "result": {
              "status": "passed",
              "duration": 347000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should return Devise default path",
            "line": 162,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:247"
            },
            "result": {
              "status": "passed",
              "duration": 76000
            }
          },
          {
            "keyword": "When ",
            "name": "I call new_user_registration_path",
            "line": 163,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:229"
            },
            "result": {
              "status": "passed",
              "duration": 115000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should return Devise default path",
            "line": 164,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:247"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12357000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4088000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 100000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 339000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;basecontroller-development-skip_auth-default",
        "keyword": "Scenario",
        "name": "BaseController development skip_auth default",
        "description": "",
        "line": 167,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "DISABLE_AUTH is not set",
            "line": 168,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:355"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "keyword": "And ",
            "name": "I am in development mode",
            "line": 169,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:163"
            },
            "result": {
              "status": "passed",
              "duration": 367000
            }
          },
          {
            "keyword": "When ",
            "name": "I check skip_auth",
            "line": 170,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:253"
            },
            "result": {
              "status": "passed",
              "duration": 435000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should be true",
            "line": 171,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:261"
            },
            "result": {
              "status": "passed",
              "duration": 35000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 109000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8937000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3014000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 166000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;basecontroller-respects-disable_auth-false-flag",
        "keyword": "Scenario",
        "name": "BaseController respects DISABLE_AUTH false flag",
        "description": "",
        "line": 173,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "DISABLE_AUTH is set to \"false\"",
            "line": 174,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:351"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "keyword": "And ",
            "name": "I am in development mode",
            "line": 175,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:163"
            },
            "result": {
              "status": "passed",
              "duration": 216000
            }
          },
          {
            "keyword": "When ",
            "name": "I check skip_auth",
            "line": 176,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:253"
            },
            "result": {
              "status": "passed",
              "duration": 65000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should be false",
            "line": 177,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:265"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 388000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7824000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2284000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 102000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 176000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;basecontroller-handles-missingwarden-exception",
        "keyword": "Scenario",
        "name": "BaseController handles MissingWarden exception",
        "description": "",
        "line": 179,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 180,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "keyword": "When ",
            "name": "I make an API request that raises MissingWarden",
            "line": 181,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:269"
            },
            "result": {
              "status": "passed",
              "duration": 609000
            }
          },
          {
            "keyword": "Then ",
            "name": "the request should handle the exception gracefully",
            "line": 182,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:284"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9530000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2485000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 72000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 661000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;agentconfigscontroller-index-with-non-existent-campaign",
        "keyword": "Scenario",
        "name": "AgentConfigsController index with non-existent campaign",
        "description": "",
        "line": 185,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/campaigns/9999/agent_configs\"",
            "line": 186,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 5001000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 404",
            "line": 187,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9134000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3495000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 197000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;agentconfigscontroller-show-with-non-existent-config",
        "keyword": "Scenario",
        "name": "AgentConfigsController show with non-existent config",
        "description": "",
        "line": 189,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 190,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3592000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs/9999\"",
            "line": 191,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 57411000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 404",
            "line": 192,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 128000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11244000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 12939000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 66000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 225000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;agentconfigscontroller-create-with-non-existent-campaign",
        "keyword": "Scenario",
        "name": "AgentConfigsController create with non-existent campaign",
        "description": "",
        "line": 194,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns/9999/agent_configs\" with JSON:",
            "line": 195,
            "doc_string": {
              "value": "{\"agent_config\": {\"agent_name\": \"WRITER\", \"enabled\": true}}",
              "content_type": "",
              "line": 196
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 10245000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 404",
            "line": 199,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 63000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10082000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3281000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 92000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 246000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;agentconfigscontroller-update-with-fallback-params",
        "keyword": "Scenario",
        "name": "AgentConfigsController update with fallback params",
        "description": "",
        "line": 201,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 202,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5113000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"WRITER\" agent config",
            "line": 203,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 2755000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs/#{@agent_config.id}\" with JSON:",
            "line": 204,
            "doc_string": {
              "value": "{\"enabled\": false}",
              "content_type": "",
              "line": 205
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 23264000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 208,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 71000
            }
          },
          {
            "keyword": "And ",
            "name": "the agent config should be disabled",
            "line": 209,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:41"
            },
            "result": {
              "status": "passed",
              "duration": 1795000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 13773000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 10313000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 67000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 420000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 82000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;agentconfigscontroller-destroy-with-non-existent-config",
        "keyword": "Scenario",
        "name": "AgentConfigsController destroy with non-existent config",
        "description": "",
        "line": 211,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 212,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4755000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a DELETE request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs/9999\"",
            "line": 213,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 35462000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 404",
            "line": 214,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 1491000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 285000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 79000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10728000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4078000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 92000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 481000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;agentconfigscontroller-index-returns-configs",
        "keyword": "Scenario",
        "name": "AgentConfigsController index returns configs",
        "description": "",
        "line": 216,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 217,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2923000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 218,
            "doc_string": {
              "value": "{\"tone\": \"friendly\"}",
              "content_type": "",
              "line": 219
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 2622000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs\"",
            "line": 222,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 9696000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 223,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"campaignId\"",
            "line": 224,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 2155000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 35000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11056000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3706000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 80000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 520000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;agentconfigscontroller-show-returns-config",
        "keyword": "Scenario",
        "name": "AgentConfigsController show returns config",
        "description": "",
        "line": 226,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 227,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2742000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"WRITER\" agent config",
            "line": 228,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 1947000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs/#{@agent_config.id}\"",
            "line": 229,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 5626000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 230,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"agentName\" with \"WRITER\"",
            "line": 231,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7776000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4299000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 199000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;agentconfigscontroller-create-succeeds",
        "keyword": "Scenario",
        "name": "AgentConfigsController create succeeds",
        "description": "",
        "line": 233,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 234,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4756000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs\" with JSON:",
            "line": 235,
            "doc_string": {
              "value": "{\"agent_config\": {\"agentName\": \"CRITIQUE\", \"enabled\": true, \"settings\": {\"strictness\": \"strict\"}}}",
              "content_type": "",
              "line": 236
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 17747000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 201",
            "line": 239,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"agentName\" with \"CRITIQUE\"",
            "line": 240,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10614000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 7094000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 204000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 295000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;agentconfigscontroller-destroy-removes-config",
        "keyword": "Scenario",
        "name": "AgentConfigsController destroy removes config",
        "description": "",
        "line": 242,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 243,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6653000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"WRITER\" agent config",
            "line": 244,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 5229000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a DELETE request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs/#{@agent_config.id}\"",
            "line": 245,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 9265000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 204",
            "line": 246,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 59000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7631000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2338000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 60000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 201000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 93000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;leadscontroller-update-with-non-existent-lead",
        "keyword": "Scenario",
        "name": "LeadsController update with non-existent lead",
        "description": "",
        "line": 249,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/leads/9999\" with JSON:",
            "line": 250,
            "doc_string": {
              "value": "{\"name\": \"Updated Lead\"}",
              "content_type": "",
              "line": 251
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 4341000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 254,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6524000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2418000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 172000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;leadscontroller-run_agents-async-with-enqueue-error",
        "keyword": "Scenario",
        "name": "LeadsController run_agents async with enqueue error",
        "description": "",
        "line": 256,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 257,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 7632000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 258,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 10656000
            }
          },
          {
            "keyword": "And ",
            "name": "job enqueueing will fail",
            "line": 259,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:147"
            },
            "result": {
              "status": "passed",
              "duration": 1292000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents?async=true\"",
            "line": 260,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 16455000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 500",
            "line": 261,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9353000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3534000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 205000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;leadscontroller-run_agents-sync-with-service-error",
        "keyword": "Scenario",
        "name": "LeadsController run_agents sync with service error",
        "description": "",
        "line": 263,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 264,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2870000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 265,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3097000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead agent service will fail",
            "line": 266,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:289"
            },
            "result": {
              "status": "passed",
              "duration": 320000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents?async=false\"",
            "line": 267,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 37210000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 268,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6566000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3596000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 867000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;leadscontroller-run_agents-sync-with-unexpected-error",
        "keyword": "Scenario",
        "name": "LeadsController run_agents sync with unexpected error",
        "description": "",
        "line": 270,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 271,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2621000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 272,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4267000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead agent service will raise unexpected error",
            "line": 273,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:299"
            },
            "result": {
              "status": "passed",
              "duration": 171000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents?async=false\"",
            "line": 274,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 24166000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 500",
            "line": 275,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 82000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 72000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12683000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3872000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 66000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 179000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;leadscontroller-send_email-with-service-error",
        "keyword": "Scenario",
        "name": "LeadsController send_email with service error",
        "description": "",
        "line": 277,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 278,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3409000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 279,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 11921000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 280,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 18206000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 281,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 2858000
            }
          },
          {
            "keyword": "And ",
            "name": "email delivery will fail",
            "line": 282,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:130"
            },
            "result": {
              "status": "passed",
              "duration": 3429000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/send_email\"",
            "line": 283,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 12500000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 500",
            "line": 284,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7484000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4962000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 196000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;leadscontroller-update_agent_output-with-missing-agent-name",
        "keyword": "Scenario",
        "name": "LeadsController update_agent_output with missing agent name",
        "description": "",
        "line": 286,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 287,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5070000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 288,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 6280000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/leads/#{@lead.id}/update_agent_output\" with JSON:",
            "line": 289,
            "doc_string": {
              "value": "{}",
              "content_type": "",
              "line": 290
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 10607000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 293,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8694000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2841000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 286000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;leadscontroller-update_agent_output-with-invalid-agent-name",
        "keyword": "Scenario",
        "name": "LeadsController update_agent_output with invalid agent name",
        "description": "",
        "line": 295,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 296,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2248000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 297,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3236000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/leads/#{@lead.id}/update_agent_output\" with JSON:",
            "line": 298,
            "doc_string": {
              "value": "{\"agentName\": \"INVALID\"}",
              "content_type": "",
              "line": 299
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 7753000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 302,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9682000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3721000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 418000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;leadscontroller-update_agent_output-search-without-updateddata",
        "keyword": "Scenario",
        "name": "LeadsController update_agent_output SEARCH without updatedData",
        "description": "",
        "line": 304,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 305,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3145000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 306,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3644000
            }
          },
          {
            "keyword": "And ",
            "name": "a \"SEARCH\" agent output exists for the lead",
            "line": 307,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 3506000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/leads/#{@lead.id}/update_agent_output\" with JSON:",
            "line": 308,
            "doc_string": {
              "value": "{\"agentName\": \"SEARCH\"}",
              "content_type": "",
              "line": 309
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 8051000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 312,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 77000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9044000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2743000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 60000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 369000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;leadscontroller-update-succeeds",
        "keyword": "Scenario",
        "name": "LeadsController update succeeds",
        "description": "",
        "line": 314,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 315,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4237000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 316,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4121000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/leads/#{@lead.id}\" with JSON:",
            "line": 317,
            "doc_string": {
              "value": "{\"lead\": {\"campaignId\": \"#{@campaign.id}\", \"name\": \"Updated Lead\", \"email\": \"updated@example.com\", \"title\": \"CEO\", \"company\": \"Acme\"}}",
              "content_type": "",
              "line": 318
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 16919000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 321,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7875000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2704000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 98000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 284000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;leadscontroller-destroy-succeeds",
        "keyword": "Scenario",
        "name": "LeadsController destroy succeeds",
        "description": "",
        "line": 323,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 324,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2018000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 325,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2339000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a DELETE request to \"/api/v1/leads/#{@lead.id}\"",
            "line": 326,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 13441000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 204",
            "line": 327,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7609000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3583000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 70000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 173000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;leadscontroller-agent_outputs-returns-outputs",
        "keyword": "Scenario",
        "name": "LeadsController agent_outputs returns outputs",
        "description": "",
        "line": 329,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 330,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 7085000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 331,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 5876000
            }
          },
          {
            "keyword": "And ",
            "name": "a \"WRITER\" agent output exists for the lead",
            "line": 332,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 3025000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/leads/#{@lead.id}/agent_outputs\"",
            "line": 333,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 13458000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 334,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 100000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"outputs\"",
            "line": 335,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7226000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2380000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 121000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 81000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 201000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;leadscontroller-run_agents-async-success",
        "keyword": "Scenario",
        "name": "LeadsController run_agents async success",
        "description": "",
        "line": 337,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 338,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3399000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 339,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2584000
            }
          },
          {
            "keyword": "And ",
            "name": "job enqueueing will succeed with job id \"123\"",
            "line": 340,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 250000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents?async=true\"",
            "line": 341,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 14842000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 202",
            "line": 342,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"status\" with \"queued\"",
            "line": 343,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6777000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3019000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 169000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;leadscontroller-run_agents-sync-success",
        "keyword": "Scenario",
        "name": "LeadsController run_agents sync success",
        "description": "",
        "line": 345,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 346,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2212000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 347,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2410000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead agent service will succeed",
            "line": 348,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:303"
            },
            "result": {
              "status": "passed",
              "duration": 157000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/run_agents?async=false\"",
            "line": 349,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 21047000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 350,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"status\" with \"completed\"",
            "line": 351,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 116000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6579000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2280000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 171000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;leadscontroller-send_email-succeeds",
        "keyword": "Scenario",
        "name": "LeadsController send_email succeeds",
        "description": "",
        "line": 353,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 354,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2095000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 355,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2730000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 356,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3057000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 357,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 6053000
            }
          },
          {
            "keyword": "And ",
            "name": "email delivery will succeed",
            "line": 358,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:135"
            },
            "result": {
              "status": "passed",
              "duration": 211000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/#{@lead.id}/send_email\"",
            "line": 359,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 8803000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 360,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7970000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3325000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 145000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;campaignscontroller-show-with-non-existent-campaign",
        "keyword": "Scenario",
        "name": "CampaignsController show with non-existent campaign",
        "description": "",
        "line": 363,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I request the page \"/campaigns/9999\"",
            "line": 364,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:327"
            },
            "result": {
              "status": "passed",
              "duration": 3806000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 404",
            "line": 365,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8815000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2747000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 67000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 430000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;campaignscontroller-creates-admin-user-when-needed",
        "keyword": "Scenario",
        "name": "CampaignsController creates admin user when needed",
        "description": "",
        "line": 367,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "no users exist",
            "line": 368,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 4667000
            }
          },
          {
            "keyword": "And ",
            "name": "DISABLE_AUTH is set to \"true\"",
            "line": 369,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:351"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "keyword": "When ",
            "name": "I visit \"/campaigns\"",
            "line": 370,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:346"
            },
            "result": {
              "status": "passed",
              "duration": 21887000
            }
          },
          {
            "keyword": "Then ",
            "name": "an admin user should be created",
            "line": 371,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:359"
            },
            "result": {
              "status": "passed",
              "duration": 1806000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 74000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6489000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2725000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 325000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 398000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;campaignscontroller-show-renders-campaign-page",
        "keyword": "Scenario",
        "name": "CampaignsController show renders campaign page",
        "description": "",
        "line": 373,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 374,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2986000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 375,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2590000
            }
          },
          {
            "keyword": "When ",
            "name": "I visit \"/campaigns/#{@campaign.id}\"",
            "line": 376,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:346"
            },
            "result": {
              "status": "passed",
              "duration": 6363000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 377,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6483000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 1972000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 303000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;campaignscontroller-updates-admin-fallback-user-fields",
        "keyword": "Scenario",
        "name": "CampaignsController updates admin fallback user fields",
        "description": "",
        "line": 379,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 380,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1654000
            }
          },
          {
            "keyword": "And ",
            "name": "the admin user is missing profile metadata",
            "line": 381,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:364"
            },
            "result": {
              "status": "passed",
              "duration": 1605000
            }
          },
          {
            "keyword": "And ",
            "name": "DISABLE_AUTH is set to \"true\"",
            "line": 382,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:351"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "When ",
            "name": "I visit \"/campaigns\"",
            "line": 383,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:346"
            },
            "result": {
              "status": "passed",
              "duration": 3324000
            }
          },
          {
            "keyword": "Then ",
            "name": "the admin user profile should be completed",
            "line": 384,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:370"
            },
            "result": {
              "status": "passed",
              "duration": 2206000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6326000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2402000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;user-registration-with-inactive-account",
        "keyword": "Scenario",
        "name": "User registration with inactive account",
        "description": "",
        "line": 387,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 388,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "keyword": "And ",
            "name": "no users exist",
            "line": 389,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 2582000
            }
          },
          {
            "keyword": "When ",
            "name": "I register with valid credentials but account is inactive",
            "line": 390,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:382"
            },
            "result": {
              "status": "passed",
              "duration": 24159000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should see inactive account message",
            "line": 391,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:392"
            },
            "result": {
              "status": "passed",
              "duration": 507000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected appropriately",
            "line": 392,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:397"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 94000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5736000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2243000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 85000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 286000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;user-login-clears-remember_me-when-not-checked",
        "keyword": "Scenario",
        "name": "User login clears remember_me when not checked",
        "description": "",
        "line": 395,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\"",
            "line": 396,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 4615000
            }
          },
          {
            "keyword": "And ",
            "name": "the user has remember_me enabled",
            "line": 397,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:403"
            },
            "result": {
              "status": "passed",
              "duration": 644000
            }
          },
          {
            "keyword": "When ",
            "name": "I log in without remember_me",
            "line": 398,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:408"
            },
            "result": {
              "status": "passed",
              "duration": 15770000
            }
          },
          {
            "keyword": "Then ",
            "name": "the user's remember_me should be cleared",
            "line": 399,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:414"
            },
            "result": {
              "status": "passed",
              "duration": 685000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 16233000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2707000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 144000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;user-sign-out-clears-remember_me",
        "keyword": "Scenario",
        "name": "User sign out clears remember_me",
        "description": "",
        "line": 401,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 402,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 973000
            }
          },
          {
            "keyword": "And ",
            "name": "I have remember_me enabled",
            "line": 403,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:55"
            },
            "result": {
              "status": "passed",
              "duration": 8506000
            }
          },
          {
            "keyword": "When ",
            "name": "I sign out",
            "line": 404,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:419"
            },
            "result": {
              "status": "passed",
              "duration": 6310000
            }
          },
          {
            "keyword": "Then ",
            "name": "the user's remember_me should be cleared",
            "line": 405,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:414"
            },
            "result": {
              "status": "passed",
              "duration": 631000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 69000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9583000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4381000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;api::v1::campaignscontroller-send_emails-with-non-existent-campaign",
        "keyword": "Scenario",
        "name": "Api::V1::CampaignsController send_emails with non-existent campaign",
        "description": "",
        "line": 408,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns/9999/send_emails\"",
            "line": 409,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 3613000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 404",
            "line": 410,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6694000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2147000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 149000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;api::v1::campaignscontroller-send_emails-with-service-error",
        "keyword": "Scenario",
        "name": "Api::V1::CampaignsController send_emails with service error",
        "description": "",
        "line": 412,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 413,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1658000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 414,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2059000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 415,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1782000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 416,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1524000
            }
          },
          {
            "keyword": "And ",
            "name": "email delivery will fail",
            "line": 417,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:130"
            },
            "result": {
              "status": "passed",
              "duration": 325000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns/#{@campaign.id}/send_emails\"",
            "line": 418,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 4647000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 500",
            "line": 419,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5779000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2336000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 146000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;api::v1::campaignscontroller-send_emails-succeeds",
        "keyword": "Scenario",
        "name": "Api::V1::CampaignsController send_emails succeeds",
        "description": "",
        "line": 421,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 422,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1825000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 423,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 1943000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 424,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1542000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 425,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1424000
            }
          },
          {
            "keyword": "And ",
            "name": "email delivery will succeed",
            "line": 426,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:135"
            },
            "result": {
              "status": "passed",
              "duration": 175000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns/#{@campaign.id}/send_emails\"",
            "line": 427,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 4702000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 428,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6503000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2285000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 143000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;api::v1::campaignscontroller-campaign-params-fallback-without-campaign",
        "keyword": "Scenario",
        "name": "Api::V1::CampaignsController campaign params fallback without campaign",
        "description": "",
        "line": 430,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 431,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1945000
            }
          },
          {
            "keyword": "When ",
            "name": "I exercise campaign params without an existing campaign",
            "line": 432,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:482"
            },
            "result": {
              "status": "passed",
              "duration": 1084000
            }
          },
          {
            "keyword": "Then ",
            "name": "the coverage harness should complete",
            "line": 433,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:564"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10060000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 10693000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 162000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;api::v1::apikeyscontroller-show-without-user",
        "keyword": "Scenario",
        "name": "Api::V1::ApiKeysController show without user",
        "description": "",
        "line": 436,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 437,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "DISABLE_AUTH is set to \"false\"",
            "line": 438,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:351"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "And ",
            "name": "I am not logged in",
            "line": 439,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:467"
            },
            "result": {
              "status": "passed",
              "duration": 60000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/api_keys\"",
            "line": 440,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 3218000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 401",
            "line": 441,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6543000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2687000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 146000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;api::v1::apikeyscontroller-update-with-validation-errors",
        "keyword": "Scenario",
        "name": "Api::V1::ApiKeysController update with validation errors",
        "description": "",
        "line": 443,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 444,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 636000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/api_keys\" with JSON:",
            "line": 445,
            "doc_string": {
              "value": "{\"llmApiKey\": null}",
              "content_type": "",
              "line": 446
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 4628000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 449,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6326000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2316000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 146000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;api::v1::apikeyscontroller-update-handles-failures",
        "keyword": "Scenario",
        "name": "Api::V1::ApiKeysController update handles failures",
        "description": "",
        "line": 451,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 452,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 548000
            }
          },
          {
            "keyword": "And ",
            "name": "API key updates will fail",
            "line": 453,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:318"
            },
            "result": {
              "status": "passed",
              "duration": 377000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/api_keys\" with JSON:",
            "line": 454,
            "doc_string": {
              "value": "{\"llmApiKey\": \"value\"}",
              "content_type": "",
              "line": 455
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 2506000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 458,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5943000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2617000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 306000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;writeragent-handles-missing-candidate-in-response",
        "keyword": "Scenario",
        "name": "WriterAgent handles missing candidate in response",
        "description": "",
        "line": 461,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 462,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2817000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 463,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2512000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 464,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1592000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 465,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1180000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"WRITER\" agent config",
            "line": 466,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 1455000
            }
          },
          {
            "keyword": "And ",
            "name": "the writer agent will return empty response",
            "line": 467,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:424"
            },
            "result": {
              "status": "passed",
              "duration": 127000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 468,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 13918000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 469,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1201000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER output should include error information",
            "line": 470,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:707"
            },
            "result": {
              "status": "passed",
              "duration": 1023000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 69000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7838000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3425000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;writeragent-handles-different-prompt-building-branches",
        "keyword": "Scenario",
        "name": "WriterAgent handles different prompt building branches",
        "description": "",
        "line": 472,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 473,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3430000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 474,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3045000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 475,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2997000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 476,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1646000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 477,
            "doc_string": {
              "value": "{\"personalization_level\": \"low\", \"tone\": \"formal\", \"email_length\": \"very_short\", \"primary_cta_type\": \"get_reply\", \"cta_softness\": \"soft\"}",
              "content_type": "",
              "line": 478
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 2010000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 481,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 89784000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 482,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1666000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6185000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2313000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;critiqueagent-handles-network-errors",
        "keyword": "Scenario",
        "name": "CritiqueAgent handles network errors",
        "description": "",
        "line": 484,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 485,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1996000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 486,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2894000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 487,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2116000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output",
            "line": 488,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1380000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"CRITIQUE\" agent config",
            "line": 489,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 1244000
            }
          },
          {
            "keyword": "And ",
            "name": "the critique agent will fail with network error",
            "line": 490,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:434"
            },
            "result": {
              "status": "passed",
              "duration": 137000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"CRITIQUE\" agent on the lead",
            "line": 491,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 9325000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"CRITIQUE\" agent output",
            "line": 492,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1569000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 64000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 99000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9593000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4513000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 153000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;critiqueagent-handles-variant-selection",
        "keyword": "Scenario",
        "name": "CritiqueAgent handles variant selection",
        "description": "",
        "line": 494,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 495,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4881000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 496,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 5434000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 497,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3015000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with variants",
            "line": 498,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:814"
            },
            "result": {
              "status": "passed",
              "duration": 1958000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"CRITIQUE\" agent config with settings:",
            "line": 499,
            "doc_string": {
              "value": "{\"variant_selection\": \"highest_personalization_score\"}",
              "content_type": "",
              "line": 500
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1283000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"CRITIQUE\" agent on the lead",
            "line": 503,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 275414000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"CRITIQUE\" agent output",
            "line": 504,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1229000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5700000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2329000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 135000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;designagent-handles-empty-response",
        "keyword": "Scenario",
        "name": "DesignAgent handles empty response",
        "description": "",
        "line": 506,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 507,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2103000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 508,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2696000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 509,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1626000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output",
            "line": 510,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1153000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"DESIGN\" agent config",
            "line": 511,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 1247000
            }
          },
          {
            "keyword": "And ",
            "name": "the design agent will return empty response",
            "line": 512,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:438"
            },
            "result": {
              "status": "passed",
              "duration": 106000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 513,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 18622000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"DESIGN\" agent output",
            "line": 514,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1350000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 64000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7547000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2755000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 127000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;leadagentservice-extract_domain-from-email",
        "keyword": "Scenario",
        "name": "LeadAgentService extract_domain from email",
        "description": "",
        "line": 516,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 517,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2296000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 518,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2423000
            }
          },
          {
            "keyword": "When ",
            "name": "I extract the domain from the lead",
            "line": 519,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:449"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should use the email domain",
            "line": 520,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:466"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6275000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2344000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 133000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "coverage-gaps;leadagentservice-extract_domain-fallback-to-company",
        "keyword": "Scenario",
        "name": "LeadAgentService extract_domain fallback to company",
        "description": "",
        "line": 522,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 523,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4185000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 524,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4712000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has no email",
            "line": 525,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:470"
            },
            "result": {
              "status": "passed",
              "duration": 1392000
            }
          },
          {
            "keyword": "When ",
            "name": "I extract the domain from the lead",
            "line": 526,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:449"
            },
            "result": {
              "status": "passed",
              "duration": 63000
            }
          },
          {
            "keyword": "Then ",
            "name": "it should use the company name",
            "line": 527,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:478"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 108000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "critiqueagent-configuration-variations",
    "uri": "features/critique_agent_configuration.feature",
    "keyword": "Feature",
    "name": "CritiqueAgent Configuration Variations",
    "description": "  As an authenticated user\n  I want to configure CritiqueAgent with different strictness levels\n  So that emails meet my quality standards",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6642000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2148000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2470000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2811000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1704000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1322000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 131000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;critiqueagent-with-min_score-5-(lenient)",
        "keyword": "Scenario",
        "name": "CritiqueAgent with min_score 5 (lenient)",
        "description": "",
        "line": 14,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"CRITIQUE\" agent config with settings:",
            "line": 15,
            "doc_string": {
              "value": "{\"min_score\": 5}",
              "content_type": "",
              "line": 16
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 2351000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"CRITIQUE\" agent on the lead",
            "line": 19,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 157680000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"CRITIQUE\" agent output",
            "line": 20,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 988000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE agent should use min_score 5",
            "line": 21,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:717"
            },
            "result": {
              "status": "passed",
              "duration": 1493000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5515000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2667000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1922000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3153000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3660000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1629000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 79000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 794000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;critiqueagent-with-min_score-7-(moderate)",
        "keyword": "Scenario",
        "name": "CritiqueAgent with min_score 7 (moderate)",
        "description": "",
        "line": 23,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"CRITIQUE\" agent config with settings:",
            "line": 24,
            "doc_string": {
              "value": "{\"min_score\": 7}",
              "content_type": "",
              "line": 25
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1489000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"CRITIQUE\" agent on the lead",
            "line": 28,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 86848000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"CRITIQUE\" agent output",
            "line": 29,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1395000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE agent should use min_score 7",
            "line": 30,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:717"
            },
            "result": {
              "status": "passed",
              "duration": 1351000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6537000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4151000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2022000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 1845000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1494000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1726000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 128000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;critiqueagent-with-min_score-9-(strict)",
        "keyword": "Scenario",
        "name": "CritiqueAgent with min_score 9 (strict)",
        "description": "",
        "line": 32,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"CRITIQUE\" agent config with settings:",
            "line": 33,
            "doc_string": {
              "value": "{\"min_score\": 9}",
              "content_type": "",
              "line": 34
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 2077000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"CRITIQUE\" agent on the lead",
            "line": 37,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 133080000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"CRITIQUE\" agent output",
            "line": 38,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1091000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE agent should use min_score 9",
            "line": 39,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:717"
            },
            "result": {
              "status": "passed",
              "duration": 1354000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6411000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4189000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4002000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3957000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1823000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1200000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 145000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;critiqueagent-with-variant_selection-highest_personalization_score",
        "keyword": "Scenario",
        "name": "CritiqueAgent with variant_selection highest_personalization_score",
        "description": "",
        "line": 41,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"CRITIQUE\" agent config with settings:",
            "line": 42,
            "doc_string": {
              "value": "{\"variant_selection\": \"highest_personalization_score\"}",
              "content_type": "",
              "line": 43
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1960000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with variants",
            "line": 46,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:814"
            },
            "result": {
              "status": "passed",
              "duration": 2847000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"CRITIQUE\" agent on the lead",
            "line": 47,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 263898000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"CRITIQUE\" agent output",
            "line": 48,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1107000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE agent should use highest_personalization_score selection",
            "line": 49,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:725"
            },
            "result": {
              "status": "passed",
              "duration": 1483000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7057000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 6055000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3152000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4654000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 4125000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 2053000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;critiqueagent-with-variant_selection-highest_overall_score-(default)",
        "keyword": "Scenario",
        "name": "CritiqueAgent with variant_selection highest_overall_score (default)",
        "description": "",
        "line": 51,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"CRITIQUE\" agent config with settings:",
            "line": 52,
            "doc_string": {
              "value": "{\"variant_selection\": \"highest_overall_score\"}",
              "content_type": "",
              "line": 53
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 2578000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with variants",
            "line": 56,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:814"
            },
            "result": {
              "status": "passed",
              "duration": 2756000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"CRITIQUE\" agent on the lead",
            "line": 57,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 313079000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"CRITIQUE\" agent output",
            "line": 58,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1236000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE agent should use highest_overall_score selection",
            "line": 59,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:733"
            },
            "result": {
              "status": "passed",
              "duration": 1820000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7039000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3512000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3327000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2756000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3053000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1409000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 152000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;critiqueagent-handles-\"none\"-critique",
        "keyword": "Scenario",
        "name": "CritiqueAgent handles \"None\" critique",
        "description": "",
        "line": 61,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"CRITIQUE\" agent config",
            "line": 62,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 1367000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE agent will return no critique",
            "line": 63,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1310"
            },
            "result": {
              "status": "passed",
              "duration": 117000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"CRITIQUE\" agent on the lead",
            "line": 64,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 14521000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"CRITIQUE\" agent output",
            "line": 65,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1335000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE output should have no critique",
            "line": 66,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:742"
            },
            "result": {
              "status": "passed",
              "duration": 1812000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 71000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7553000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2617000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5492000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 5616000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2498000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1298000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;critiqueagent-limits-revision-count-to-3",
        "keyword": "Scenario",
        "name": "CritiqueAgent limits revision count to 3",
        "description": "",
        "line": 68,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"CRITIQUE\" agent config with settings:",
            "line": 69,
            "doc_string": {
              "value": "{\"min_score\": 9}",
              "content_type": "",
              "line": 70
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 2818000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with revision count 3",
            "line": 73,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:828"
            },
            "result": {
              "status": "passed",
              "duration": 2913000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"CRITIQUE\" agent on the lead",
            "line": 74,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 127505000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"CRITIQUE\" agent output",
            "line": 75,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 9675000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE agent should stop after max revisions",
            "line": 76,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:750"
            },
            "result": {
              "status": "passed",
              "duration": 4338000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 69000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9779000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2839000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3083000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 9325000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2474000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1394000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 88000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 242000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;critiqueagent-handles-network-errors-gracefully",
        "keyword": "Scenario",
        "name": "CritiqueAgent handles network errors gracefully",
        "description": "",
        "line": 78,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"CRITIQUE\" agent config",
            "line": 79,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 2711000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE agent will fail",
            "line": 80,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:858"
            },
            "result": {
              "status": "passed",
              "duration": 299000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"CRITIQUE\" agent on the lead",
            "line": 81,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 17628000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"CRITIQUE\" agent output",
            "line": 82,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1044000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE output should include error information",
            "line": 83,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:759"
            },
            "result": {
              "status": "passed",
              "duration": 946000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 76000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7284000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2519000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2361000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3349000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 7367000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1752000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 235000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;critiqueagent-extracts-score-from-critique-text",
        "keyword": "Scenario",
        "name": "CritiqueAgent extracts score from critique text",
        "description": "",
        "line": 85,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"CRITIQUE\" agent config",
            "line": 86,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 1762000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE agent will return critique with score",
            "line": 87,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:842"
            },
            "result": {
              "status": "passed",
              "duration": 128000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"CRITIQUE\" agent on the lead",
            "line": 88,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 14309000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"CRITIQUE\" agent output",
            "line": 89,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1236000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE output should include score",
            "line": 90,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:767"
            },
            "result": {
              "status": "passed",
              "duration": 1299000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 74000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8196000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4201000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2267000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3148000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2375000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1764000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1272000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;critiqueagent-handles-empty-critique",
        "keyword": "Scenario",
        "name": "CritiqueAgent handles empty critique",
        "description": "",
        "line": 92,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"CRITIQUE\" agent config",
            "line": 93,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 2193000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE agent will return empty critique",
            "line": 94,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:850"
            },
            "result": {
              "status": "passed",
              "duration": 153000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"CRITIQUE\" agent on the lead",
            "line": 95,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 25131000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"CRITIQUE\" agent output",
            "line": 96,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 4133000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE output should handle empty critique",
            "line": 97,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:774"
            },
            "result": {
              "status": "passed",
              "duration": 6230000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 213000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 15016000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3991000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3426000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4311000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2485000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1924000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 72000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 482000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;critiqueagent-with-strictness-level-lenient",
        "keyword": "Scenario",
        "name": "CritiqueAgent with strictness level lenient",
        "description": "",
        "line": 99,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"CRITIQUE\" agent config with settings:",
            "line": 100,
            "doc_string": {
              "value": "{\"strictness\": \"lenient\", \"min_score\": 6}",
              "content_type": "",
              "line": 101
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 2092000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"CRITIQUE\" agent on the lead",
            "line": 104,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 112345000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"CRITIQUE\" agent output",
            "line": 105,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1385000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE agent should use lenient strictness",
            "line": 106,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:782"
            },
            "result": {
              "status": "passed",
              "duration": 2120000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 61000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 13169000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3645000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4427000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3808000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3619000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1788000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 74000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 228000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 363000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;critiqueagent-with-strictness-level-moderate",
        "keyword": "Scenario",
        "name": "CritiqueAgent with strictness level moderate",
        "description": "",
        "line": 108,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"CRITIQUE\" agent config with settings:",
            "line": 109,
            "doc_string": {
              "value": "{\"strictness\": \"moderate\", \"min_score\": 6}",
              "content_type": "",
              "line": 110
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1998000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"CRITIQUE\" agent on the lead",
            "line": 113,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 105249000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"CRITIQUE\" agent output",
            "line": 114,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1057000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE agent should use moderate strictness",
            "line": 115,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:790"
            },
            "result": {
              "status": "passed",
              "duration": 1320000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6334000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2143000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2082000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2875000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1970000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1239000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 149000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;critiqueagent-with-strictness-level-strict",
        "keyword": "Scenario",
        "name": "CritiqueAgent with strictness level strict",
        "description": "",
        "line": 117,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"CRITIQUE\" agent config with settings:",
            "line": 118,
            "doc_string": {
              "value": "{\"strictness\": \"strict\", \"min_score\": 6}",
              "content_type": "",
              "line": 119
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1528000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"CRITIQUE\" agent on the lead",
            "line": 122,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 90587000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"CRITIQUE\" agent output",
            "line": 123,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1519000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE agent should use strict strictness",
            "line": 124,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:798"
            },
            "result": {
              "status": "passed",
              "duration": 4199000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 140000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9077000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2822000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2495000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2923000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1860000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1300000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;critiqueagent-with-default-strictness-(no-setting)",
        "keyword": "Scenario",
        "name": "CritiqueAgent with default strictness (no setting)",
        "description": "",
        "line": 126,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"CRITIQUE\" agent config with settings:",
            "line": 127,
            "doc_string": {
              "value": "{\"min_score\": 6}",
              "content_type": "",
              "line": 128
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 2019000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"CRITIQUE\" agent on the lead",
            "line": 131,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 122942000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"CRITIQUE\" agent output",
            "line": 132,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1024000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE agent should use default strictness",
            "line": 133,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:806"
            },
            "result": {
              "status": "passed",
              "duration": 1287000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7235000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2739000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2067000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2437000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2093000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1571000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;extract_feedback_text-returns-empty-string-for-nil-input",
        "keyword": "Scenario",
        "name": "extract_feedback_text returns empty string for nil input",
        "description": "",
        "line": 135,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have a CritiqueAgent instance",
            "line": 136,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:30"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "keyword": "When ",
            "name": "I extract feedback text from nil",
            "line": 137,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be an empty string",
            "line": 138,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6313000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2395000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2285000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2185000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1540000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1418000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 152000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;extract_feedback_text-returns-empty-string-for-empty-input",
        "keyword": "Scenario",
        "name": "extract_feedback_text returns empty string for empty input",
        "description": "",
        "line": 140,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have a CritiqueAgent instance",
            "line": 141,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:30"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "keyword": "When ",
            "name": "I extract feedback text from an empty string",
            "line": 142,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be an empty string",
            "line": 143,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7583000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 5307000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4179000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 8711000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 7165000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1828000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 76000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 230000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;extract_feedback_text-removes-score-lines",
        "keyword": "Scenario",
        "name": "extract_feedback_text removes score lines",
        "description": "",
        "line": 145,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have a CritiqueAgent instance",
            "line": 146,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:30"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "keyword": "When ",
            "name": "I extract feedback text from:",
            "line": 147,
            "doc_string": {
              "value": "Score: 7/10\nThis email is clear and concise.",
              "content_type": "",
              "line": 148
            },
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:42"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be:",
            "line": 152,
            "doc_string": {
              "value": "This email is clear and concise.",
              "content_type": "",
              "line": 153
            },
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:50"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6436000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2116000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1919000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 8693000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3287000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1603000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 170000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;should_rewrite?-returns-false-for-blank-critique_text",
        "keyword": "Scenario",
        "name": "should_rewrite? returns false for blank critique_text",
        "description": "",
        "line": 157,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have a CritiqueAgent instance",
            "line": 158,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:30"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "keyword": "When ",
            "name": "I check should_rewrite? with policy \"always\", meets_min_score true, and blank critique_text",
            "line": 159,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:54"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "keyword": "Then ",
            "name": "the should_rewrite? result should be false",
            "line": 160,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:61"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9384000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 5136000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3061000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3943000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2968000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 2738000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1197000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;should_rewrite?-returns-false-for-policy-never",
        "keyword": "Scenario",
        "name": "should_rewrite? returns false for policy never",
        "description": "",
        "line": 162,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have a CritiqueAgent instance",
            "line": 163,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:30"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "keyword": "When ",
            "name": "I check should_rewrite? with policy \"never\", meets_min_score false, and critique_text \"Needs work\"",
            "line": 164,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:54"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "keyword": "Then ",
            "name": "the should_rewrite? result should be false",
            "line": 165,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:61"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 22298000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 6801000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3348000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3855000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2356000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1790000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 61000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 688000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;should_rewrite?-returns-true-for-policy-always",
        "keyword": "Scenario",
        "name": "should_rewrite? returns true for policy always",
        "description": "",
        "line": 167,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have a CritiqueAgent instance",
            "line": 168,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:30"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "keyword": "When ",
            "name": "I check should_rewrite? with policy \"always\", meets_min_score true, and critique_text \"Needs work\"",
            "line": 169,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:54"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "keyword": "Then ",
            "name": "the should_rewrite? result should be true",
            "line": 170,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:61"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9287000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3695000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3200000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 5727000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 4560000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 2061000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 468000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;should_rewrite?-returns-!meets_min_score-for-rewrite_if_bad",
        "keyword": "Scenario",
        "name": "should_rewrite? returns !meets_min_score for rewrite_if_bad",
        "description": "",
        "line": 172,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have a CritiqueAgent instance",
            "line": 173,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:30"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "keyword": "When ",
            "name": "I check should_rewrite? with policy \"rewrite_if_bad\", meets_min_score false, and critique_text \"Needs work\"",
            "line": 174,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:54"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "keyword": "Then ",
            "name": "the should_rewrite? result should be true",
            "line": 175,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:61"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "keyword": "When ",
            "name": "I check should_rewrite? with policy \"rewrite_if_bad\", meets_min_score true, and critique_text \"Needs work\"",
            "line": 176,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:54"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "keyword": "Then ",
            "name": "the should_rewrite? result should be false",
            "line": 177,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:61"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 14657000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 15262000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4625000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4647000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 4756000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 2561000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 61000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 197000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;rewrite_email-returns-rewritten-text-and-logs-completion",
        "keyword": "Scenario",
        "name": "rewrite_email returns rewritten text and logs completion",
        "description": "",
        "line": 179,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have a CritiqueAgent instance with a stubbed API response \"Rewritten email text\"",
            "line": 180,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:84"
            },
            "result": {
              "status": "passed",
              "duration": 690000
            }
          },
          {
            "keyword": "When ",
            "name": "I rewrite email with content \"Original email\", critique_text \"Improve CTA\", and settings \"{}\"",
            "line": 181,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:66"
            },
            "result": {
              "status": "passed",
              "duration": 481000
            }
          },
          {
            "keyword": "Then ",
            "name": "the rewrite_email result should be \"Rewritten email text\"",
            "line": 182,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:76"
            },
            "result": {
              "status": "passed",
              "duration": 65000
            }
          },
          {
            "keyword": "And ",
            "name": "the log should include \"Rewrite completed\"",
            "line": 183,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:80"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 106000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11492000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4784000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3461000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3614000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2297000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 2435000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 146000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 346000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;rewrite_email-logs-error-and-returns-nil-on-exception",
        "keyword": "Scenario",
        "name": "rewrite_email logs error and returns nil on exception",
        "description": "",
        "line": 185,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have a CritiqueAgent instance that raises an error on API call",
            "line": 186,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:91"
            },
            "result": {
              "status": "passed",
              "duration": 324000
            }
          },
          {
            "keyword": "When ",
            "name": "I rewrite email with content \"Original email\", critique_text \"Improve CTA\", and settings \"{}\"",
            "line": 187,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:66"
            },
            "result": {
              "status": "passed",
              "duration": 191000
            }
          },
          {
            "keyword": "Then ",
            "name": "the rewrite_email result should be nil",
            "line": 188,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:99"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          },
          {
            "keyword": "And ",
            "name": "the log should include \"Rewrite error\"",
            "line": 189,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:80"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7622000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2292000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3310000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2770000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1953000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1950000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 190000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;log-outputs-to-rails-logger-if-available",
        "keyword": "Scenario",
        "name": "log outputs to Rails logger if available",
        "description": "",
        "line": 191,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "Rails logger is available",
            "line": 192,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:103"
            },
            "result": {
              "status": "passed",
              "duration": 1167000
            }
          },
          {
            "keyword": "And ",
            "name": "I have a CritiqueAgent instance",
            "line": 193,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:30"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "keyword": "When ",
            "name": "I log the message \"Test log\"",
            "line": 194,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 110000
            }
          },
          {
            "keyword": "Then ",
            "name": "Rails.logger should receive info with \"[CritiqueAgent] Test log\"",
            "line": 195,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:117"
            },
            "result": {
              "status": "passed",
              "duration": 1330000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 62000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7387000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3327000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3766000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4074000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2280000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1879000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 195000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;log-outputs-to-stdout-if-rails-logger-is-not-available",
        "keyword": "Scenario",
        "name": "log outputs to stdout if Rails logger is not available",
        "description": "",
        "line": 197,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "Rails logger is not available",
            "line": 198,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:121"
            },
            "result": {
              "status": "passed",
              "duration": 243000
            }
          },
          {
            "keyword": "And ",
            "name": "I have a CritiqueAgent instance",
            "line": 199,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:30"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "keyword": "When ",
            "name": "I log the message \"Test log\"",
            "line": 200,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 72000
            }
          },
          {
            "keyword": "Then ",
            "name": "stdout should include \"[CritiqueAgent] Test log\"",
            "line": 201,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:127"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7665000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2664000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2607000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3098000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3266000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1628000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 192000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;critiqueagent-handles-network-error-in-critique-method",
        "keyword": "Scenario",
        "name": "CritiqueAgent handles network error in critique method",
        "description": "",
        "line": 203,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have a CritiqueAgent instance that raises an error on critique",
            "line": 204,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 195000
            }
          },
          {
            "keyword": "When ",
            "name": "I run critique with email content \"Test email\"",
            "line": 205,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 176000
            }
          },
          {
            "keyword": "Then ",
            "name": "the critique result should have network error details",
            "line": 206,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 138000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7982000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2961000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3741000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4593000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2251000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1424000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 88000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 338000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;extract_score_from_critique-returns-explicit-score",
        "keyword": "Scenario",
        "name": "extract_score_from_critique returns explicit score",
        "description": "",
        "line": 208,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have a CritiqueAgent instance",
            "line": 209,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:30"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "keyword": "When ",
            "name": "I extract score from critique text \"Score: 8/10\" with default 5",
            "line": 210,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "keyword": "Then ",
            "name": "the extracted score should be 8",
            "line": 211,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8942000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 5021000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2854000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 5416000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1850000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1240000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 168000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;extract_score_from_critique-returns-default_score-for-nil-or-empty",
        "keyword": "Scenario",
        "name": "extract_score_from_critique returns default_score for nil or empty",
        "description": "",
        "line": 213,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have a CritiqueAgent instance",
            "line": 214,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:30"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "When ",
            "name": "I extract score from critique text nil with default 7",
            "line": 215,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "keyword": "Then ",
            "name": "the extracted score should be 7",
            "line": 216,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "keyword": "When ",
            "name": "I extract score from critique text \"\" with default 6",
            "line": 217,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "keyword": "Then ",
            "name": "the extracted score should be 6",
            "line": 218,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7260000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2233000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2105000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3108000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2145000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1932000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 170000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;extract_score_from_critique-returns-default+1-for-'none'-feedback",
        "keyword": "Scenario",
        "name": "extract_score_from_critique returns default+1 for 'None' feedback",
        "description": "",
        "line": 220,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have a CritiqueAgent instance",
            "line": 221,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:30"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "keyword": "When ",
            "name": "I extract score from critique text \"Score: 5/10\\nNone\" with default 5",
            "line": 222,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "keyword": "Then ",
            "name": "the extracted score should be 5",
            "line": 223,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "keyword": "When ",
            "name": "I extract score from critique text \"None\" with default 9",
            "line": 224,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "keyword": "Then ",
            "name": "the extracted score should be 10",
            "line": 225,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7846000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2977000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Critique Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2471000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3355000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1940000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1663000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 168000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "critiqueagent-configuration-variations;extract_score_from_critique-fallback-for-empty-feedback",
        "keyword": "Scenario",
        "name": "extract_score_from_critique fallback for empty feedback",
        "description": "",
        "line": 227,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have a CritiqueAgent instance",
            "line": 228,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:30"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "When ",
            "name": "I extract score from critique text \"Score: 7/10\\n\" with default 7",
            "line": 229,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "Then ",
            "name": "the extracted score should be 7",
            "line": 230,
            "match": {
              "location": "features/step_definitions/critique_agent_configuration_steps.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "customfailureapp",
    "uri": "features/custom_failure_app.feature",
    "keyword": "Feature",
    "name": "CustomFailureApp",
    "description": "  As a user\n  I want authentication failures to redirect correctly\n  So that I can access the correct pages",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 172000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "customfailureapp;customfailureapp-redirects-to-login-in-production-when-accessing-protected-page",
        "keyword": "Scenario",
        "name": "CustomFailureApp redirects to login in production when accessing protected page",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the application is in production mode",
            "line": 10,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:332"
            },
            "result": {
              "status": "passed",
              "duration": 431000
            }
          },
          {
            "keyword": "And ",
            "name": "I am not logged in",
            "line": 11,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:467"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "keyword": "When ",
            "name": "I request the page \"/campaigns\"",
            "line": 12,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:327"
            },
            "result": {
              "status": "passed",
              "duration": 4993000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should be redirected to \"/login\"",
            "line": 13,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:152"
            },
            "result": {
              "status": "passed",
              "duration": 162000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 363000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "customfailureapp;customfailureapp-redirects-to-signup-in-production-when-accessing-signup-path",
        "keyword": "Scenario",
        "name": "CustomFailureApp redirects to signup in production when accessing signup path",
        "description": "",
        "line": 15,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the application is in production mode",
            "line": 16,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:332"
            },
            "result": {
              "status": "passed",
              "duration": 437000
            }
          },
          {
            "keyword": "And ",
            "name": "I am not logged in",
            "line": 17,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:467"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "keyword": "When ",
            "name": "I visit \"/signup\"",
            "line": 18,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:346"
            },
            "result": {
              "status": "passed",
              "duration": 4211000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should see the registration form",
            "line": 19,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:106"
            },
            "result": {
              "status": "passed",
              "duration": 65000
            }
          },
          {
            "keyword": "And ",
            "name": "I should not be redirected",
            "line": 20,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:611"
            },
            "result": {
              "status": "passed",
              "duration": 604000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 169000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "customfailureapp;customfailureapp-uses-default-devise-routes-in-development",
        "keyword": "Scenario",
        "name": "CustomFailureApp uses default Devise routes in development",
        "description": "",
        "line": 22,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the application is in development mode",
            "line": 23,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:344"
            },
            "result": {
              "status": "passed",
              "duration": 407000
            }
          },
          {
            "keyword": "And ",
            "name": "I am not logged in",
            "line": 24,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:467"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "keyword": "When ",
            "name": "I visit \"/campaigns\"",
            "line": 25,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:346"
            },
            "result": {
              "status": "passed",
              "duration": 8532000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should be redirected to the default Devise sign in page",
            "line": 26,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:605"
            },
            "result": {
              "status": "passed",
              "duration": 580000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 64000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 166000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "customfailureapp;customfailureapp-redirects-to-login-for-protected-api-endpoints-in-production",
        "keyword": "Scenario",
        "name": "CustomFailureApp redirects to login for protected API endpoints in production",
        "description": "",
        "line": 28,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the application is in production mode",
            "line": 29,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:332"
            },
            "result": {
              "status": "passed",
              "duration": 757000
            }
          },
          {
            "keyword": "And ",
            "name": "I am not logged in",
            "line": 30,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:467"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/campaigns\"",
            "line": 31,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 3792000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 401",
            "line": 32,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 204000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2067000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          }
        ]
      },
      {
        "id": "customfailureapp;customfailureapp-handles-authentication-failure-for-campaigns-page-in-production",
        "keyword": "Scenario",
        "name": "CustomFailureApp handles authentication failure for campaigns page in production",
        "description": "",
        "line": 34,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the application is in production mode",
            "line": 35,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:332"
            },
            "result": {
              "status": "passed",
              "duration": 1501000
            }
          },
          {
            "keyword": "And ",
            "name": "I am not logged in",
            "line": 36,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:467"
            },
            "result": {
              "status": "passed",
              "duration": 80000
            }
          },
          {
            "keyword": "When ",
            "name": "I request the page \"/campaigns\"",
            "line": 37,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:327"
            },
            "result": {
              "status": "passed",
              "duration": 6531000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should be redirected to \"/login\"",
            "line": 38,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:152"
            },
            "result": {
              "status": "passed",
              "duration": 96000
            }
          },
          {
            "keyword": "When ",
            "name": "I visit \"/campaigns\"",
            "line": 39,
            "match": {
              "location": "features/step_definitions/coverage_gaps_steps.rb:346"
            },
            "result": {
              "status": "passed",
              "duration": 11414000
            }
          },
          {
            "keyword": "And ",
            "name": "the current path should be \"/login\"",
            "line": 40,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:623"
            },
            "result": {
              "status": "passed",
              "duration": 1750000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 71000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "dashboard-empty-state",
    "uri": "features/dashboard_empty_state.feature",
    "keyword": "Feature",
    "name": "Dashboard empty state",
    "description": "  As a new user\n  I want the dashboard to render even without data\n  So that Im guided to create my first campaign",
    "line": 1,
    "elements": [
      {
        "id": "dashboard-empty-state;empty-account-still-shows-dashboard",
        "keyword": "Scenario",
        "name": "Empty account still shows dashboard",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8571000
            }
          },
          {
            "keyword": "When ",
            "name": "I visit the home page",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 3877000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should see the dashboard container",
            "line": 9,
            "match": {
              "location": "features/step_definitions/common_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 985000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 194000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "designagent-configuration-variations",
    "uri": "features/design_agent_configuration.feature",
    "keyword": "Feature",
    "name": "DesignAgent Configuration Variations",
    "description": "  As an authenticated user\n  I want to configure DesignAgent with different formatting options\n  So that emails are formatted according to my preferences",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7665000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3212000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Design Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2381000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2895000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1979000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 2976000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 294000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "designagent-configuration-variations;designagent-with-format-plain_text",
        "keyword": "Scenario",
        "name": "DesignAgent with format plain_text",
        "description": "",
        "line": 14,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"DESIGN\" agent config with settings:",
            "line": 15,
            "doc_string": {
              "value": "{\"format\": \"plain_text\"}",
              "content_type": "",
              "line": 16
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 2226000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 19,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 125449000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"DESIGN\" agent output",
            "line": 20,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1912000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN output should not include markdown formatting",
            "line": 21,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:412"
            },
            "result": {
              "status": "passed",
              "duration": 1602000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8021000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2804000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Design Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3788000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4946000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3359000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 2214000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "designagent-configuration-variations;designagent-with-format-formatted-(default)",
        "keyword": "Scenario",
        "name": "DesignAgent with format formatted (default)",
        "description": "",
        "line": 23,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"DESIGN\" agent config with settings:",
            "line": 24,
            "doc_string": {
              "value": "{\"format\": \"formatted\"}",
              "content_type": "",
              "line": 25
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 2218000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 28,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 118704000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"DESIGN\" agent output",
            "line": 29,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1250000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN output should include formatted_email",
            "line": 30,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:873"
            },
            "result": {
              "status": "passed",
              "duration": 932000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6010000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3253000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Design Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2211000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3272000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1838000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1185000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 150000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "designagent-configuration-variations;designagent-with-allow_bold-false",
        "keyword": "Scenario",
        "name": "DesignAgent with allow_bold false",
        "description": "",
        "line": 32,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"DESIGN\" agent config with settings:",
            "line": 33,
            "doc_string": {
              "value": "{\"allow_bold\": false}",
              "content_type": "",
              "line": 34
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1318000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 37,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 92845000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"DESIGN\" agent output",
            "line": 38,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1322000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN agent should build prompt without bold instructions",
            "line": 39,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:422"
            },
            "result": {
              "status": "passed",
              "duration": 1529000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5749000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2390000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Design Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2236000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2114000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1395000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1038000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 4000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 131000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "designagent-configuration-variations;designagent-with-allow_bold-true-(default)",
        "keyword": "Scenario",
        "name": "DesignAgent with allow_bold true (default)",
        "description": "",
        "line": 41,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"DESIGN\" agent config with settings:",
            "line": 42,
            "doc_string": {
              "value": "{\"allow_bold\": true}",
              "content_type": "",
              "line": 43
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1197000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 46,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 99462000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"DESIGN\" agent output",
            "line": 47,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1253000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN agent should build prompt with bold instructions",
            "line": 48,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:432"
            },
            "result": {
              "status": "passed",
              "duration": 2146000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 13661000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3563000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Design Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4968000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4050000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3514000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1777000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 67000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 237000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "id": "designagent-configuration-variations;designagent-with-allow_italic-false",
        "keyword": "Scenario",
        "name": "DesignAgent with allow_italic false",
        "description": "",
        "line": 50,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"DESIGN\" agent config with settings:",
            "line": 51,
            "doc_string": {
              "value": "{\"allow_italic\": false}",
              "content_type": "",
              "line": 52
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1558000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 55,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 92395000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"DESIGN\" agent output",
            "line": 56,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1642000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN agent should build prompt without italic instructions",
            "line": 57,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:443"
            },
            "result": {
              "status": "passed",
              "duration": 3787000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7018000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 9472000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Design Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2865000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2696000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3519000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1883000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 129000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "designagent-configuration-variations;designagent-with-allow_italic-true-(default)",
        "keyword": "Scenario",
        "name": "DesignAgent with allow_italic true (default)",
        "description": "",
        "line": 59,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"DESIGN\" agent config with settings:",
            "line": 60,
            "doc_string": {
              "value": "{\"allow_italic\": true}",
              "content_type": "",
              "line": 61
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1375000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 64,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 104955000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"DESIGN\" agent output",
            "line": 65,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 4930000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN agent should build prompt with italic instructions",
            "line": 66,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:451"
            },
            "result": {
              "status": "passed",
              "duration": 3440000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6393000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4218000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Design Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2804000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2826000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2535000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1355000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 133000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "designagent-configuration-variations;designagent-with-allow_bullets-false",
        "keyword": "Scenario",
        "name": "DesignAgent with allow_bullets false",
        "description": "",
        "line": 68,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"DESIGN\" agent config with settings:",
            "line": 69,
            "doc_string": {
              "value": "{\"allow_bullets\": false}",
              "content_type": "",
              "line": 70
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1421000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 73,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 81359000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"DESIGN\" agent output",
            "line": 74,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1295000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN agent should build prompt without bullet instructions",
            "line": 75,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:460"
            },
            "result": {
              "status": "passed",
              "duration": 1616000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8098000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2255000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Design Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2028000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2119000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1504000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1219000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 138000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "designagent-configuration-variations;designagent-with-allow_bullets-true-(default)",
        "keyword": "Scenario",
        "name": "DesignAgent with allow_bullets true (default)",
        "description": "",
        "line": 77,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"DESIGN\" agent config with settings:",
            "line": 78,
            "doc_string": {
              "value": "{\"allow_bullets\": true}",
              "content_type": "",
              "line": 79
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1198000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 82,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 94382000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"DESIGN\" agent output",
            "line": 83,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 2212000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN agent should build prompt with bullet instructions",
            "line": 84,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:468"
            },
            "result": {
              "status": "passed",
              "duration": 1230000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12803000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 5339000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Design Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3317000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2037000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1448000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1020000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 133000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "designagent-configuration-variations;designagent-with-cta_style-button",
        "keyword": "Scenario",
        "name": "DesignAgent with cta_style button",
        "description": "",
        "line": 86,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"DESIGN\" agent config with settings:",
            "line": 87,
            "doc_string": {
              "value": "{\"cta_style\": \"button\"}",
              "content_type": "",
              "line": 88
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 2157000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 91,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 123245000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"DESIGN\" agent output",
            "line": 92,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1394000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN agent should build prompt with button-style CTA instructions",
            "line": 93,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:477"
            },
            "result": {
              "status": "passed",
              "duration": 1551000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6142000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2722000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Design Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2621000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2234000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1647000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1919000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "designagent-configuration-variations;designagent-with-cta_style-link-(default)",
        "keyword": "Scenario",
        "name": "DesignAgent with cta_style link (default)",
        "description": "",
        "line": 95,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"DESIGN\" agent config with settings:",
            "line": 96,
            "doc_string": {
              "value": "{\"cta_style\": \"link\"}",
              "content_type": "",
              "line": 97
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1572000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 100,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 82979000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"DESIGN\" agent output",
            "line": 101,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1058000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN agent should build prompt with link-style CTA instructions",
            "line": 102,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:485"
            },
            "result": {
              "status": "passed",
              "duration": 1216000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6822000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3055000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Design Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2303000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2227000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1558000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1168000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 113000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 179000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "designagent-configuration-variations;designagent-with-font_family-serif",
        "keyword": "Scenario",
        "name": "DesignAgent with font_family serif",
        "description": "",
        "line": 104,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"DESIGN\" agent config with settings:",
            "line": 105,
            "doc_string": {
              "value": "{\"font_family\": \"serif\"}",
              "content_type": "",
              "line": 106
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1225000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 109,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 147665000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"DESIGN\" agent output",
            "line": 110,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1231000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN agent should build prompt with serif font guidance",
            "line": 111,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:494"
            },
            "result": {
              "status": "passed",
              "duration": 1498000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9142000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3919000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Design Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3446000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2970000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2292000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1727000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 168000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "designagent-configuration-variations;designagent-with-font_family-sans-serif",
        "keyword": "Scenario",
        "name": "DesignAgent with font_family sans-serif",
        "description": "",
        "line": 113,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"DESIGN\" agent config with settings:",
            "line": 114,
            "doc_string": {
              "value": "{\"font_family\": \"sans-serif\"}",
              "content_type": "",
              "line": 115
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 2481000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 118,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 198975000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"DESIGN\" agent output",
            "line": 119,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 3671000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN agent should build prompt with sans-serif font guidance",
            "line": 120,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:502"
            },
            "result": {
              "status": "passed",
              "duration": 4528000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 79000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8626000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2551000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Design Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2056000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2914000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3419000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1647000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 199000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "designagent-configuration-variations;designagent-handles-empty-email-content",
        "keyword": "Scenario",
        "name": "DesignAgent handles empty email content",
        "description": "",
        "line": 122,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the lead has a \"WRITER\" agent output without email content",
            "line": 123,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:540"
            },
            "result": {
              "status": "passed",
              "duration": 2363000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a \"DESIGN\" agent config",
            "line": 124,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 2820000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 125,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 19489000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"DESIGN\" agent output",
            "line": 126,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1212000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN output should have empty formatted_email",
            "line": 127,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:510"
            },
            "result": {
              "status": "passed",
              "duration": 1215000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 61000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6937000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2697000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Design Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2534000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3006000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1736000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1272000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 353000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "designagent-configuration-variations;designagent-handles-api-errors-gracefully",
        "keyword": "Scenario",
        "name": "DesignAgent handles API errors gracefully",
        "description": "",
        "line": 129,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"DESIGN\" agent config",
            "line": 130,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 1393000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN agent will fail",
            "line": 131,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:993"
            },
            "result": {
              "status": "passed",
              "duration": 127000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 132,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 11489000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"DESIGN\" agent output",
            "line": 133,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1174000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN output should include error information",
            "line": 134,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:518"
            },
            "result": {
              "status": "passed",
              "duration": 1239000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 71000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8338000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2124000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Design Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2177000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2261000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1854000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1614000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 170000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "designagent-configuration-variations;designagent-with-multiple-configuration-options",
        "keyword": "Scenario",
        "name": "DesignAgent with multiple configuration options",
        "description": "",
        "line": 136,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"DESIGN\" agent config with settings:",
            "line": 137,
            "doc_string": {
              "value": "{\"format\": \"formatted\", \"allow_bold\": false, \"allow_italic\": true, \"allow_bullets\": false, \"cta_style\": \"button\", \"font_family\": \"serif\"}",
              "content_type": "",
              "line": 138
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 2425000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 141,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 95674000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"DESIGN\" agent output",
            "line": 142,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 2151000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN agent should build prompt with combined configuration",
            "line": 143,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:527"
            },
            "result": {
              "status": "passed",
              "duration": 1413000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "emailconfigcontroller-edge-cases",
    "uri": "features/email_config_controller_edge_cases.feature",
    "keyword": "Feature",
    "name": "EmailConfigController Edge Cases",
    "description": "  As an authenticated user\n  I want email configuration to handle edge cases correctly\n  So that the application works correctly in all scenarios",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10081000
            }
          },
          {
            "keyword": "And ",
            "name": "authentication is enabled",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 215000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailconfigcontroller-edge-cases;emailconfigcontroller-show-handles-gmailoauthservice-errors-gracefully",
        "keyword": "Scenario",
        "name": "EmailConfigController show handles GmailOauthService errors gracefully",
        "description": "",
        "line": 10,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "GmailOauthService will raise an error when checking oauth_configured",
            "line": 11,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:29"
            },
            "result": {
              "status": "passed",
              "duration": 2072000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/email_config\"",
            "line": 12,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 7481000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 13,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 63000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"oauth_configured\" with false",
            "line": 14,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1119"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"email\"",
            "line": 15,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 61000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7362000
            }
          },
          {
            "keyword": "And ",
            "name": "authentication is enabled",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 64000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 176000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 204000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          }
        ]
      },
      {
        "id": "emailconfigcontroller-edge-cases;emailconfigcontroller-show-returns-false-when-oauth-service-fails",
        "keyword": "Scenario",
        "name": "EmailConfigController show returns false when OAuth service fails",
        "description": "",
        "line": 17,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "GmailOauthService will raise an error when checking oauth_configured",
            "line": 18,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:29"
            },
            "result": {
              "status": "passed",
              "duration": 137000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/email_config\"",
            "line": 19,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 2174000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 20,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"oauth_configured\" with false",
            "line": 21,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1119"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "keyword": "And ",
            "name": "a warning should be logged about Gmail OAuth service error",
            "line": 22,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:203"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10007000
            }
          },
          {
            "keyword": "And ",
            "name": "authentication is enabled",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailconfigcontroller-edge-cases;emailconfigcontroller-update-handles-validation-errors",
        "keyword": "Scenario",
        "name": "EmailConfigController update handles validation errors",
        "description": "",
        "line": 24,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I send a PUT request to \"/api/v1/email_config\" with JSON:",
            "line": 25,
            "doc_string": {
              "value": "{\"email\": \"\"}",
              "content_type": "",
              "line": 26
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 3116000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 29,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"error\" with \"Email is required\"",
            "line": 30,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8327000
            }
          },
          {
            "keyword": "And ",
            "name": "authentication is enabled",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 70000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 295000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "emailconfigcontroller-edge-cases;emailconfigcontroller-update-handles-missing-email",
        "keyword": "Scenario",
        "name": "EmailConfigController update handles missing email",
        "description": "",
        "line": 32,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a PUT request to \"/api/v1/email_config\" with JSON:",
            "line": 33,
            "doc_string": {
              "value": "{}",
              "content_type": "",
              "line": 34
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 2141000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 37,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"error\" with \"Email is required\"",
            "line": 38,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6434000
            }
          },
          {
            "keyword": "And ",
            "name": "authentication is enabled",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 68000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 154000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailconfigcontroller-edge-cases;emailconfigcontroller-update-handles-nil-email",
        "keyword": "Scenario",
        "name": "EmailConfigController update handles nil email",
        "description": "",
        "line": 40,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a PUT request to \"/api/v1/email_config\" with JSON:",
            "line": 41,
            "doc_string": {
              "value": "{\"email\": null}",
              "content_type": "",
              "line": 42
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 1859000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 45,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"error\" with \"Email is required\"",
            "line": 46,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7295000
            }
          },
          {
            "keyword": "And ",
            "name": "authentication is enabled",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 161000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "emailconfigcontroller-edge-cases;emailconfigcontroller-update-handles-whitespace-only-email",
        "keyword": "Scenario",
        "name": "EmailConfigController update handles whitespace-only email",
        "description": "",
        "line": 48,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a PUT request to \"/api/v1/email_config\" with JSON:",
            "line": 49,
            "doc_string": {
              "value": "{\"email\": \"   \"}",
              "content_type": "",
              "line": 50
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 2139000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 53,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"error\" with \"Email is required\"",
            "line": 54,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9612000
            }
          },
          {
            "keyword": "And ",
            "name": "authentication is enabled",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 149000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailconfigcontroller-edge-cases;emailconfigcontroller-update-handles-gmailoauthservice-errors-gracefully",
        "keyword": "Scenario",
        "name": "EmailConfigController update handles GmailOauthService errors gracefully",
        "description": "",
        "line": 56,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "GmailOauthService will raise an error when checking oauth_configured",
            "line": 57,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:29"
            },
            "result": {
              "status": "passed",
              "duration": 135000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PUT request to \"/api/v1/email_config\" with JSON:",
            "line": 58,
            "doc_string": {
              "value": "{\"email\": \"newemail@example.com\"}",
              "content_type": "",
              "line": 59
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 3941000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 62,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"oauth_configured\" with false",
            "line": 63,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1119"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"email\" with \"newemail@example.com\"",
            "line": 64,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "a warning should be logged about Gmail OAuth service error",
            "line": 65,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:203"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8607000
            }
          },
          {
            "keyword": "And ",
            "name": "authentication is enabled",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 152000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailconfigcontroller-edge-cases;emailconfigcontroller-update-returns-false-when-oauth-service-fails",
        "keyword": "Scenario",
        "name": "EmailConfigController update returns false when OAuth service fails",
        "description": "",
        "line": 67,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "GmailOauthService will raise an error when checking oauth_configured",
            "line": 68,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:29"
            },
            "result": {
              "status": "passed",
              "duration": 133000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PUT request to \"/api/v1/email_config\" with JSON:",
            "line": 69,
            "doc_string": {
              "value": "{\"email\": \"newemail@example.com\"}",
              "content_type": "",
              "line": 70
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 4535000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 73,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"oauth_configured\" with false",
            "line": 74,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1119"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"email\" with \"newemail@example.com\"",
            "line": 75,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6330000
            }
          },
          {
            "keyword": "And ",
            "name": "authentication is enabled",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 149000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailconfigcontroller-edge-cases;emailconfigcontroller-update-handles-user-validation-errors",
        "keyword": "Scenario",
        "name": "EmailConfigController update handles user validation errors",
        "description": "",
        "line": 77,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user model will raise validation errors",
            "line": 78,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:182"
            },
            "result": {
              "status": "passed",
              "duration": 3113000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PUT request to \"/api/v1/email_config\" with JSON:",
            "line": 79,
            "doc_string": {
              "value": "{\"email\": \"invalid-email\"}",
              "content_type": "",
              "line": 80
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 4029000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 83,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"error\"",
            "line": 84,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "keyword": "And ",
            "name": "the error should include validation messages",
            "line": 85,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:187"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 82000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7733000
            }
          },
          {
            "keyword": "And ",
            "name": "authentication is enabled",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailconfigcontroller-edge-cases;emailconfigcontroller-update-strips-whitespace-from-email",
        "keyword": "Scenario",
        "name": "EmailConfigController update strips whitespace from email",
        "description": "",
        "line": 87,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a PUT request to \"/api/v1/email_config\" with JSON:",
            "line": 88,
            "doc_string": {
              "value": "{\"email\": \"  user@example.com  \"}",
              "content_type": "",
              "line": 89
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 8934000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 92,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"email\" with \"user@example.com\"",
            "line": 93,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's send_from_email should be \"user@example.com\"",
            "line": 94,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:192"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5940000
            }
          },
          {
            "keyword": "And ",
            "name": "authentication is enabled",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailconfigcontroller-edge-cases;emailconfigcontroller-show-checks-send_from_email-user-oauth-when-different",
        "keyword": "Scenario",
        "name": "EmailConfigController show checks send_from_email user OAuth when different",
        "description": "",
        "line": 96,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "there is another user with email \"other@example.com\"",
            "line": 97,
            "match": {
              "location": "features/step_definitions/email_steps.rb:458"
            },
            "result": {
              "status": "passed",
              "duration": 4322000
            }
          },
          {
            "keyword": "And ",
            "name": "I set my send_from_email to \"other@example.com\"",
            "line": 98,
            "match": {
              "location": "features/step_definitions/email_steps.rb:167"
            },
            "result": {
              "status": "passed",
              "duration": 2301000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for user \"other@example.com\" as true",
            "line": 99,
            "match": {
              "location": "features/step_definitions/email_steps.rb:113"
            },
            "result": {
              "status": "passed",
              "duration": 1195000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/email_config\"",
            "line": 100,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 2464000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 101,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 35000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"oauth_configured\" with true",
            "line": 102,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1119"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"email\" with \"other@example.com\"",
            "line": 103,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "keyword": "And ",
            "name": "an info log should be recorded about using OAuth from send_from_email user",
            "line": 104,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:197"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7498000
            }
          },
          {
            "keyword": "And ",
            "name": "authentication is enabled",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 157000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "emailconfigcontroller-edge-cases;emailconfigcontroller-update-checks-send_from_email-user-oauth-when-different",
        "keyword": "Scenario",
        "name": "EmailConfigController update checks send_from_email user OAuth when different",
        "description": "",
        "line": 106,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "there is another user with email \"other@example.com\"",
            "line": 107,
            "match": {
              "location": "features/step_definitions/email_steps.rb:458"
            },
            "result": {
              "status": "passed",
              "duration": 4388000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for user \"other@example.com\" as true",
            "line": 108,
            "match": {
              "location": "features/step_definitions/email_steps.rb:113"
            },
            "result": {
              "status": "passed",
              "duration": 2064000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PUT request to \"/api/v1/email_config\" with JSON:",
            "line": 109,
            "doc_string": {
              "value": "{\"email\": \"other@example.com\"}",
              "content_type": "",
              "line": 110
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 6382000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 113,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"oauth_configured\" with true",
            "line": 114,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1119"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"email\" with \"other@example.com\"",
            "line": 115,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "an info log should be recorded about using OAuth from send_from_email user",
            "line": 116,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:197"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 13944000
            }
          },
          {
            "keyword": "And ",
            "name": "authentication is enabled",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 94000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 560000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ]
      },
      {
        "id": "emailconfigcontroller-edge-cases;emailconfigcontroller-show-returns-false-when-send_from_email-user-does-not-exist",
        "keyword": "Scenario",
        "name": "EmailConfigController show returns false when send_from_email user does not exist",
        "description": "",
        "line": 118,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I set my send_from_email to \"nonexistent@example.com\"",
            "line": 119,
            "match": {
              "location": "features/step_definitions/email_steps.rb:167"
            },
            "result": {
              "status": "passed",
              "duration": 3069000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/email_config\"",
            "line": 120,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 5092000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 121,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 85000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"oauth_configured\" with false",
            "line": 122,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1119"
            },
            "result": {
              "status": "passed",
              "duration": 113000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"email\" with \"nonexistent@example.com\"",
            "line": 123,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 86000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6694000
            }
          },
          {
            "keyword": "And ",
            "name": "authentication is enabled",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 191000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailconfigcontroller-edge-cases;emailconfigcontroller-update-returns-false-when-send_from_email-user-does-not-exist",
        "keyword": "Scenario",
        "name": "EmailConfigController update returns false when send_from_email user does not exist",
        "description": "",
        "line": 125,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a PUT request to \"/api/v1/email_config\" with JSON:",
            "line": 126,
            "doc_string": {
              "value": "{\"email\": \"nonexistent@example.com\"}",
              "content_type": "",
              "line": 127
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 6985000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 130,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"oauth_configured\" with false",
            "line": 131,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1119"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"email\" with \"nonexistent@example.com\"",
            "line": 132,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7509000
            }
          },
          {
            "keyword": "And ",
            "name": "authentication is enabled",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 106000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 265000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "emailconfigcontroller-edge-cases;emailconfigcontroller-show-handles-oauth-check-for-current-user-when-send_from_email-matches",
        "keyword": "Scenario",
        "name": "EmailConfigController show handles OAuth check for current user when send_from_email matches",
        "description": "",
        "line": 134,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "GmailOauthService will report oauth_configured for current user as true",
            "line": 135,
            "match": {
              "location": "features/step_definitions/email_steps.rb:107"
            },
            "result": {
              "status": "passed",
              "duration": 998000
            }
          },
          {
            "keyword": "And ",
            "name": "I set my send_from_email to my email",
            "line": 136,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:211"
            },
            "result": {
              "status": "passed",
              "duration": 1125000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/email_config\"",
            "line": 137,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 1883000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 138,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"oauth_configured\" with true",
            "line": 139,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1119"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"email\"",
            "line": 140,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9637000
            }
          },
          {
            "keyword": "And ",
            "name": "authentication is enabled",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 71000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 229000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "emailconfigcontroller-edge-cases;emailconfigcontroller-update-handles-oauth-check-for-current-user-when-send_from_email-matches",
        "keyword": "Scenario",
        "name": "EmailConfigController update handles OAuth check for current user when send_from_email matches",
        "description": "",
        "line": 142,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "GmailOauthService will report oauth_configured for current user as true",
            "line": 143,
            "match": {
              "location": "features/step_definitions/email_steps.rb:107"
            },
            "result": {
              "status": "passed",
              "duration": 1205000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PUT request to \"/api/v1/email_config\" with JSON:",
            "line": 144,
            "doc_string": {
              "value": "{\"email\": \"#{@user.email}\"}",
              "content_type": "",
              "line": 145
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 5014000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 148,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"oauth_configured\" with true",
            "line": 149,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1119"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"email\"",
            "line": 150,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "emailsenderservice-basic-operations-including-lead-readiness-checks-and-basic-sending",
    "uri": "features/email_sender_basic.feature",
    "keyword": "Feature",
    "name": "EmailSenderService basic operations including lead readiness checks and basic sending",
    "description": "  As an authenticated user\n  I want to send emails to ready leads through various delivery methods\n  So that I can execute my outreach campaigns reliably with proper validation",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5373000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 916000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 150000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-basic-operations-including-lead-readiness-checks-and-basic-sending;emailsenderservice-sends-email-via-gmail-api-when-oauth-and-access-token-present",
        "keyword": "Scenario",
        "name": "EmailSenderService sends email via Gmail API when OAuth and access token present",
        "description": "",
        "line": 10,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Email Campaign\" exists for me",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1854000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 1944000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 13,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1089000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 14,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1895000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for current user as true",
            "line": 15,
            "match": {
              "location": "features/step_definitions/email_steps.rb:107"
            },
            "result": {
              "status": "passed",
              "duration": 921000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will return valid access token \"access-token-123\"",
            "line": 16,
            "match": {
              "location": "features/step_definitions/email_steps.rb:227"
            },
            "result": {
              "status": "passed",
              "duration": 92000
            }
          },
          {
            "keyword": "And ",
            "name": "Gmail API will respond with 200 and body '{\"id\":\"msg-123\"}'",
            "line": 17,
            "match": {
              "location": "features/step_definitions/email_steps.rb:271"
            },
            "result": {
              "status": "passed",
              "duration": 233000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will succeed",
            "line": 18,
            "match": {
              "location": "features/step_definitions/email_steps.rb:288"
            },
            "result": {
              "status": "passed",
              "duration": 113000
            }
          },
          {
            "keyword": "When ",
            "name": "I run EmailSenderService for the campaign",
            "line": 19,
            "match": {
              "location": "features/step_definitions/email_steps.rb:304"
            },
            "result": {
              "status": "passed",
              "duration": 9046000
            }
          },
          {
            "keyword": "Then ",
            "name": "the send result should have sent 1",
            "line": 20,
            "match": {
              "location": "features/step_definitions/email_steps.rb:341"
            },
            "result": {
              "status": "passed",
              "duration": 77000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 85000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6094000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 936000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-basic-operations-including-lead-readiness-checks-and-basic-sending;emailsenderservice-falls-back-to-writer-output-and-uses-smtp-password-settings",
        "keyword": "Scenario",
        "name": "EmailSenderService falls back to WRITER output and uses SMTP password settings",
        "description": "",
        "line": 22,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"SMTP Campaign\" exists for me",
            "line": 23,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2096000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 24,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2563000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 25,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1138000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 26,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 11310000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for current user as false",
            "line": 27,
            "match": {
              "location": "features/step_definitions/email_steps.rb:107"
            },
            "result": {
              "status": "passed",
              "duration": 1215000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 28,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will succeed",
            "line": 29,
            "match": {
              "location": "features/step_definitions/email_steps.rb:288"
            },
            "result": {
              "status": "passed",
              "duration": 186000
            }
          },
          {
            "keyword": "When ",
            "name": "I run EmailSenderService for the campaign",
            "line": 30,
            "match": {
              "location": "features/step_definitions/email_steps.rb:304"
            },
            "result": {
              "status": "passed",
              "duration": 11379000
            }
          },
          {
            "keyword": "Then ",
            "name": "an email should be delivered to \"alice@example.com\"",
            "line": 31,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:198"
            },
            "result": {
              "status": "passed",
              "duration": 480000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 160000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 7291000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 957000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 124000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 341000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-basic-operations-including-lead-readiness-checks-and-basic-sending;send_email_for_lead-returns-error-when-lead-not-ready",
        "keyword": "Scenario",
        "name": "send_email_for_lead returns error when lead not ready",
        "description": "",
        "line": 33,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Not Ready Campaign\" exists for me",
            "line": 34,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2580000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a lead with email \"notready@example.com\"",
            "line": 35,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:926"
            },
            "result": {
              "status": "passed",
              "duration": 1700000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"notready@example.com\" has stage \"queued\"",
            "line": 36,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:154"
            },
            "result": {
              "status": "passed",
              "duration": 1198000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for lead \"notready@example.com\"",
            "line": 37,
            "match": {
              "location": "features/step_definitions/email_steps.rb:308"
            },
            "result": {
              "status": "passed",
              "duration": 662000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have failed with message containing \"not ready\"",
            "line": 38,
            "match": {
              "location": "features/step_definitions/email_steps.rb:321"
            },
            "result": {
              "status": "passed",
              "duration": 90000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5469000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1151000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 164000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-basic-operations-including-lead-readiness-checks-and-basic-sending;send_email_for_lead-fails-when-email-content-missing-despite-designed-stage",
        "keyword": "Scenario",
        "name": "send_email_for_lead fails when email content missing despite designed stage",
        "description": "",
        "line": 40,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"NoContent Campaign\" exists for me",
            "line": 41,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1947000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 42,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2365000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 43,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2524000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output without email content",
            "line": 44,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:540"
            },
            "result": {
              "status": "passed",
              "duration": 3861000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 45,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 3992000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have failed with message containing \"not ready\"",
            "line": 46,
            "match": {
              "location": "features/step_definitions/email_steps.rb:321"
            },
            "result": {
              "status": "passed",
              "duration": 103000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5654000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 939000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 278000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-basic-operations-including-lead-readiness-checks-and-basic-sending;lead_ready?-returns-false-when-lead-has-no-agent-output",
        "keyword": "Scenario",
        "name": "lead_ready? returns false when lead has no agent output",
        "description": "",
        "line": 48,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"No Output Campaign\" exists for me",
            "line": 49,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2449000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a lead with email \"nooutput@example.com\"",
            "line": 50,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:926"
            },
            "result": {
              "status": "passed",
              "duration": 1882000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"nooutput@example.com\" has stage \"designed\"",
            "line": 51,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:154"
            },
            "result": {
              "status": "passed",
              "duration": 2230000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for lead \"nooutput@example.com\"",
            "line": 52,
            "match": {
              "location": "features/step_definitions/email_steps.rb:308"
            },
            "result": {
              "status": "passed",
              "duration": 682000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have failed with message containing \"not ready\"",
            "line": 53,
            "match": {
              "location": "features/step_definitions/email_steps.rb:321"
            },
            "result": {
              "status": "passed",
              "duration": 257000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5423000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1044000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 164000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-basic-operations-including-lead-readiness-checks-and-basic-sending;lead_ready?-returns-true-with-writer-output-when-design-is-missing",
        "keyword": "Scenario",
        "name": "lead_ready? returns true with WRITER output when DESIGN is missing",
        "description": "",
        "line": 55,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Writer Only Campaign\" exists for me",
            "line": 56,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1886000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 57,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2442000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 58,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1231000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 59,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2348000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead does not have a \"DESIGN\" agent output",
            "line": 60,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:106"
            },
            "result": {
              "status": "passed",
              "duration": 780000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 61,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will succeed",
            "line": 62,
            "match": {
              "location": "features/step_definitions/email_steps.rb:288"
            },
            "result": {
              "status": "passed",
              "duration": 194000
            }
          },
          {
            "keyword": "When ",
            "name": "I run EmailSenderService for the campaign",
            "line": 63,
            "match": {
              "location": "features/step_definitions/email_steps.rb:304"
            },
            "result": {
              "status": "passed",
              "duration": 7132000
            }
          },
          {
            "keyword": "Then ",
            "name": "the send result should have sent 1",
            "line": 64,
            "match": {
              "location": "features/step_definitions/email_steps.rb:341"
            },
            "result": {
              "status": "passed",
              "duration": 75000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5807000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 995000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 169000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-basic-operations-including-lead-readiness-checks-and-basic-sending;emailsenderservice-sends-to-lead-at-completed-stage",
        "keyword": "Scenario",
        "name": "EmailSenderService sends to lead at completed stage",
        "description": "",
        "line": 66,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Completed Stage Campaign\" exists for me",
            "line": 67,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3091000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 68,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 6381000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 69,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1959000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"completed\"",
            "line": 70,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 4459000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 71,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will succeed",
            "line": 72,
            "match": {
              "location": "features/step_definitions/email_steps.rb:288"
            },
            "result": {
              "status": "passed",
              "duration": 198000
            }
          },
          {
            "keyword": "When ",
            "name": "I run EmailSenderService for the campaign",
            "line": 73,
            "match": {
              "location": "features/step_definitions/email_steps.rb:304"
            },
            "result": {
              "status": "passed",
              "duration": 15097000
            }
          },
          {
            "keyword": "Then ",
            "name": "the send result should have sent 1",
            "line": 74,
            "match": {
              "location": "features/step_definitions/email_steps.rb:341"
            },
            "result": {
              "status": "passed",
              "duration": 119000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 61000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6863000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1097000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 197000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-basic-operations-including-lead-readiness-checks-and-basic-sending;send_email_for_lead-returns-error-when-lead-has-no-campaign",
        "keyword": "Scenario",
        "name": "send_email_for_lead returns error when lead has no campaign",
        "description": "",
        "line": 76,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 77,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3022000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 78,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3611000
            }
          },
          {
            "keyword": "When ",
            "name": "I remove campaign from lead",
            "line": 79,
            "match": {
              "location": "features/step_definitions/email_steps.rb:369"
            },
            "result": {
              "status": "passed",
              "duration": 238000
            }
          },
          {
            "keyword": "And ",
            "name": "I attempt to send email for my lead",
            "line": 80,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 61000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have failed with message containing \"valid campaign\"",
            "line": 81,
            "match": {
              "location": "features/step_definitions/email_steps.rb:321"
            },
            "result": {
              "status": "passed",
              "duration": 94000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 8036000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 2581000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 246000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-basic-operations-including-lead-readiness-checks-and-basic-sending;send_email_for_lead-returns-error-when-campaign-has-no-user",
        "keyword": "Scenario",
        "name": "send_email_for_lead returns error when campaign has no user",
        "description": "",
        "line": 83,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"No User Campaign\" exists for me",
            "line": 84,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6291000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 85,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 25874000
            }
          },
          {
            "keyword": "When ",
            "name": "I remove user from campaign",
            "line": 86,
            "match": {
              "location": "features/step_definitions/email_steps.rb:377"
            },
            "result": {
              "status": "passed",
              "duration": 1454000
            }
          },
          {
            "keyword": "And ",
            "name": "I attempt to send email for my lead",
            "line": 87,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 238000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have failed with message containing \"valid campaign\"",
            "line": 88,
            "match": {
              "location": "features/step_definitions/email_steps.rb:321"
            },
            "result": {
              "status": "passed",
              "duration": 357000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 77000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 173000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 11724000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 4261000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 76000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2715000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-basic-operations-including-lead-readiness-checks-and-basic-sending;emailsenderservice-raises-error-when-lead-has-no-email-content",
        "keyword": "Scenario",
        "name": "EmailSenderService raises error when lead has no email content",
        "description": "",
        "line": 90,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"No Content Error Campaign\" exists for me",
            "line": 91,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 9060000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 92,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 11528000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output without email content",
            "line": 93,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:540"
            },
            "result": {
              "status": "passed",
              "duration": 8542000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 94,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 7742000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 95,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 61000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 96,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 14283000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have failed with message containing \"not ready\"",
            "line": 97,
            "match": {
              "location": "features/step_definitions/email_steps.rb:321"
            },
            "result": {
              "status": "passed",
              "duration": 974000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 209000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 34461000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 3591000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 149000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4330000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-basic-operations-including-lead-readiness-checks-and-basic-sending;send_email_for_lead-returns-success-true-when-email-sent-successfully",
        "keyword": "Scenario",
        "name": "send_email_for_lead returns success true when email sent successfully",
        "description": "",
        "line": 99,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Success Campaign\" exists for me",
            "line": 100,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 7522000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 101,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 8615000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 102,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 5076000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 103,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 5046000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 104,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will succeed",
            "line": 105,
            "match": {
              "location": "features/step_definitions/email_steps.rb:288"
            },
            "result": {
              "status": "passed",
              "duration": 1448000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 106,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 9604000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have succeeded",
            "line": 107,
            "match": {
              "location": "features/step_definitions/email_steps.rb:503"
            },
            "result": {
              "status": "passed",
              "duration": 87000
            }
          },
          {
            "keyword": "And ",
            "name": "the success message should contain \"Email sent successfully\"",
            "line": 108,
            "match": {
              "location": "features/step_definitions/email_steps.rb:508"
            },
            "result": {
              "status": "passed",
              "duration": 69000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "emailsenderservice-behavior-with-handling-multiple-leads-and-batch-operations",
    "uri": "features/email_sender_batch.feature",
    "keyword": "Feature",
    "name": "EmailSenderService behavior with handling multiple leads and batch operations",
    "description": "  As an authenticated user\n  I want to send emails to multiple leads in a single batch operation\n  So that I can efficiently execute campaigns at scale with proper error handling",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 7957000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1080000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 224000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-behavior-with-handling-multiple-leads-and-batch-operations;emailsenderservice-sends-emails-to-multiple-ready-leads",
        "keyword": "Scenario",
        "name": "EmailSenderService sends emails to multiple ready leads",
        "description": "",
        "line": 10,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Multi Lead Campaign\" exists for me",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3805000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a lead with email \"lead1@example.com\"",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:926"
            },
            "result": {
              "status": "passed",
              "duration": 11123000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"lead1@example.com\" has a \"DESIGN\" agent output with email content",
            "line": 13,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 3715000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"lead1@example.com\" has stage \"designed\"",
            "line": 14,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:154"
            },
            "result": {
              "status": "passed",
              "duration": 6504000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a lead with email \"lead2@example.com\"",
            "line": 15,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:926"
            },
            "result": {
              "status": "passed",
              "duration": 5750000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"lead2@example.com\" has a \"WRITER\" agent output with email content",
            "line": 16,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 4677000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"lead2@example.com\" has stage \"designed\"",
            "line": 17,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:154"
            },
            "result": {
              "status": "passed",
              "duration": 2351000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 18,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will succeed",
            "line": 19,
            "match": {
              "location": "features/step_definitions/email_steps.rb:288"
            },
            "result": {
              "status": "passed",
              "duration": 204000
            }
          },
          {
            "keyword": "When ",
            "name": "I run EmailSenderService for the campaign",
            "line": 20,
            "match": {
              "location": "features/step_definitions/email_steps.rb:304"
            },
            "result": {
              "status": "passed",
              "duration": 13821000
            }
          },
          {
            "keyword": "Then ",
            "name": "the send result should have sent 2",
            "line": 21,
            "match": {
              "location": "features/step_definitions/email_steps.rb:341"
            },
            "result": {
              "status": "passed",
              "duration": 92000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 35000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 7401000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1518000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 195000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-behavior-with-handling-multiple-leads-and-batch-operations;emailsenderservice-skips-leads-not-at-designed-or-completed-stage",
        "keyword": "Scenario",
        "name": "EmailSenderService skips leads not at designed or completed stage",
        "description": "",
        "line": 23,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Mixed Stage Campaign\" exists for me",
            "line": 24,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2952000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a lead with email \"queued@example.com\"",
            "line": 25,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:926"
            },
            "result": {
              "status": "passed",
              "duration": 2085000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"queued@example.com\" has stage \"queued\"",
            "line": 26,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:154"
            },
            "result": {
              "status": "passed",
              "duration": 1215000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a lead with email \"processing@example.com\"",
            "line": 27,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:926"
            },
            "result": {
              "status": "passed",
              "duration": 2153000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"processing@example.com\" has stage \"processing\"",
            "line": 28,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:154"
            },
            "result": {
              "status": "passed",
              "duration": 2331000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a lead with email \"ready@example.com\"",
            "line": 29,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:926"
            },
            "result": {
              "status": "passed",
              "duration": 1634000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"ready@example.com\" has a \"DESIGN\" agent output with email content",
            "line": 30,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 2785000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"ready@example.com\" has stage \"designed\"",
            "line": 31,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:154"
            },
            "result": {
              "status": "passed",
              "duration": 2182000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 32,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will succeed",
            "line": 33,
            "match": {
              "location": "features/step_definitions/email_steps.rb:288"
            },
            "result": {
              "status": "passed",
              "duration": 220000
            }
          },
          {
            "keyword": "When ",
            "name": "I run EmailSenderService for the campaign",
            "line": 34,
            "match": {
              "location": "features/step_definitions/email_steps.rb:304"
            },
            "result": {
              "status": "passed",
              "duration": 8249000
            }
          },
          {
            "keyword": "Then ",
            "name": "the send result should have sent 1",
            "line": 35,
            "match": {
              "location": "features/step_definitions/email_steps.rb:341"
            },
            "result": {
              "status": "passed",
              "duration": 79000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5831000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1147000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 162000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-behavior-with-handling-multiple-leads-and-batch-operations;emailsenderservice-tracks-failures-when-some-leads-fail-to-send",
        "keyword": "Scenario",
        "name": "EmailSenderService tracks failures when some leads fail to send",
        "description": "",
        "line": 37,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Partial Failure Campaign\" exists for me",
            "line": 38,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1999000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a lead with email \"success@example.com\"",
            "line": 39,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:926"
            },
            "result": {
              "status": "passed",
              "duration": 2122000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"success@example.com\" has a \"DESIGN\" agent output with email content",
            "line": 40,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 2865000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"success@example.com\" has stage \"designed\"",
            "line": 41,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:154"
            },
            "result": {
              "status": "passed",
              "duration": 2085000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a lead with email \"fail@example.com\"",
            "line": 42,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:926"
            },
            "result": {
              "status": "passed",
              "duration": 1577000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"fail@example.com\" has a \"DESIGN\" agent output with email content",
            "line": 43,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 2018000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"fail@example.com\" has stage \"designed\"",
            "line": 44,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:154"
            },
            "result": {
              "status": "passed",
              "duration": 2157000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 45,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will fail for lead \"fail@example.com\"",
            "line": 46,
            "match": {
              "location": "features/step_definitions/email_steps.rb:387"
            },
            "result": {
              "status": "passed",
              "duration": 200000
            }
          },
          {
            "keyword": "When ",
            "name": "I run EmailSenderService for the campaign",
            "line": 47,
            "match": {
              "location": "features/step_definitions/email_steps.rb:304"
            },
            "result": {
              "status": "passed",
              "duration": 8533000
            }
          },
          {
            "keyword": "Then ",
            "name": "the send result should have sent 1",
            "line": 48,
            "match": {
              "location": "features/step_definitions/email_steps.rb:341"
            },
            "result": {
              "status": "passed",
              "duration": 77000
            }
          },
          {
            "keyword": "And ",
            "name": "the send result should have failed 1",
            "line": 49,
            "match": {
              "location": "features/step_definitions/email_steps.rb:381"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 7924000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1126000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 163000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-behavior-with-handling-multiple-leads-and-batch-operations;emailsenderservice-returns-zero-sent-for-campaign-with-no-ready-leads",
        "keyword": "Scenario",
        "name": "EmailSenderService returns zero sent for campaign with no ready leads",
        "description": "",
        "line": 51,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"No Ready Leads Campaign\" exists for me",
            "line": 52,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2877000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a lead with email \"notready@example.com\"",
            "line": 53,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:926"
            },
            "result": {
              "status": "passed",
              "duration": 4128000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"notready@example.com\" has stage \"queued\"",
            "line": 54,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:154"
            },
            "result": {
              "status": "passed",
              "duration": 1465000
            }
          },
          {
            "keyword": "When ",
            "name": "I run EmailSenderService for the campaign",
            "line": 55,
            "match": {
              "location": "features/step_definitions/email_steps.rb:304"
            },
            "result": {
              "status": "passed",
              "duration": 1979000
            }
          },
          {
            "keyword": "Then ",
            "name": "the send result should have sent 0",
            "line": 56,
            "match": {
              "location": "features/step_definitions/email_steps.rb:341"
            },
            "result": {
              "status": "passed",
              "duration": 74000
            }
          },
          {
            "keyword": "And ",
            "name": "the send result should have failed 0",
            "line": 57,
            "match": {
              "location": "features/step_definitions/email_steps.rb:381"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 88000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5379000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 958000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 310000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-behavior-with-handling-multiple-leads-and-batch-operations;emailsenderservice-logs-and-continues-when-one-lead-throws-exception",
        "keyword": "Scenario",
        "name": "EmailSenderService logs and continues when one lead throws exception",
        "description": "",
        "line": 59,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Exception Campaign\" exists for me",
            "line": 60,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 14596000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a lead with email \"lead1@example.com\"",
            "line": 61,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:926"
            },
            "result": {
              "status": "passed",
              "duration": 4155000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"lead1@example.com\" has a \"DESIGN\" agent output with email content",
            "line": 62,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 4722000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"lead1@example.com\" has stage \"designed\"",
            "line": 63,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:154"
            },
            "result": {
              "status": "passed",
              "duration": 3275000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a lead with email \"lead2@example.com\"",
            "line": 64,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:926"
            },
            "result": {
              "status": "passed",
              "duration": 2102000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"lead2@example.com\" has a \"DESIGN\" agent output with email content",
            "line": 65,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 5152000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"lead2@example.com\" has stage \"designed\"",
            "line": 66,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:154"
            },
            "result": {
              "status": "passed",
              "duration": 3093000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 67,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will raise exception for lead \"lead1@example.com\"",
            "line": 68,
            "match": {
              "location": "features/step_definitions/email_steps.rb:434"
            },
            "result": {
              "status": "passed",
              "duration": 702000
            }
          },
          {
            "keyword": "When ",
            "name": "I run EmailSenderService for the campaign",
            "line": 69,
            "match": {
              "location": "features/step_definitions/email_steps.rb:304"
            },
            "result": {
              "status": "passed",
              "duration": 8349000
            }
          },
          {
            "keyword": "Then ",
            "name": "the send result should have sent 1",
            "line": 70,
            "match": {
              "location": "features/step_definitions/email_steps.rb:341"
            },
            "result": {
              "status": "passed",
              "duration": 74000
            }
          },
          {
            "keyword": "And ",
            "name": "the send result should have failed 1",
            "line": 71,
            "match": {
              "location": "features/step_definitions/email_steps.rb:381"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4913000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1093000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-behavior-with-handling-multiple-leads-and-batch-operations;emailsenderservice-tracks-multiple-error-details-in-results",
        "keyword": "Scenario",
        "name": "EmailSenderService tracks multiple error details in results",
        "description": "",
        "line": 73,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Multiple Errors Campaign\" exists for me",
            "line": 74,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2036000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a lead with email \"error1@example.com\"",
            "line": 75,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:926"
            },
            "result": {
              "status": "passed",
              "duration": 1853000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"error1@example.com\" has a \"DESIGN\" agent output with email content",
            "line": 76,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 2030000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"error1@example.com\" has stage \"designed\"",
            "line": 77,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:154"
            },
            "result": {
              "status": "passed",
              "duration": 1800000
            }
          },
          {
            "keyword": "And ",
            "name": "the campaign has a lead with email \"error2@example.com\"",
            "line": 78,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:926"
            },
            "result": {
              "status": "passed",
              "duration": 1638000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"error2@example.com\" has a \"DESIGN\" agent output with email content",
            "line": 79,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 3224000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead with email \"error2@example.com\" has stage \"designed\"",
            "line": 80,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:154"
            },
            "result": {
              "status": "passed",
              "duration": 2440000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 81,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will raise exception for lead \"error1@example.com\"",
            "line": 82,
            "match": {
              "location": "features/step_definitions/email_steps.rb:434"
            },
            "result": {
              "status": "passed",
              "duration": 183000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will raise exception for lead \"error2@example.com\"",
            "line": 83,
            "match": {
              "location": "features/step_definitions/email_steps.rb:434"
            },
            "result": {
              "status": "passed",
              "duration": 181000
            }
          },
          {
            "keyword": "When ",
            "name": "I run EmailSenderService for the campaign",
            "line": 84,
            "match": {
              "location": "features/step_definitions/email_steps.rb:304"
            },
            "result": {
              "status": "passed",
              "duration": 8277000
            }
          },
          {
            "keyword": "Then ",
            "name": "the send result should have sent 0",
            "line": 85,
            "match": {
              "location": "features/step_definitions/email_steps.rb:341"
            },
            "result": {
              "status": "passed",
              "duration": 68000
            }
          },
          {
            "keyword": "And ",
            "name": "the send result should have failed 2",
            "line": 86,
            "match": {
              "location": "features/step_definitions/email_steps.rb:381"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "emailsenderservice-error-handling-for-various-failure-scenarios",
    "uri": "features/email_sender_errors.feature",
    "keyword": "Feature",
    "name": "EmailSenderService error handling for various failure scenarios",
    "description": "  As an authenticated user\n  I want the email sender to gracefully handle delivery errors\n  So that I can understand failures and maintain system stability",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5165000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 867000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-error-handling-for-various-failure-scenarios;send_email_for_lead-handles-smtp-delivery-errors-gracefully",
        "keyword": "Scenario",
        "name": "send_email_for_lead handles SMTP delivery errors gracefully",
        "description": "",
        "line": 10,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Error Campaign\" exists for me",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1828000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2148000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 13,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1490000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 14,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1738000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 15,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will raise an SMTP error",
            "line": 16,
            "match": {
              "location": "features/step_definitions/email_steps.rb:335"
            },
            "result": {
              "status": "passed",
              "duration": 283000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 17,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 2639000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have failed with an SMTP error",
            "line": 18,
            "match": {
              "location": "features/step_definitions/email_steps.rb:327"
            },
            "result": {
              "status": "passed",
              "duration": 77000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6390000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1293000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 144000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-error-handling-for-various-failure-scenarios;emailsenderservice-handles-gmail-api-error-gracefully",
        "keyword": "Scenario",
        "name": "EmailSenderService handles Gmail API error gracefully",
        "description": "",
        "line": 20,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Gmail Error Campaign\" exists for me",
            "line": 21,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2165000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 22,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2423000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 23,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1420000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 24,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2430000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for current user as true",
            "line": 25,
            "match": {
              "location": "features/step_definitions/email_steps.rb:107"
            },
            "result": {
              "status": "passed",
              "duration": 1147000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will return valid access token \"access-token-500\"",
            "line": 26,
            "match": {
              "location": "features/step_definitions/email_steps.rb:227"
            },
            "result": {
              "status": "passed",
              "duration": 93000
            }
          },
          {
            "keyword": "And ",
            "name": "Gmail API will respond with 500 and body '{\"error\":\"server\"}'",
            "line": 27,
            "match": {
              "location": "features/step_definitions/email_steps.rb:271"
            },
            "result": {
              "status": "passed",
              "duration": 278000
            }
          },
          {
            "keyword": "When ",
            "name": "I run EmailSenderService for the campaign",
            "line": 28,
            "match": {
              "location": "features/step_definitions/email_steps.rb:304"
            },
            "result": {
              "status": "passed",
              "duration": 7741000
            }
          },
          {
            "keyword": "Then ",
            "name": "the send result should have sent 0",
            "line": 29,
            "match": {
              "location": "features/step_definitions/email_steps.rb:341"
            },
            "result": {
              "status": "passed",
              "duration": 190000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 101000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 119000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 9406000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 913000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 139000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 290000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-error-handling-for-various-failure-scenarios;emailsenderservice-handles-connection-timeout-error-gracefully",
        "keyword": "Scenario",
        "name": "EmailSenderService handles connection timeout error gracefully",
        "description": "",
        "line": 31,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Timeout Campaign\" exists for me",
            "line": 32,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1801000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 33,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2058000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 34,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1003000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 35,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2103000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 36,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will raise a connection timeout error",
            "line": 37,
            "match": {
              "location": "features/step_definitions/email_steps.rb:407"
            },
            "result": {
              "status": "passed",
              "duration": 460000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 38,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 5820000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have failed with an error",
            "line": 39,
            "match": {
              "location": "features/step_definitions/email_steps.rb:421"
            },
            "result": {
              "status": "passed",
              "duration": 129000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 115000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5522000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 3246000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 141000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-error-handling-for-various-failure-scenarios;emailsenderservice-handles-ssl-error-gracefully",
        "keyword": "Scenario",
        "name": "EmailSenderService handles SSL error gracefully",
        "description": "",
        "line": 41,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"SSL Error Campaign\" exists for me",
            "line": 42,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3345000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 43,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3327000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 44,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1160000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 45,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1851000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 46,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will raise an SSL error",
            "line": 47,
            "match": {
              "location": "features/step_definitions/email_steps.rb:414"
            },
            "result": {
              "status": "passed",
              "duration": 300000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 48,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 3391000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have failed with an error",
            "line": 49,
            "match": {
              "location": "features/step_definitions/email_steps.rb:421"
            },
            "result": {
              "status": "passed",
              "duration": 64000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 9569000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1763000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 150000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-error-handling-for-various-failure-scenarios;emailsenderservice-handles-missing-smtp-configuration",
        "keyword": "Scenario",
        "name": "EmailSenderService handles missing SMTP configuration",
        "description": "",
        "line": 51,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"No SMTP Campaign\" exists for me",
            "line": 52,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3259000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 53,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3819000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 54,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1930000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 55,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 4755000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for current user as false",
            "line": 56,
            "match": {
              "location": "features/step_definitions/email_steps.rb:107"
            },
            "result": {
              "status": "passed",
              "duration": 1019000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP is not configured",
            "line": 57,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:126"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 58,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 2576000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have failed with an error",
            "line": 59,
            "match": {
              "location": "features/step_definitions/email_steps.rb:421"
            },
            "result": {
              "status": "passed",
              "duration": 63000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5592000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 842000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-error-handling-for-various-failure-scenarios;send_via_gmail_api-raises-error-when-http-request-fails",
        "keyword": "Scenario",
        "name": "send_via_gmail_api raises error when HTTP request fails",
        "description": "",
        "line": 61,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Gmail HTTP Error Campaign\" exists for me",
            "line": 62,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2055000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 63,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2461000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 64,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 2840000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 65,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3014000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for current user as true",
            "line": 66,
            "match": {
              "location": "features/step_definitions/email_steps.rb:107"
            },
            "result": {
              "status": "passed",
              "duration": 1839000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will return valid access token \"access-token-http-error\"",
            "line": 67,
            "match": {
              "location": "features/step_definitions/email_steps.rb:227"
            },
            "result": {
              "status": "passed",
              "duration": 125000
            }
          },
          {
            "keyword": "And ",
            "name": "Gmail API HTTP request will raise connection error",
            "line": 68,
            "match": {
              "location": "features/step_definitions/email_steps.rb:495"
            },
            "result": {
              "status": "passed",
              "duration": 234000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 69,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 4179000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have failed with an error",
            "line": 70,
            "match": {
              "location": "features/step_definitions/email_steps.rb:421"
            },
            "result": {
              "status": "passed",
              "duration": 107000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 63000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6508000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 880000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 289000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-error-handling-for-various-failure-scenarios;emailsenderservice-handles-net::smtpauthenticationerror-with-response-details",
        "keyword": "Scenario",
        "name": "EmailSenderService handles Net::SMTPAuthenticationError with response details",
        "description": "",
        "line": 72,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"SMTP Auth Error Campaign\" exists for me",
            "line": 73,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1893000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 74,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2003000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 75,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1389000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 76,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2018000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 77,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will raise SMTP authentication error with response",
            "line": 78,
            "match": {
              "location": "features/step_definitions/email_steps.rb:516"
            },
            "result": {
              "status": "passed",
              "duration": 528000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 79,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 4101000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have failed with an error",
            "line": 80,
            "match": {
              "location": "features/step_definitions/email_steps.rb:421"
            },
            "result": {
              "status": "passed",
              "duration": 85000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 68000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4938000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 888000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 142000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-error-handling-for-various-failure-scenarios;emailsenderservice-handles-net::smtperror-with-response",
        "keyword": "Scenario",
        "name": "EmailSenderService handles Net::SMTPError with response",
        "description": "",
        "line": 82,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"SMTP Error Campaign\" exists for me",
            "line": 83,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2355000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 84,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2799000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 85,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1143000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 86,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1765000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 87,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will raise Net::SMTPError",
            "line": 88,
            "match": {
              "location": "features/step_definitions/email_steps.rb:532"
            },
            "result": {
              "status": "passed",
              "duration": 400000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 89,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 3065000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have failed with an error",
            "line": 90,
            "match": {
              "location": "features/step_definitions/email_steps.rb:421"
            },
            "result": {
              "status": "passed",
              "duration": 67000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5124000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 922000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 144000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-error-handling-for-various-failure-scenarios;emailsenderservice-handles-errno::econnrefused-error",
        "keyword": "Scenario",
        "name": "EmailSenderService handles Errno::ECONNREFUSED error",
        "description": "",
        "line": 92,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Connection Refused Campaign\" exists for me",
            "line": 93,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1823000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 94,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2324000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 95,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1392000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 96,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1908000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 97,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will raise connection refused error",
            "line": 98,
            "match": {
              "location": "features/step_definitions/email_steps.rb:547"
            },
            "result": {
              "status": "passed",
              "duration": 302000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 99,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 3342000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have failed with an error",
            "line": 100,
            "match": {
              "location": "features/step_definitions/email_steps.rb:421"
            },
            "result": {
              "status": "passed",
              "duration": 70000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6435000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 988000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 202000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-error-handling-for-various-failure-scenarios;emailsenderservice-handles-timeout::error",
        "keyword": "Scenario",
        "name": "EmailSenderService handles Timeout::Error",
        "description": "",
        "line": 102,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Timeout Error Campaign\" exists for me",
            "line": 103,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2003000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 104,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 1952000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 105,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1259000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 106,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2001000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 107,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will raise Timeout::Error",
            "line": 108,
            "match": {
              "location": "features/step_definitions/email_steps.rb:554"
            },
            "result": {
              "status": "passed",
              "duration": 282000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 109,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 2859000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have failed with an error",
            "line": 110,
            "match": {
              "location": "features/step_definitions/email_steps.rb:421"
            },
            "result": {
              "status": "passed",
              "duration": 62000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5293000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1193000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "emailsenderservice-error-handling-for-various-failure-scenarios;send_via_gmail_api-handles-non-200-response-codes",
        "keyword": "Scenario",
        "name": "send_via_gmail_api handles non-200 response codes",
        "description": "",
        "line": 112,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Gmail 400 Campaign\" exists for me",
            "line": 113,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2463000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 114,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3169000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 115,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1537000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 116,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1737000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for current user as true",
            "line": 117,
            "match": {
              "location": "features/step_definitions/email_steps.rb:107"
            },
            "result": {
              "status": "passed",
              "duration": 1366000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will return valid access token \"bad-request-token\"",
            "line": 118,
            "match": {
              "location": "features/step_definitions/email_steps.rb:227"
            },
            "result": {
              "status": "passed",
              "duration": 207000
            }
          },
          {
            "keyword": "And ",
            "name": "Gmail API will respond with 400 and body '{\"error\":\"bad request\"}'",
            "line": 119,
            "match": {
              "location": "features/step_definitions/email_steps.rb:271"
            },
            "result": {
              "status": "passed",
              "duration": 227000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 120,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 3329000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have failed with an error",
            "line": 121,
            "match": {
              "location": "features/step_definitions/email_steps.rb:421"
            },
            "result": {
              "status": "passed",
              "duration": 126000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 72000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "email-sender-service-gmail-api-integration-and-environment-handling",
    "uri": "features/email_sender_gmail_api.feature",
    "keyword": "Feature",
    "name": "Email sender service Gmail API integration and environment handling",
    "description": "  As an authenticated user\n  I want to ensure that emails can be sent through Gmail API\n  So that I can reach out to leads",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 7260000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1704000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 146000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "email-sender-service-gmail-api-integration-and-environment-handling;send_via_gmail_api-uses-verify_none-in-development-environment",
        "keyword": "Scenario",
        "name": "send_via_gmail_api uses VERIFY_NONE in development environment",
        "description": "",
        "line": 10,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Dev Gmail API Campaign\" exists for me",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5431000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2862000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 13,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1101000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 14,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1496000
            }
          },
          {
            "keyword": "And ",
            "name": "Rails environment is development",
            "line": 15,
            "match": {
              "location": "features/step_definitions/email_steps.rb:648"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for current user as true",
            "line": 16,
            "match": {
              "location": "features/step_definitions/email_steps.rb:107"
            },
            "result": {
              "status": "passed",
              "duration": 1011000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will return valid access token \"dev-token\"",
            "line": 17,
            "match": {
              "location": "features/step_definitions/email_steps.rb:227"
            },
            "result": {
              "status": "passed",
              "duration": 91000
            }
          },
          {
            "keyword": "And ",
            "name": "Gmail API will respond with 200 and body '{\"id\":\"dev-msg\"}'",
            "line": 18,
            "match": {
              "location": "features/step_definitions/email_steps.rb:271"
            },
            "result": {
              "status": "passed",
              "duration": 240000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 19,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 2298000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have succeeded",
            "line": 20,
            "match": {
              "location": "features/step_definitions/email_steps.rb:503"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "email-sender-service-oauth-integration",
    "uri": "features/email_sender_oauth.feature",
    "keyword": "Feature",
    "name": "Email sender service OAuth integration",
    "description": "  As an authenticated user\n  I want to be able to use OAuth with flexible user lookup and token handling\n  So that I can securely authenticate with Gmail and support multiple sender addresses",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 7,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5349000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 9,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1081000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 160000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "email-sender-service-oauth-integration;emailsenderservice-uses-send_from_email-different-from-user-email-for-oauth-lookup",
        "keyword": "Scenario",
        "name": "EmailSenderService uses send_from_email different from user email for OAuth lookup",
        "description": "",
        "line": 11,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"OAuth Lookup Campaign\" exists for me",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 10314000
            }
          },
          {
            "keyword": "And ",
            "name": "there is another user with a separate campaign",
            "line": 13,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 10291000
            }
          },
          {
            "keyword": "And ",
            "name": "I set my send_from_email to \"other@example.com\"",
            "line": 14,
            "match": {
              "location": "features/step_definitions/email_steps.rb:167"
            },
            "result": {
              "status": "passed",
              "duration": 3576000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 15,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2270000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 16,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1155000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 17,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1851000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for user \"other@example.com\" as true",
            "line": 18,
            "match": {
              "location": "features/step_definitions/email_steps.rb:113"
            },
            "result": {
              "status": "passed",
              "duration": 2433000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will return valid access token \"other-access-token\"",
            "line": 19,
            "match": {
              "location": "features/step_definitions/email_steps.rb:227"
            },
            "result": {
              "status": "passed",
              "duration": 135000
            }
          },
          {
            "keyword": "And ",
            "name": "Gmail API will respond with 200 and body '{\"id\":\"msg-oauth-lookup\"}'",
            "line": 20,
            "match": {
              "location": "features/step_definitions/email_steps.rb:271"
            },
            "result": {
              "status": "passed",
              "duration": 703000
            }
          },
          {
            "keyword": "When ",
            "name": "I run EmailSenderService for the campaign",
            "line": 21,
            "match": {
              "location": "features/step_definitions/email_steps.rb:304"
            },
            "result": {
              "status": "passed",
              "duration": 6790000
            }
          },
          {
            "keyword": "Then ",
            "name": "the send result should have sent 1",
            "line": 22,
            "match": {
              "location": "features/step_definitions/email_steps.rb:341"
            },
            "result": {
              "status": "passed",
              "duration": 87000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 78000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 7,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 14015000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 9,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1033000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 195000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "email-sender-service-oauth-integration;emailsenderservice-uses-smtp-when-oauth-token-retrieval-fails",
        "keyword": "Scenario",
        "name": "EmailSenderService uses SMTP when OAuth token retrieval fails",
        "description": "",
        "line": 24,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"OAuth Fail Campaign\" exists for me",
            "line": 25,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2726000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 26,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3475000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 27,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1492000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 28,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2417000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for current user as true",
            "line": 29,
            "match": {
              "location": "features/step_definitions/email_steps.rb:107"
            },
            "result": {
              "status": "passed",
              "duration": 1329000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will return valid access token nil",
            "line": 30,
            "match": {
              "location": "features/step_definitions/email_steps.rb:429"
            },
            "result": {
              "status": "passed",
              "duration": 117000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 31,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will succeed",
            "line": 32,
            "match": {
              "location": "features/step_definitions/email_steps.rb:288"
            },
            "result": {
              "status": "passed",
              "duration": 123000
            }
          },
          {
            "keyword": "When ",
            "name": "I run EmailSenderService for the campaign",
            "line": 33,
            "match": {
              "location": "features/step_definitions/email_steps.rb:304"
            },
            "result": {
              "status": "passed",
              "duration": 4276000
            }
          },
          {
            "keyword": "Then ",
            "name": "the send result should have sent 1",
            "line": 34,
            "match": {
              "location": "features/step_definitions/email_steps.rb:341"
            },
            "result": {
              "status": "passed",
              "duration": 73000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 232000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 7,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5464000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 9,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 918000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 74000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 251000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "id": "email-sender-service-oauth-integration;emailsenderservice-finds-oauth-user-when-send_from_email-equals-user-email-but-another-user-has-oauth",
        "keyword": "Scenario",
        "name": "EmailSenderService finds OAuth user when send_from_email equals user email but another user has OAuth",
        "description": "",
        "line": 36,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Alternative OAuth Campaign\" exists for me",
            "line": 37,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2235000
            }
          },
          {
            "keyword": "And ",
            "name": "there is another user with email \"admin@example.com\"",
            "line": 38,
            "match": {
              "location": "features/step_definitions/email_steps.rb:458"
            },
            "result": {
              "status": "passed",
              "duration": 532000
            }
          },
          {
            "keyword": "And ",
            "name": "the other user has OAuth configured",
            "line": 39,
            "match": {
              "location": "features/step_definitions/email_steps.rb:471"
            },
            "result": {
              "status": "passed",
              "duration": 2038000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 40,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3358000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 41,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 3282000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 42,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 5435000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for other user as true",
            "line": 43,
            "match": {
              "location": "features/step_definitions/email_steps.rb:480"
            },
            "result": {
              "status": "passed",
              "duration": 491000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will return valid access token \"alternative-token\" for other user",
            "line": 44,
            "match": {
              "location": "features/step_definitions/email_steps.rb:488"
            },
            "result": {
              "status": "passed",
              "duration": 193000
            }
          },
          {
            "keyword": "And ",
            "name": "Gmail API will respond with 200 and body '{\"id\":\"msg-alt\"}'",
            "line": 45,
            "match": {
              "location": "features/step_definitions/email_steps.rb:271"
            },
            "result": {
              "status": "passed",
              "duration": 330000
            }
          },
          {
            "keyword": "When ",
            "name": "I run EmailSenderService for the campaign",
            "line": 46,
            "match": {
              "location": "features/step_definitions/email_steps.rb:304"
            },
            "result": {
              "status": "passed",
              "duration": 5885000
            }
          },
          {
            "keyword": "Then ",
            "name": "the send result should have sent 1",
            "line": 47,
            "match": {
              "location": "features/step_definitions/email_steps.rb:341"
            },
            "result": {
              "status": "passed",
              "duration": 76000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 70000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 7,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6756000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 9,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1158000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 166000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "email-sender-service-oauth-integration;emailsenderservice-uses-from_email-from-user-send_from_email-setting",
        "keyword": "Scenario",
        "name": "EmailSenderService uses from_email from user send_from_email setting",
        "description": "",
        "line": 49,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Custom From Campaign\" exists for me",
            "line": 50,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2998000
            }
          },
          {
            "keyword": "And ",
            "name": "I set my send_from_email to \"custom@example.com\"",
            "line": 51,
            "match": {
              "location": "features/step_definitions/email_steps.rb:167"
            },
            "result": {
              "status": "passed",
              "duration": 2843000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 52,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2881000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 53,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1565000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 54,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1574000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 55,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will succeed",
            "line": 56,
            "match": {
              "location": "features/step_definitions/email_steps.rb:288"
            },
            "result": {
              "status": "passed",
              "duration": 185000
            }
          },
          {
            "keyword": "When ",
            "name": "I run EmailSenderService for the campaign",
            "line": 57,
            "match": {
              "location": "features/step_definitions/email_steps.rb:304"
            },
            "result": {
              "status": "passed",
              "duration": 3848000
            }
          },
          {
            "keyword": "Then ",
            "name": "the send result should have sent 1",
            "line": 58,
            "match": {
              "location": "features/step_definitions/email_steps.rb:341"
            },
            "result": {
              "status": "passed",
              "duration": 65000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 7,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5233000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 9,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 959000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 150000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "email-sender-service-oauth-integration;emailsenderservice-uses-user-email-as-from_email-when-send_from_email-is-not-set",
        "keyword": "Scenario",
        "name": "EmailSenderService uses user email as from_email when send_from_email is not set",
        "description": "",
        "line": 60,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Default From Campaign\" exists for me",
            "line": 61,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1780000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 62,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2702000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 63,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1842000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 64,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1702000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 65,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will succeed",
            "line": 66,
            "match": {
              "location": "features/step_definitions/email_steps.rb:288"
            },
            "result": {
              "status": "passed",
              "duration": 160000
            }
          },
          {
            "keyword": "When ",
            "name": "I run EmailSenderService for the campaign",
            "line": 67,
            "match": {
              "location": "features/step_definitions/email_steps.rb:304"
            },
            "result": {
              "status": "passed",
              "duration": 3362000
            }
          },
          {
            "keyword": "Then ",
            "name": "the send result should have sent 1",
            "line": 68,
            "match": {
              "location": "features/step_definitions/email_steps.rb:341"
            },
            "result": {
              "status": "passed",
              "duration": 62000
            }
          },
          {
            "keyword": "And ",
            "name": "an email should be delivered to \"alice@example.com\"",
            "line": 69,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:198"
            },
            "result": {
              "status": "passed",
              "duration": 291000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 7,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5565000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 9,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 986000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 63000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 158000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "email-sender-service-oauth-integration;emailsenderservice-logs-warning-when-oauth-configured-but-token-is-nil",
        "keyword": "Scenario",
        "name": "EmailSenderService logs warning when OAuth configured but token is nil",
        "description": "",
        "line": 71,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"OAuth Warning Campaign\" exists for me",
            "line": 72,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2055000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 73,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2452000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 74,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1380000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 75,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1838000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for current user as true",
            "line": 76,
            "match": {
              "location": "features/step_definitions/email_steps.rb:107"
            },
            "result": {
              "status": "passed",
              "duration": 836000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will return valid access token nil",
            "line": 77,
            "match": {
              "location": "features/step_definitions/email_steps.rb:429"
            },
            "result": {
              "status": "passed",
              "duration": 87000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 78,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will succeed",
            "line": 79,
            "match": {
              "location": "features/step_definitions/email_steps.rb:288"
            },
            "result": {
              "status": "passed",
              "duration": 113000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 80,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 2726000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have succeeded",
            "line": 81,
            "match": {
              "location": "features/step_definitions/email_steps.rb:503"
            },
            "result": {
              "status": "passed",
              "duration": 59000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "email-sender-service-smtp-configuration-including-oauth2-and-password-based-authentication",
    "uri": "features/email_sender_smtp.feature",
    "keyword": "Feature",
    "name": "Email sender service SMTP configuration including OAuth2 and password-based authentication",
    "description": "  As an authenticated user\n  I want to configure SMTP delivery with multiple authentication methods\n  So that I can send emails securely using either OAuth2 or password-based authentication",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6337000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 963000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "email-sender-service-smtp-configuration-including-oauth2-and-password-based-authentication;emailsenderservice-handles-delivery-method-verification-failure",
        "keyword": "Scenario",
        "name": "EmailSenderService handles delivery method verification failure",
        "description": "",
        "line": 10,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Delivery Method Check Campaign\" exists for me",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1892000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2074000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 13,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1129000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 14,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1846000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 15,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "And ",
            "name": "ActionMailer delivery_method will change after mail creation",
            "line": 16,
            "match": {
              "location": "features/step_definitions/email_steps.rb:561"
            },
            "result": {
              "status": "passed",
              "duration": 195000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 17,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 2479000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have succeeded",
            "line": 18,
            "match": {
              "location": "features/step_definitions/email_steps.rb:503"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 16860000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 923000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 270000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "email-sender-service-smtp-configuration-including-oauth2-and-password-based-authentication;configure_delivery_method-uses-oauth2-smtp-when-access-token-available",
        "keyword": "Scenario",
        "name": "configure_delivery_method uses OAuth2 SMTP when access token available",
        "description": "",
        "line": 20,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"OAuth SMTP Campaign\" exists for me",
            "line": 21,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3007000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 22,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3836000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 23,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1277000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 24,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1730000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for current user as true",
            "line": 25,
            "match": {
              "location": "features/step_definitions/email_steps.rb:107"
            },
            "result": {
              "status": "passed",
              "duration": 1418000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService valid_access_token will return nil on first call and token on second",
            "line": 26,
            "match": {
              "location": "features/step_definitions/email_steps.rb:606"
            },
            "result": {
              "status": "passed",
              "duration": 102000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 27,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will succeed",
            "line": 28,
            "match": {
              "location": "features/step_definitions/email_steps.rb:288"
            },
            "result": {
              "status": "passed",
              "duration": 314000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 29,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 6559000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have succeeded",
            "line": 30,
            "match": {
              "location": "features/step_definitions/email_steps.rb:503"
            },
            "result": {
              "status": "passed",
              "duration": 105000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 116000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5134000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 888000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 152000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "email-sender-service-smtp-configuration-including-oauth2-and-password-based-authentication;configure_delivery_method-uses-different-oauth_user-when-send_from_email-differs",
        "keyword": "Scenario",
        "name": "configure_delivery_method uses different oauth_user when send_from_email differs",
        "description": "",
        "line": 32,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Different OAuth User Campaign\" exists for me",
            "line": 33,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1832000
            }
          },
          {
            "keyword": "And ",
            "name": "there is another user with a separate campaign",
            "line": 34,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5434000
            }
          },
          {
            "keyword": "And ",
            "name": "I set my send_from_email to \"other@example.com\"",
            "line": 35,
            "match": {
              "location": "features/step_definitions/email_steps.rb:167"
            },
            "result": {
              "status": "passed",
              "duration": 2876000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 36,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3015000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 37,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 2224000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 38,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 4064000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for user \"other@example.com\" as true",
            "line": 39,
            "match": {
              "location": "features/step_definitions/email_steps.rb:113"
            },
            "result": {
              "status": "passed",
              "duration": 2617000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService valid_access_token will return nil for Gmail API and token for SMTP",
            "line": 40,
            "match": {
              "location": "features/step_definitions/email_steps.rb:614"
            },
            "result": {
              "status": "passed",
              "duration": 82000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured",
            "line": 41,
            "match": {
              "location": "features/step_definitions/email_steps.rb:280"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will succeed",
            "line": 42,
            "match": {
              "location": "features/step_definitions/email_steps.rb:288"
            },
            "result": {
              "status": "passed",
              "duration": 286000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 43,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 9117000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have succeeded",
            "line": 44,
            "match": {
              "location": "features/step_definitions/email_steps.rb:503"
            },
            "result": {
              "status": "passed",
              "duration": 114000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 70000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6269000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 941000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 164000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "email-sender-service-smtp-configuration-including-oauth2-and-password-based-authentication;build_oauth2_smtp_settings-generates-correct-smtp-configuration",
        "keyword": "Scenario",
        "name": "build_oauth2_smtp_settings generates correct SMTP configuration",
        "description": "",
        "line": 46,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"OAuth Settings Campaign\" exists for me",
            "line": 47,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2713000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 48,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4596000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 49,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1938000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 50,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2406000
            }
          },
          {
            "keyword": "And ",
            "name": "I set my send_from_email to \"custom@example.com\"",
            "line": 51,
            "match": {
              "location": "features/step_definitions/email_steps.rb:167"
            },
            "result": {
              "status": "passed",
              "duration": 3490000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for current user as true",
            "line": 52,
            "match": {
              "location": "features/step_definitions/email_steps.rb:107"
            },
            "result": {
              "status": "passed",
              "duration": 1021000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService valid_access_token will return nil for Gmail API and token for SMTP",
            "line": 53,
            "match": {
              "location": "features/step_definitions/email_steps.rb:614"
            },
            "result": {
              "status": "passed",
              "duration": 61000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured with custom settings",
            "line": 54,
            "match": {
              "location": "features/step_definitions/email_steps.rb:629"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will succeed",
            "line": 55,
            "match": {
              "location": "features/step_definitions/email_steps.rb:288"
            },
            "result": {
              "status": "passed",
              "duration": 117000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 56,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 3175000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have succeeded",
            "line": 57,
            "match": {
              "location": "features/step_definitions/email_steps.rb:503"
            },
            "result": {
              "status": "passed",
              "duration": 63000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5519000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1134000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 168000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "email-sender-service-smtp-configuration-including-oauth2-and-password-based-authentication;build_password_smtp_settings-uses-environment-variables",
        "keyword": "Scenario",
        "name": "build_password_smtp_settings uses environment variables",
        "description": "",
        "line": 59,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Password SMTP Campaign\" exists for me",
            "line": 60,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2105000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 61,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2930000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output with email content",
            "line": 62,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1232000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 63,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1701000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for current user as false",
            "line": 64,
            "match": {
              "location": "features/step_definitions/email_steps.rb:107"
            },
            "result": {
              "status": "passed",
              "duration": 960000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP environment is configured with custom authentication",
            "line": 65,
            "match": {
              "location": "features/step_definitions/email_steps.rb:638"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "And ",
            "name": "CampaignMailer delivery will succeed",
            "line": 66,
            "match": {
              "location": "features/step_definitions/email_steps.rb:288"
            },
            "result": {
              "status": "passed",
              "duration": 232000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 67,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 2918000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have succeeded",
            "line": 68,
            "match": {
              "location": "features/step_definitions/email_steps.rb:503"
            },
            "result": {
              "status": "passed",
              "duration": 61000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4817000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1014000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 59000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 261000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "email-sender-service-smtp-configuration-including-oauth2-and-password-based-authentication;configure_delivery_method-logs-error-when-no-delivery-method-available",
        "keyword": "Scenario",
        "name": "configure_delivery_method logs error when no delivery method available",
        "description": "",
        "line": 70,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"No Delivery Method Campaign\" exists for me",
            "line": 71,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2105000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 72,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4602000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"DESIGN\" agent output with email content",
            "line": 73,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1977000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"designed\"",
            "line": 74,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 4583000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for current user as false",
            "line": 75,
            "match": {
              "location": "features/step_definitions/email_steps.rb:107"
            },
            "result": {
              "status": "passed",
              "duration": 1250000
            }
          },
          {
            "keyword": "And ",
            "name": "SMTP password is not configured",
            "line": 76,
            "match": {
              "location": "features/step_definitions/email_steps.rb:652"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to send email for my lead",
            "line": 77,
            "match": {
              "location": "features/step_definitions/email_steps.rb:313"
            },
            "result": {
              "status": "passed",
              "duration": 3821000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last email send should have failed with an error",
            "line": 78,
            "match": {
              "location": "features/step_definitions/email_steps.rb:421"
            },
            "result": {
              "status": "passed",
              "duration": 72000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "gmail-oauth-authorization-and-token-management",
    "uri": "features/gmail_oauth_flow.feature",
    "keyword": "Feature",
    "name": "Gmail OAuth authorization and token management",
    "description": "  As an authenticated user\n  I want to authorize Gmail access and manage OAuth tokens\n  So that I can securely send emails through my Gmail account",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5441000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 848000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 150000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-authorization-and-token-management;oauth-authorize-redirects-to-google-when-configured",
        "keyword": "Scenario",
        "name": "OAuth authorize redirects to Google when configured",
        "description": "",
        "line": 10,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 11,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will return authorization url \"https://accounts.google.test/auth\"",
            "line": 12,
            "match": {
              "location": "features/step_definitions/email_steps.rb:135"
            },
            "result": {
              "status": "passed",
              "duration": 129000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/oauth/gmail/authorize\"",
            "line": 13,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 4290000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 14,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5817000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1187000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 202000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-authorization-and-token-management;oauth-authorize-redirects-to-root-when-not-configured",
        "keyword": "Scenario",
        "name": "OAuth authorize redirects to root when not configured",
        "description": "",
        "line": 16,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is not configured",
            "line": 17,
            "match": {
              "location": "features/step_definitions/email_steps.rb:102"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/oauth/gmail/authorize\"",
            "line": 18,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 2063000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 19,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5409000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 955000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 145000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-authorization-and-token-management;oauth-callback-handles-error-param",
        "keyword": "Scenario",
        "name": "OAuth callback handles error param",
        "description": "",
        "line": 21,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/oauth/gmail/callback?error=access_denied\"",
            "line": 22,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 2403000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 23,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 35000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5203000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 853000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 146000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-authorization-and-token-management;oauth-callback-handles-missing-code",
        "keyword": "Scenario",
        "name": "OAuth callback handles missing code",
        "description": "",
        "line": 25,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/oauth/gmail/callback\"",
            "line": 26,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 1939000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 27,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 35000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6143000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 907000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 141000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-authorization-and-token-management;oauth-callback-handles-exchange-success-and-failure",
        "keyword": "Scenario",
        "name": "OAuth callback handles exchange success and failure",
        "description": "",
        "line": 29,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "GmailOauthService will return exchange result true",
            "line": 30,
            "match": {
              "location": "features/step_definitions/email_steps.rb:139"
            },
            "result": {
              "status": "passed",
              "duration": 135000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/oauth/gmail/callback?code=testcode\"",
            "line": 31,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 5798000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 32,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "keyword": "Given ",
            "name": "GmailOauthService will return exchange result false",
            "line": 34,
            "match": {
              "location": "features/step_definitions/email_steps.rb:139"
            },
            "result": {
              "status": "passed",
              "duration": 95000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/oauth/gmail/callback?code=testcode\"",
            "line": 35,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 3681000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 36,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5972000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 899000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 154000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-authorization-and-token-management;gmailoauthservice.authorization_url-raises-when-env-missing-and-returns-when-configured",
        "keyword": "Scenario",
        "name": "GmailOauthService.authorization_url raises when env missing and returns when configured",
        "description": "",
        "line": 38,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is not configured",
            "line": 39,
            "match": {
              "location": "features/step_definitions/email_steps.rb:102"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to get authorization url for GmailOauthService",
            "line": 40,
            "match": {
              "location": "features/step_definitions/email_steps.rb:172"
            },
            "result": {
              "status": "passed",
              "duration": 493000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last operation should have raised an error",
            "line": 41,
            "match": {
              "location": "features/step_definitions/email_steps.rb:183"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 43,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "keyword": "And ",
            "name": "Signet client will provide authorization uri \"https://accounts.google.test/auth\"",
            "line": 44,
            "match": {
              "location": "features/step_definitions/email_steps.rb:192"
            },
            "result": {
              "status": "passed",
              "duration": 279000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to get authorization url for GmailOauthService",
            "line": 45,
            "match": {
              "location": "features/step_definitions/email_steps.rb:172"
            },
            "result": {
              "status": "passed",
              "duration": 609000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last operation should not have raised an error",
            "line": 46,
            "match": {
              "location": "features/step_definitions/email_steps.rb:187"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5357000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 890000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-authorization-and-token-management;gmailoauthservice.exchange_code_for_tokens-sets-tokens-on-user-when-client-returns-tokens",
        "keyword": "Scenario",
        "name": "GmailOauthService.exchange_code_for_tokens sets tokens on user when client returns tokens",
        "description": "",
        "line": 48,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 49,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "keyword": "And ",
            "name": "Signet exchange will succeed with tokens",
            "line": 50,
            "match": {
              "location": "features/step_definitions/email_steps.rb:198"
            },
            "result": {
              "status": "passed",
              "duration": 471000
            }
          },
          {
            "keyword": "When ",
            "name": "I exchange code \"exchange123\" for tokens for my user",
            "line": 51,
            "match": {
              "location": "features/step_definitions/email_steps.rb:347"
            },
            "result": {
              "status": "passed",
              "duration": 2730000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last operation should not have raised an error",
            "line": 52,
            "match": {
              "location": "features/step_definitions/email_steps.rb:187"
            },
            "result": {
              "status": "passed",
              "duration": 69000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6699000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1189000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 121000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 522000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-authorization-and-token-management;gmailoauthservice.exchange_code_for_tokens-handles-expires_in-and-missing-refresh_token",
        "keyword": "Scenario",
        "name": "GmailOauthService.exchange_code_for_tokens handles expires_in and missing refresh_token",
        "description": "",
        "line": 54,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 55,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "keyword": "And ",
            "name": "Signet exchange will succeed with expires_in and no refresh_token",
            "line": 56,
            "match": {
              "location": "features/step_definitions/email_steps.rb:216"
            },
            "result": {
              "status": "passed",
              "duration": 6459000
            }
          },
          {
            "keyword": "When ",
            "name": "I exchange code \"code-expires-in\" for tokens for my user",
            "line": 57,
            "match": {
              "location": "features/step_definitions/email_steps.rb:347"
            },
            "result": {
              "status": "passed",
              "duration": 6284000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last operation should not have raised an error",
            "line": 58,
            "match": {
              "location": "features/step_definitions/email_steps.rb:187"
            },
            "result": {
              "status": "passed",
              "duration": 67000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5531000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 874000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 591000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-authorization-and-token-management;gmailoauthservice.refresh_access_token-refreshes-when-token-expired",
        "keyword": "Scenario",
        "name": "GmailOauthService.refresh_access_token refreshes when token expired",
        "description": "",
        "line": 60,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 61,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "keyword": "And ",
            "name": "Signet refresh will succeed with tokens",
            "line": 62,
            "match": {
              "location": "features/step_definitions/email_steps.rb:232"
            },
            "result": {
              "status": "passed",
              "duration": 621000
            }
          },
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 63,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "keyword": "When ",
            "name": "I set the user's gmail_refresh_token to \"refresh-zzz\"",
            "line": 64,
            "match": {
              "location": "features/step_definitions/email_steps.rb:359"
            },
            "result": {
              "status": "passed",
              "duration": 1140000
            }
          },
          {
            "keyword": "And ",
            "name": "I set the user's gmail_token_expires_at to \"2000-01-01 00:00:00\"",
            "line": 65,
            "match": {
              "location": "features/step_definitions/email_steps.rb:364"
            },
            "result": {
              "status": "passed",
              "duration": 1122000
            }
          },
          {
            "keyword": "When ",
            "name": "I request a valid access token for my user",
            "line": 66,
            "match": {
              "location": "features/step_definitions/email_steps.rb:247"
            },
            "result": {
              "status": "passed",
              "duration": 2458000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last operation should not have raised an error",
            "line": 67,
            "match": {
              "location": "features/step_definitions/email_steps.rb:187"
            },
            "result": {
              "status": "passed",
              "duration": 69000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 10831000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 877000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 87000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 229000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-authorization-and-token-management;gmailoauthservice.exchange_code_for_tokens-handles-exchange-failure-gracefully",
        "keyword": "Scenario",
        "name": "GmailOauthService.exchange_code_for_tokens handles exchange failure gracefully",
        "description": "",
        "line": 69,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 70,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "keyword": "And ",
            "name": "Signet exchange will fail",
            "line": 71,
            "match": {
              "location": "features/step_definitions/email_steps.rb:209"
            },
            "result": {
              "status": "passed",
              "duration": 294000
            }
          },
          {
            "keyword": "When ",
            "name": "I exchange code \"bad-code\" for tokens for my user",
            "line": 72,
            "match": {
              "location": "features/step_definitions/email_steps.rb:347"
            },
            "result": {
              "status": "passed",
              "duration": 877000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last operation should have returned false",
            "line": 73,
            "match": {
              "location": "features/step_definitions/email_steps.rb:262"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 7640000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 896000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-authorization-and-token-management;valid_access_token-returns-nil-when-user-has-no-refresh-token",
        "keyword": "Scenario",
        "name": "valid_access_token returns nil when user has no refresh token",
        "description": "",
        "line": 75,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 76,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4000
            }
          },
          {
            "keyword": "When ",
            "name": "I request a valid access token for my user",
            "line": 77,
            "match": {
              "location": "features/step_definitions/email_steps.rb:247"
            },
            "result": {
              "status": "passed",
              "duration": 655000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last result should be nil",
            "line": 78,
            "match": {
              "location": "features/step_definitions/email_steps.rb:267"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6853000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 944000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 154000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-authorization-and-token-management;authorization_url-builds-redirect-from-mailer_host-without-protocol",
        "keyword": "Scenario",
        "name": "authorization_url builds redirect from MAILER_HOST without protocol",
        "description": "",
        "line": 80,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 81,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "keyword": "And ",
            "name": "I set ENV var \"MAILER_HOST\" to \"localhost:4000\"",
            "line": 82,
            "match": {
              "location": "features/step_definitions/email_steps.rb:258"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "keyword": "And ",
            "name": "Signet client will provide authorization uri \"https://accounts.google.test/auth\"",
            "line": 83,
            "match": {
              "location": "features/step_definitions/email_steps.rb:192"
            },
            "result": {
              "status": "passed",
              "duration": 329000
            }
          },
          {
            "keyword": "When ",
            "name": "I attempt to get authorization url for GmailOauthService",
            "line": 84,
            "match": {
              "location": "features/step_definitions/email_steps.rb:172"
            },
            "result": {
              "status": "passed",
              "duration": 850000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last operation should not have raised an error",
            "line": 85,
            "match": {
              "location": "features/step_definitions/email_steps.rb:187"
            },
            "result": {
              "status": "passed",
              "duration": 67000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5502000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 962000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 302000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-authorization-and-token-management;gmailoauthservice.refresh_access_token-handles-refresh-failure-gracefully",
        "keyword": "Scenario",
        "name": "GmailOauthService.refresh_access_token handles refresh failure gracefully",
        "description": "",
        "line": 87,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 88,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "keyword": "And ",
            "name": "Signet refresh will fail",
            "line": 89,
            "match": {
              "location": "features/step_definitions/email_steps.rb:241"
            },
            "result": {
              "status": "passed",
              "duration": 449000
            }
          },
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 90,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "keyword": "When ",
            "name": "I set the user's gmail_refresh_token to \"refresh-zzz\"",
            "line": 91,
            "match": {
              "location": "features/step_definitions/email_steps.rb:359"
            },
            "result": {
              "status": "passed",
              "duration": 1081000
            }
          },
          {
            "keyword": "And ",
            "name": "I set the user's gmail_token_expires_at to \"2000-01-01 00:00:00\"",
            "line": 92,
            "match": {
              "location": "features/step_definitions/email_steps.rb:364"
            },
            "result": {
              "status": "passed",
              "duration": 1182000
            }
          },
          {
            "keyword": "When ",
            "name": "I request a valid access token for my user",
            "line": 93,
            "match": {
              "location": "features/step_definitions/email_steps.rb:247"
            },
            "result": {
              "status": "passed",
              "duration": 1303000
            }
          },
          {
            "keyword": "Then ",
            "name": "the last result should be nil",
            "line": 94,
            "match": {
              "location": "features/step_definitions/email_steps.rb:267"
            },
            "result": {
              "status": "passed",
              "duration": 110000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 318000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 60000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "gmail-oauth-configuration-and-status-checks",
    "uri": "features/gmail_oauth_status.feature",
    "keyword": "Feature",
    "name": "Gmail OAuth configuration and status checks",
    "description": "  As an authenticated user\n  I want to check my Gmail OAuth configuration status\n  So that I can verify my email sending setup and manage my email settings",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5724000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1868000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 63000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 171000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-configuration-and-status-checks;oauth-status-reports-not-configured-when-env-missing",
        "keyword": "Scenario",
        "name": "OAuth status reports not configured when env missing",
        "description": "",
        "line": 10,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is not configured",
            "line": 11,
            "match": {
              "location": "features/step_definitions/email_steps.rb:102"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/oauth_status\"",
            "line": 12,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 8335000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 13,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"oauth_configured\" with false",
            "line": 14,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1119"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6249000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1711000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 167000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-configuration-and-status-checks;oauth-status-reports-configured-when-env-present",
        "keyword": "Scenario",
        "name": "OAuth status reports configured when env present",
        "description": "",
        "line": 16,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 17,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/oauth_status\"",
            "line": 18,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 2818000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 19,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"oauth_configured\" with true",
            "line": 20,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1119"
            },
            "result": {
              "status": "passed",
              "duration": 112000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5617000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1790000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 174000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-configuration-and-status-checks;email-config-show-returns-oauth_configured-true-for-current-user",
        "keyword": "Scenario",
        "name": "Email config show returns oauth_configured true for current user",
        "description": "",
        "line": 22,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "GmailOauthService will report oauth_configured for current user as true",
            "line": 23,
            "match": {
              "location": "features/step_definitions/email_steps.rb:107"
            },
            "result": {
              "status": "passed",
              "duration": 861000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/email_config\"",
            "line": 24,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 3318000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 25,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"oauth_configured\" with true",
            "line": 26,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1119"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 15930000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1352000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 164000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-configuration-and-status-checks;email-config-show-falls-back-to-send_from_email-user's-oauth-status",
        "keyword": "Scenario",
        "name": "Email config show falls back to send_from_email user's oauth status",
        "description": "",
        "line": 28,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "there is another user with a separate campaign",
            "line": 29,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6130000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 30,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 911000
            }
          },
          {
            "keyword": "And ",
            "name": "I set my send_from_email to \"other@example.com\"",
            "line": 31,
            "match": {
              "location": "features/step_definitions/email_steps.rb:167"
            },
            "result": {
              "status": "passed",
              "duration": 2043000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for user \"other@example.com\" as true",
            "line": 32,
            "match": {
              "location": "features/step_definitions/email_steps.rb:113"
            },
            "result": {
              "status": "passed",
              "duration": 1241000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/email_config\"",
            "line": 33,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 3440000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 34,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"oauth_configured\" with true",
            "line": 35,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1119"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 7129000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 915000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 60000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 176000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-configuration-and-status-checks;email-config-show-handles-gmailoauthservice-errors-gracefully",
        "keyword": "Scenario",
        "name": "Email config show handles GmailOauthService errors gracefully",
        "description": "",
        "line": 37,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "GmailOauthService will raise error when checking oauth_configured",
            "line": 38,
            "match": {
              "location": "features/step_definitions/email_steps.rb:131"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/email_config\"",
            "line": 39,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 3502000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 40,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"oauth_configured\" with false",
            "line": 41,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1119"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 5711000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 941000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3208000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-configuration-and-status-checks;email-config-update-returns-error-when-email-missing",
        "keyword": "Scenario",
        "name": "Email config update returns error when email missing",
        "description": "",
        "line": 43,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a PUT request to \"/api/v1/email_config\" with JSON:",
            "line": 44,
            "doc_string": {
              "value": "{}",
              "content_type": "",
              "line": 45
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 2569000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 48,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"error\" with \"Email is required\"",
            "line": 49,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6557000
            }
          },
          {
            "keyword": "And ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1016000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 181000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "gmail-oauth-configuration-and-status-checks;email-config-update-returns-oauth_configured-true-when-send_from_email-user-has-oauth",
        "keyword": "Scenario",
        "name": "Email config update returns oauth_configured true when send_from_email user has OAuth",
        "description": "",
        "line": 51,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "there is another user with a separate campaign",
            "line": 52,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7611000
            }
          },
          {
            "keyword": "And ",
            "name": "GmailOauthService will report oauth_configured for user \"other@example.com\" as true",
            "line": 53,
            "match": {
              "location": "features/step_definitions/email_steps.rb:113"
            },
            "result": {
              "status": "passed",
              "duration": 3289000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PUT request to \"/api/v1/email_config\" with JSON:",
            "line": 54,
            "doc_string": {
              "value": "{\"email\": \"other@example.com\"}",
              "content_type": "",
              "line": 55
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 9401000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 58,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"oauth_configured\" with true",
            "line": 59,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1119"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "gmail-sender",
    "uri": "features/gmail_sender.feature",
    "keyword": "Feature",
    "name": "Gmail Sender",
    "description": "  As a system\n  I want satisfy user requests to send emails by sending them via the Gmail API\n  So that users can communicate with leads using their Gmail account",
    "line": 2,
    "tags": [
      {
        "name": "@webmock_enabled",
        "line": 1
      }
    ],
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 7,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user with a valid Gmail access token and Gmail email",
            "line": 8,
            "match": {
              "location": "features/step_definitions/email_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 5321000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's Gmail token is not expiring soon",
            "line": 9,
            "match": {
              "location": "features/step_definitions/email_steps.rb:18"
            },
            "result": {
              "status": "passed",
              "duration": 2021000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 163000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 143000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "gmail-sender;successfully-send-a-plain-text-email",
        "keyword": "Scenario",
        "name": "Successfully send a plain text email",
        "description": "",
        "line": 11,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Gmail API endpoint will accept the email",
            "line": 12,
            "match": {
              "location": "features/step_definitions/email_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 18069000
            }
          },
          {
            "keyword": "When ",
            "name": "the Gmail sender sends an email with subject \"Hello\" and text body \"Plain text body\"",
            "line": 13,
            "match": {
              "location": "features/step_definitions/email_steps.rb:32"
            },
            "result": {
              "status": "passed",
              "duration": 20846000
            }
          },
          {
            "keyword": "Then ",
            "name": "the email should be sent successfully",
            "line": 14,
            "match": {
              "location": "features/step_definitions/email_steps.rb:63"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "keyword": "And ",
            "name": "the Gmail API response should include a message ID",
            "line": 15,
            "match": {
              "location": "features/step_definitions/email_steps.rb:68"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          }
        ],
        "tags": [
          {
            "name": "@webmock_enabled",
            "line": 1
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 198000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 7,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user with a valid Gmail access token and Gmail email",
            "line": 8,
            "match": {
              "location": "features/step_definitions/email_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 7237000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's Gmail token is not expiring soon",
            "line": 9,
            "match": {
              "location": "features/step_definitions/email_steps.rb:18"
            },
            "result": {
              "status": "passed",
              "duration": 1506000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 198000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 467000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ]
      },
      {
        "id": "gmail-sender;successfully-send-an-html-email",
        "keyword": "Scenario",
        "name": "Successfully send an HTML email",
        "description": "",
        "line": 17,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Gmail API endpoint will accept the email",
            "line": 18,
            "match": {
              "location": "features/step_definitions/email_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 294000
            }
          },
          {
            "keyword": "When ",
            "name": "the Gmail sender sends an email with subject \"Hello HTML\" and text body \"Plain text\" and html body \"<p>HTML version</p>\"",
            "line": 19,
            "match": {
              "location": "features/step_definitions/email_steps.rb:47"
            },
            "result": {
              "status": "passed",
              "duration": 918000
            }
          },
          {
            "keyword": "Then ",
            "name": "the email should be sent successfully",
            "line": 20,
            "match": {
              "location": "features/step_definitions/email_steps.rb:63"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "keyword": "And ",
            "name": "the Gmail API response should include a message ID",
            "line": 21,
            "match": {
              "location": "features/step_definitions/email_steps.rb:68"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          }
        ],
        "tags": [
          {
            "name": "@webmock_enabled",
            "line": 1
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 129000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 235000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 7,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user with a valid Gmail access token and Gmail email",
            "line": 8,
            "match": {
              "location": "features/step_definitions/email_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 6883000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's Gmail token is not expiring soon",
            "line": 9,
            "match": {
              "location": "features/step_definitions/email_steps.rb:18"
            },
            "result": {
              "status": "passed",
              "duration": 1484000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 193000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 168000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "gmail-sender;gmail-api-returns-an-authorization-error",
        "keyword": "Scenario",
        "name": "Gmail API returns an authorization error",
        "description": "",
        "line": 23,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Gmail API endpoint returns an authorization error",
            "line": 24,
            "match": {
              "location": "features/step_definitions/email_steps.rb:72"
            },
            "result": {
              "status": "passed",
              "duration": 255000
            }
          },
          {
            "keyword": "When ",
            "name": "the Gmail sender sends an email with subject \"Auth Error\" and text body \"Body\"",
            "line": 25,
            "match": {
              "location": "features/step_definitions/email_steps.rb:32"
            },
            "result": {
              "status": "passed",
              "duration": 989000
            }
          },
          {
            "keyword": "Then ",
            "name": "a Gmail sender authorization error should be raised",
            "line": 26,
            "match": {
              "location": "features/step_definitions/email_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          }
        ],
        "tags": [
          {
            "name": "@webmock_enabled",
            "line": 1
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 165000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 7,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user with a valid Gmail access token and Gmail email",
            "line": 8,
            "match": {
              "location": "features/step_definitions/email_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 5562000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's Gmail token is not expiring soon",
            "line": 9,
            "match": {
              "location": "features/step_definitions/email_steps.rb:18"
            },
            "result": {
              "status": "passed",
              "duration": 2188000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 178000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 165000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 144000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "gmail-sender;gmail-api-returns-a-non-authorization-error",
        "keyword": "Scenario",
        "name": "Gmail API returns a non-authorization error",
        "description": "",
        "line": 28,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Gmail API endpoint returns a non-authorization error",
            "line": 29,
            "match": {
              "location": "features/step_definitions/email_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 275000
            }
          },
          {
            "keyword": "When ",
            "name": "the Gmail sender sends an email with subject \"Other Error\" and text body \"Body\"",
            "line": 30,
            "match": {
              "location": "features/step_definitions/email_steps.rb:32"
            },
            "result": {
              "status": "passed",
              "duration": 950000
            }
          },
          {
            "keyword": "Then ",
            "name": "a generic Gmail send error should be raised",
            "line": 31,
            "match": {
              "location": "features/step_definitions/email_steps.rb:92"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          }
        ],
        "tags": [
          {
            "name": "@webmock_enabled",
            "line": 1
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 166000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "google-oauth-token-refresher",
    "uri": "features/google_oauth_token_refresher.feature",
    "keyword": "Feature",
    "name": "Google OAuth Token Refresher",
    "description": "  As a system\n  I want to ensure Gmail access tokens are refreshed when needed\n  So that users can always send emails via Gmail",
    "line": 2,
    "tags": [
      {
        "name": "@webmock_enabled",
        "line": 1
      }
    ],
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 7,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user with a valid Gmail refresh token",
            "line": 8,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 9641000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1196000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 1590000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          }
        ]
      },
      {
        "id": "google-oauth-token-refresher;token-does-not-need-refresh",
        "keyword": "Scenario",
        "name": "Token does not need refresh",
        "description": "",
        "line": 10,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user's Gmail access token is valid and not expiring soon",
            "line": 11,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:20"
            },
            "result": {
              "status": "passed",
              "duration": 3117000
            }
          },
          {
            "keyword": "When ",
            "name": "the token refresher runs",
            "line": 12,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:68"
            },
            "result": {
              "status": "passed",
              "duration": 830000
            }
          },
          {
            "keyword": "Then ",
            "name": "the user's Gmail access token should not be updated",
            "line": 13,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:78"
            },
            "result": {
              "status": "passed",
              "duration": 2862000
            }
          }
        ],
        "tags": [
          {
            "name": "@webmock_enabled",
            "line": 1
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 850000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 7,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user with a valid Gmail refresh token",
            "line": 8,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 10101000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 64000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2303000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 801000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          }
        ]
      },
      {
        "id": "google-oauth-token-refresher;token-needs-refresh-and-refresh-is-successful",
        "keyword": "Scenario",
        "name": "Token needs refresh and refresh is successful",
        "description": "",
        "line": 15,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user's Gmail access token is expired or expiring soon",
            "line": 16,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:29"
            },
            "result": {
              "status": "passed",
              "duration": 4448000
            }
          },
          {
            "keyword": "And ",
            "name": "the Google token endpoint returns a new access token",
            "line": 17,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 2964000
            }
          },
          {
            "keyword": "When ",
            "name": "the token refresher runs",
            "line": 18,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:68"
            },
            "result": {
              "status": "passed",
              "duration": 10473000
            }
          },
          {
            "keyword": "Then ",
            "name": "the user's Gmail access token should be updated",
            "line": 19,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:83"
            },
            "result": {
              "status": "passed",
              "duration": 771000
            }
          },
          {
            "keyword": "And ",
            "name": "the token expiry should be updated",
            "line": 20,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:87"
            },
            "result": {
              "status": "passed",
              "duration": 1016000
            }
          }
        ],
        "tags": [
          {
            "name": "@webmock_enabled",
            "line": 1
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 845000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 7,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user with a valid Gmail refresh token",
            "line": 8,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 7172000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 828000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 1094000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "google-oauth-token-refresher;token-refresh-fails-with-authorization-error",
        "keyword": "Scenario",
        "name": "Token refresh fails with authorization error",
        "description": "",
        "line": 22,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user's Gmail access token is expired or expiring soon",
            "line": 23,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:29"
            },
            "result": {
              "status": "passed",
              "duration": 2578000
            }
          },
          {
            "keyword": "And ",
            "name": "the Google token endpoint returns an authorization error",
            "line": 24,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:50"
            },
            "result": {
              "status": "passed",
              "duration": 122000
            }
          },
          {
            "keyword": "When ",
            "name": "the token refresher runs",
            "line": 25,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:68"
            },
            "result": {
              "status": "passed",
              "duration": 2564000
            }
          },
          {
            "keyword": "Then ",
            "name": "a Gmail authorization error should be raised",
            "line": 26,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:91"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          }
        ],
        "tags": [
          {
            "name": "@webmock_enabled",
            "line": 1
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 712000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 7,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user with a valid Gmail refresh token",
            "line": 8,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 5626000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 165000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 150000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "google-oauth-token-refresher;token-refresh-fails-with-other-error",
        "keyword": "Scenario",
        "name": "Token refresh fails with other error",
        "description": "",
        "line": 28,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user's Gmail access token is expired or expiring soon",
            "line": 29,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:29"
            },
            "result": {
              "status": "passed",
              "duration": 1467000
            }
          },
          {
            "keyword": "And ",
            "name": "the Google token endpoint returns a non-authorization error",
            "line": 30,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:59"
            },
            "result": {
              "status": "passed",
              "duration": 122000
            }
          },
          {
            "keyword": "When ",
            "name": "the token refresher runs",
            "line": 31,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:68"
            },
            "result": {
              "status": "passed",
              "duration": 1826000
            }
          },
          {
            "keyword": "Then ",
            "name": "a generic token refresh error should be raised",
            "line": 32,
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 126000
            }
          }
        ],
        "tags": [
          {
            "name": "@webmock_enabled",
            "line": 1
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 932000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "jsonbvalidator-error-paths",
    "uri": "features/jsonb_validation_errors.feature",
    "keyword": "Feature",
    "name": "JsonbValidator Error Paths",
    "description": "  As an authenticated user\n  I want validation errors when I submit invalid JSONB data\n  So that data integrity is maintained",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6791000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 171000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "jsonbvalidator-error-paths;agentconfig-rejects-invalid-jsonb-data-type-(string-instead-of-integer)",
        "keyword": "Scenario",
        "name": "AgentConfig rejects invalid JSONB data type (string instead of integer)",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2307000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs\" with JSON:",
            "line": 13,
            "doc_string": {
              "value": "{\"agentConfig\": {\"agentName\": \"WRITER\", \"enabled\": true, \"settings\": {\"num_variants_per_lead\": \"not_a_number\"}}}",
              "content_type": "",
              "line": 14
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 4524000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 17,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"errors\"",
            "line": 18,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6374000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "jsonbvalidator-error-paths;agentconfig-rejects-invalid-jsonb-structure-(non-empty-array-instead-of-object)",
        "keyword": "Scenario",
        "name": "AgentConfig rejects invalid JSONB structure (non-empty array instead of object)",
        "description": "",
        "line": 20,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 21,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2531000
            }
          },
          {
            "keyword": "And ",
            "name": "any existing \"WRITER\" agent config is deleted",
            "line": 23,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:910"
            },
            "result": {
              "status": "passed",
              "duration": 1464000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs\" with JSON:",
            "line": 27,
            "doc_string": {
              "value": "{\"agentConfig\": {\"agentName\": \"WRITER\", \"enabled\": true, \"settings\": [\"invalid\"]}}",
              "content_type": "",
              "line": 28
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 3744000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 31,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"errors\"",
            "line": 32,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6348000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "jsonbvalidator-error-paths;agentconfig-accepts-empty-settings-(allow_empty:-true-by-default)",
        "keyword": "Scenario",
        "name": "AgentConfig accepts empty settings (allow_empty: true by default)",
        "description": "",
        "line": 34,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 35,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2156000
            }
          },
          {
            "keyword": "And ",
            "name": "any existing \"CRITIQUE\" agent config is deleted",
            "line": 38,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:910"
            },
            "result": {
              "status": "passed",
              "duration": 1064000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs\" with JSON:",
            "line": 39,
            "doc_string": {
              "value": "  {\"agent_config\": {\"agent_name\": \"CRITIQUE\", \"enabled\": true, \"settings\": {}}}",
              "content_type": "",
              "line": 40
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 7153000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 201",
            "line": 43,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7789000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "jsonbvalidator-error-paths;agentoutput-rejects-invalid-jsonb-data-type",
        "keyword": "Scenario",
        "name": "AgentOutput rejects invalid JSONB data type",
        "description": "",
        "line": 46,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 47,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3317000
            }
          },
          {
            "keyword": "When ",
            "name": "I try to create an agent output with invalid JSONB data",
            "line": 49,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:888"
            },
            "result": {
              "status": "passed",
              "duration": 294000
            }
          },
          {
            "keyword": "Then ",
            "name": "the agent output should have validation errors",
            "line": 50,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:905"
            },
            "result": {
              "status": "passed",
              "duration": 64000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8404000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 66000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 189000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "jsonbvalidator-error-paths;agentconfig-accepts-valid-nested-object-structure",
        "keyword": "Scenario",
        "name": "AgentConfig accepts valid nested object structure",
        "description": "",
        "line": 52,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 53,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6725000
            }
          },
          {
            "keyword": "And ",
            "name": "any existing \"WRITER\" agent config is deleted",
            "line": 55,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:910"
            },
            "result": {
              "status": "passed",
              "duration": 3191000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs\" with JSON:",
            "line": 56,
            "doc_string": {
              "value": "{\"agent_config\": {\"agent_name\": \"WRITER\", \"enabled\": true, \"settings\": {\"tone\": \"professional\", \"email_length\": \"short\"}}}",
              "content_type": "",
              "line": 57
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 9049000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 201",
            "line": 60,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"settings\"",
            "line": 61,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6096000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 152000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "jsonbvalidator-error-paths;agentconfig-accepts-valid-array-type-in-settings",
        "keyword": "Scenario",
        "name": "AgentConfig accepts valid array type in settings",
        "description": "",
        "line": 64,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Test Campaign\" exists for me",
            "line": 65,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1897000
            }
          },
          {
            "keyword": "And ",
            "name": "any existing \"SEARCH\" agent config is deleted",
            "line": 67,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:910"
            },
            "result": {
              "status": "passed",
              "duration": 992000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/campaigns/#{@campaign.id}/agent_configs\" with JSON:",
            "line": 68,
            "doc_string": {
              "value": "  {\"agent_config\": {\"agent_name\": \"SEARCH\", \"enabled\": true, \"settings\": {\"extracted_fields\": [\"urls\", \"titles\"]}}}",
              "content_type": "",
              "line": 69
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 7584000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 201",
            "line": 72,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"settings\"",
            "line": 73,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "create-a-lead-via-api",
    "uri": "features/lead_creation.feature",
    "keyword": "Feature",
    "name": "Create a lead via API",
    "description": "  As an authenticated user\n  I want to add a lead to my campaign\n  So that I can run agents on it",
    "line": 1,
    "elements": [
      {
        "id": "create-a-lead-via-api;create-lead-successfully",
        "keyword": "Scenario",
        "name": "Create lead successfully",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Prospecting\" exists for me",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 8101000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads\" with JSON:",
            "line": 8,
            "doc_string": {
              "value": "{\"lead\": {\"campaignId\": #{@campaign.id}, \"name\": \"Alice\", \"email\": \"alice@example.com\", \"title\": \"CTO\", \"company\": \"Acme\", \"website\": \"https://acme.test\"}}",
              "content_type": "",
              "line": 9
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 11764000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 201",
            "line": 12,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"email\" with \"alice@example.com\"",
            "line": 13,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 146000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "lead-deletion",
    "uri": "features/lead_deletion.feature",
    "keyword": "Feature",
    "name": "Lead Deletion",
    "description": "  As an authenticated user\n  I want to delete leads from my campaigns\n  So that I can remove unwanted prospects",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8756000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 164000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "lead-deletion;delete-a-lead-successfully",
        "keyword": "Scenario",
        "name": "Delete a lead successfully",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 14082000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a DELETE request to \"/api/v1/leads/#{@lead.id}\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 16147000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 204",
            "line": 12,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10040000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 187000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "lead-deletion;cannot-delete-another-user's-lead",
        "keyword": "Scenario",
        "name": "Cannot delete another user's lead",
        "description": "",
        "line": 14,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 15,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 5800000
            }
          },
          {
            "keyword": "And ",
            "name": "there is another user with a separate campaign",
            "line": 16,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6182000
            }
          },
          {
            "keyword": "And ",
            "name": "the other user has a lead",
            "line": 17,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:934"
            },
            "result": {
              "status": "passed",
              "duration": 3732000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a DELETE request to \"/api/v1/leads/#{@other_lead.id}\"",
            "line": 18,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 5336000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 404",
            "line": 19,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8726000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 78000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 234000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ]
      },
      {
        "id": "lead-deletion;deleting-lead-removes-associated-agent-outputs",
        "keyword": "Scenario",
        "name": "Deleting lead removes associated agent outputs",
        "description": "",
        "line": 21,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 22,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4555000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 23,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 5666000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"WRITER\" agent output",
            "line": 24,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 3261000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a DELETE request to \"/api/v1/leads/#{@lead.id}\"",
            "line": 25,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 11452000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 204",
            "line": 26,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "keyword": "And ",
            "name": "the agent outputs should be deleted",
            "line": 27,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1146"
            },
            "result": {
              "status": "passed",
              "duration": 804000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6308000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 186000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "lead-deletion;delete-non-existent-lead-returns-404",
        "keyword": "Scenario",
        "name": "Delete non-existent lead returns 404",
        "description": "",
        "line": 29,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 30,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 835000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a DELETE request to \"/api/v1/leads/999999\"",
            "line": 31,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 4229000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 404",
            "line": 32,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "delete-a-lead-via-api",
    "uri": "features/lead_destroy.feature",
    "keyword": "Feature",
    "name": "Delete a lead via API",
    "description": "  As an authenticated user\n  I want to delete a lead in my campaign\n  So that I can remove irrelevant prospects",
    "line": 1,
    "elements": [
      {
        "id": "delete-a-lead-via-api;delete-lead-successfully",
        "keyword": "Scenario",
        "name": "Delete lead successfully",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 9448000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a DELETE request to \"/api/v1/leads/#{@lead.id}\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 6154000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 204",
            "line": 9,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 110000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 300000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "lead-email-status-methods",
    "uri": "features/lead_email_status.feature",
    "keyword": "Feature",
    "name": "Lead email status methods",
    "description": "  As a developer\n  I want to have clear and reliable methods that indicate the current email status for each lead and handle sending each lead's email",
    "line": 1,
    "elements": [
      {
        "id": "lead-email-status-methods;lead-not-found-when-sending-email",
        "keyword": "Scenario",
        "name": "Lead not found when sending email",
        "description": "",
        "line": 5,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "there is no lead with id 9999",
            "line": 6,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 1241000
            }
          },
          {
            "keyword": "When ",
            "name": "the email sending job is performed for lead id 9999",
            "line": 7,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:58"
            },
            "result": {
              "status": "passed",
              "duration": 962000
            }
          },
          {
            "keyword": "Then ",
            "name": "a warning log should include \"Lead 9999 not found; skipping\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:69"
            },
            "result": {
              "status": "passed",
              "duration": 87000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 226000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 135000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ]
      },
      {
        "id": "lead-email-status-methods;temporary-email-error-occurs",
        "keyword": "Scenario",
        "name": "Temporary email error occurs",
        "description": "",
        "line": 10,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists with id 1",
            "line": 11,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:26"
            },
            "result": {
              "status": "passed",
              "duration": 11943000
            }
          },
          {
            "keyword": "And ",
            "name": "sending email for lead id 1 will raise a TemporaryEmailError with message \"Network timeout\"",
            "line": 12,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:48"
            },
            "result": {
              "status": "passed",
              "duration": 207000
            }
          },
          {
            "keyword": "When ",
            "name": "the email sending job is performed for lead id 1",
            "line": 13,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:58"
            },
            "result": {
              "status": "passed",
              "duration": 3937000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead's email_status should be \"failed\"",
            "line": 14,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:260"
            },
            "result": {
              "status": "passed",
              "duration": 2745000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead's last_email_error_message should include \"Network timeout\"",
            "line": 15,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:267"
            },
            "result": {
              "status": "passed",
              "duration": 1791000
            }
          },
          {
            "keyword": "And ",
            "name": "a warning log should include \"Retrying after temporary error for lead_id=1: Network timeout\"",
            "line": 16,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:69"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 486000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 421000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 390000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ]
      },
      {
        "id": "lead-email-status-methods;permanent-email-error-occurs",
        "keyword": "Scenario",
        "name": "Permanent email error occurs",
        "description": "",
        "line": 18,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists with id 2",
            "line": 19,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:26"
            },
            "result": {
              "status": "passed",
              "duration": 9204000
            }
          },
          {
            "keyword": "And ",
            "name": "sending email for lead id 2 will raise a PermanentEmailError with message \"Authentication failed\"",
            "line": 20,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:53"
            },
            "result": {
              "status": "passed",
              "duration": 219000
            }
          },
          {
            "keyword": "When ",
            "name": "the email sending job is performed for lead id 2",
            "line": 21,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:58"
            },
            "result": {
              "status": "passed",
              "duration": 2547000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead's email_status should be \"failed\"",
            "line": 22,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:260"
            },
            "result": {
              "status": "passed",
              "duration": 1620000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead's last_email_error_message should include \"Authentication failed\"",
            "line": 23,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:267"
            },
            "result": {
              "status": "passed",
              "duration": 855000
            }
          },
          {
            "keyword": "And ",
            "name": "an error log should include \"Permanent email failure for lead_id=2: Authentication failed\"",
            "line": 24,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:73"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 202000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 140000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "id": "lead-email-status-methods;lead-email_sent?-returns-true-when-status-is-sent",
        "keyword": "Scenario",
        "name": "Lead email_sent? returns true when status is sent",
        "description": "",
        "line": 26,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead with email status \"sent\"",
            "line": 27,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:77"
            },
            "result": {
              "status": "passed",
              "duration": 9125000
            }
          },
          {
            "keyword": "When ",
            "name": "I check if the lead email was sent",
            "line": 28,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:90"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be true",
            "line": 29,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:86"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 207000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 66000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "lead-email-status-methods;lead-email_sending?-returns-true-when-status-is-sending",
        "keyword": "Scenario",
        "name": "Lead email_sending? returns true when status is sending",
        "description": "",
        "line": 31,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead with email status \"sending\"",
            "line": 32,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:77"
            },
            "result": {
              "status": "passed",
              "duration": 10274000
            }
          },
          {
            "keyword": "When ",
            "name": "I check if the lead email is sending",
            "line": 33,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:94"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be true",
            "line": 34,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:86"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 224000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 64000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "lead-email-status-methods;lead-email_failed?-returns-true-when-status-is-failed",
        "keyword": "Scenario",
        "name": "Lead email_failed? returns true when status is failed",
        "description": "",
        "line": 36,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead with email status \"failed\"",
            "line": 37,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:77"
            },
            "result": {
              "status": "passed",
              "duration": 21381000
            }
          },
          {
            "keyword": "When ",
            "name": "I check if the lead email failed",
            "line": 38,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:98"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be true",
            "line": 39,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:86"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 217000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 65000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "lead-email-status-methods;lead-email_not_scheduled?-returns-true-when-status-is-not_scheduled",
        "keyword": "Scenario",
        "name": "Lead email_not_scheduled? returns true when status is not_scheduled",
        "description": "",
        "line": 41,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead with email status \"not_scheduled\"",
            "line": 42,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:77"
            },
            "result": {
              "status": "passed",
              "duration": 10706000
            }
          },
          {
            "keyword": "When ",
            "name": "I check if the lead email is not scheduled",
            "line": 43,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:102"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be true",
            "line": 44,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:86"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 223000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 160000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ]
      },
      {
        "id": "lead-email-status-methods;attempt-to-send-email-when-lead-is-not-ready",
        "keyword": "Scenario",
        "name": "Attempt to send email when lead is not ready",
        "description": "",
        "line": 46,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists with id 11, stage \"queued\", and no email content",
            "line": 47,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:142"
            },
            "result": {
              "status": "passed",
              "duration": 9769000
            }
          },
          {
            "keyword": "When ",
            "name": "the email sending job is performed for lead id 11",
            "line": 48,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:58"
            },
            "result": {
              "status": "passed",
              "duration": 9643000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead's email_status should not be \"sent\"",
            "line": 49,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:163"
            },
            "result": {
              "status": "passed",
              "duration": 714000
            }
          },
          {
            "keyword": "And ",
            "name": "an error log should include \"Lead is not ready to send\"",
            "line": 50,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:73"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 90000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 237000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 106000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "id": "lead-email-status-methods;attempt-to-send-email-when-lead-has-no-campaign-user",
        "keyword": "Scenario",
        "name": "Attempt to send email when lead has no campaign user",
        "description": "",
        "line": 52,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists with id 12, stage \"designed\", and valid email content",
            "line": 53,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:106"
            },
            "result": {
              "status": "passed",
              "duration": 14445000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead's campaign has no user",
            "line": 54,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:167"
            },
            "result": {
              "status": "passed",
              "duration": 1774000
            }
          },
          {
            "keyword": "When ",
            "name": "the email sending job is performed for lead id 12",
            "line": 55,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:58"
            },
            "result": {
              "status": "passed",
              "duration": 15067000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead's email_status should not be \"sent\"",
            "line": 56,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:163"
            },
            "result": {
              "status": "passed",
              "duration": 1178000
            }
          },
          {
            "keyword": "And ",
            "name": "an error log should include \"No email delivery method configured\"",
            "line": 57,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:73"
            },
            "result": {
              "status": "passed",
              "duration": 99000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 193000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 177000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          }
        ]
      },
      {
        "id": "lead-email-status-methods;use-default-gmail-sender-when-user-cannot-send-via-gmail-api",
        "keyword": "Scenario",
        "name": "Use default Gmail sender when user cannot send via Gmail API",
        "description": "",
        "line": 59,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists with id 14, stage \"designed\", and valid email content",
            "line": 60,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:106"
            },
            "result": {
              "status": "passed",
              "duration": 14303000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead's campaign user cannot send via Gmail API",
            "line": 61,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:187"
            },
            "result": {
              "status": "passed",
              "duration": 2745000
            }
          },
          {
            "keyword": "And ",
            "name": "a default Gmail sender is configured and can send",
            "line": 62,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:193"
            },
            "result": {
              "status": "passed",
              "duration": 5835000
            }
          },
          {
            "keyword": "When ",
            "name": "the email sending job is performed for lead id 14",
            "line": 63,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:58"
            },
            "result": {
              "status": "passed",
              "duration": 9433000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead's email_status should be \"sent\"",
            "line": 64,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:260"
            },
            "result": {
              "status": "passed",
              "duration": 2140000
            }
          },
          {
            "keyword": "And ",
            "name": "an info log should include \"using default sender\"",
            "line": 65,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:217"
            },
            "result": {
              "status": "passed",
              "duration": 165000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 227000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 164000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "id": "lead-email-status-methods;handle-generic-error-during-email-sending",
        "keyword": "Scenario",
        "name": "Handle generic error during email sending",
        "description": "",
        "line": 67,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists with id 17, stage \"designed\", and valid email content",
            "line": 68,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:106"
            },
            "result": {
              "status": "passed",
              "duration": 13013000
            }
          },
          {
            "keyword": "And ",
            "name": "sending email for lead id 17 will raise a generic error with message \"Unexpected failure\"",
            "line": 69,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:277"
            },
            "result": {
              "status": "passed",
              "duration": 209000
            }
          },
          {
            "keyword": "When ",
            "name": "the email sending job is performed for lead id 17",
            "line": 70,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:58"
            },
            "result": {
              "status": "passed",
              "duration": 9212000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead's email_status should be \"failed\"",
            "line": 71,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:260"
            },
            "result": {
              "status": "passed",
              "duration": 1694000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead's last_email_error_message should include \"Unexpected failure\"",
            "line": 72,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:267"
            },
            "result": {
              "status": "passed",
              "duration": 972000
            }
          },
          {
            "keyword": "And ",
            "name": "an error log should include \"Email sending failed for lead 17\"",
            "line": 73,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:73"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 195000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 108000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ]
      },
      {
        "id": "lead-email-status-methods;handle-missing-email-content-for-lead",
        "keyword": "Scenario",
        "name": "Handle missing email content for lead",
        "description": "",
        "line": 75,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists with id 18, stage \"designed\", and no email content",
            "line": 76,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:142"
            },
            "result": {
              "status": "passed",
              "duration": 27872000
            }
          },
          {
            "keyword": "When ",
            "name": "the email sending job is performed for lead id 18",
            "line": 77,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:58"
            },
            "result": {
              "status": "passed",
              "duration": 15135000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead's email_status should be \"failed\"",
            "line": 78,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:260"
            },
            "result": {
              "status": "passed",
              "duration": 1597000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead's last_email_error_message should include \"Lead is not ready to send\"",
            "line": 79,
            "match": {
              "location": "features/step_definitions/lead_email_status_steps.rb:267"
            },
            "result": {
              "status": "passed",
              "duration": 783000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 180000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 110000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "lead-stage-progression",
    "uri": "features/lead_stage_progression.feature",
    "keyword": "Feature",
    "name": "Lead Stage Progression",
    "description": "  As an authenticated user\n  I want to track lead progression through agent stages\n  So that I know the status of each lead",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6656000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 165000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "lead-stage-progression;lead-starts-at-queued-stage",
        "keyword": "Scenario",
        "name": "Lead starts at queued stage",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Stage Test\" exists for me",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2436000
            }
          },
          {
            "keyword": "When ",
            "name": "I create a lead with name \"Test Lead\" and email \"test@example.com\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:998"
            },
            "result": {
              "status": "passed",
              "duration": 1638000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have stage \"queued\"",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1062"
            },
            "result": {
              "status": "passed",
              "duration": 594000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6939000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 173000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "lead-stage-progression;lead-progresses-to-searched-after-search-agent",
        "keyword": "Scenario",
        "name": "Lead progresses to searched after SEARCH agent",
        "description": "",
        "line": 14,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Stage Test\" exists for me",
            "line": 15,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 9612000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 16,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 5043000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"queued\"",
            "line": 17,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1230000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"SEARCH\" agent on the lead",
            "line": 18,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 346335000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have stage \"searched\"",
            "line": 19,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1062"
            },
            "result": {
              "status": "passed",
              "duration": 387000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5675000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 408000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "lead-stage-progression;lead-progresses-to-written-after-writer-agent",
        "keyword": "Scenario",
        "name": "Lead progresses to written after WRITER agent",
        "description": "",
        "line": 21,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Stage Test\" exists for me",
            "line": 22,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2291000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 23,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2405000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 24,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3970000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 25,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 109558000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have stage \"written\"",
            "line": 26,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1062"
            },
            "result": {
              "status": "passed",
              "duration": 963000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10023000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 136000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "lead-stage-progression;lead-progresses-to-critiqued-after-critique-agent",
        "keyword": "Scenario",
        "name": "Lead progresses to critiqued after CRITIQUE agent",
        "description": "",
        "line": 28,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Stage Test\" exists for me",
            "line": 29,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4096000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 30,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 8263000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 31,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3430000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"CRITIQUE\" agent on the lead",
            "line": 32,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 131478000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have stage \"critiqued\"",
            "line": 33,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1062"
            },
            "result": {
              "status": "passed",
              "duration": 401000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7674000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "lead-stage-progression;lead-quality-is-updated-after-critique-agent",
        "keyword": "Scenario",
        "name": "Lead quality is updated after CRITIQUE agent",
        "description": "",
        "line": 35,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Stage Test\" exists for me",
            "line": 36,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2523000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 37,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2133000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"written\"",
            "line": 38,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1821000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"CRITIQUE\" agent on the lead",
            "line": 39,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 195631000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a quality score",
            "line": 40,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1067"
            },
            "result": {
              "status": "passed",
              "duration": 511000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 59000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7939000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 71000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 78000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 519000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "id": "lead-stage-progression;lead-progresses-to-designed-after-design-agent",
        "keyword": "Scenario",
        "name": "Lead progresses to designed after DESIGN agent",
        "description": "",
        "line": 42,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Stage Test\" exists for me",
            "line": 43,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2839000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 44,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3301000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 45,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2759000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"CRITIQUE\" agent output with email content",
            "line": 46,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1864000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN agent will return formatted email",
            "line": 47,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:978"
            },
            "result": {
              "status": "passed",
              "duration": 135000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 48,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 23287000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have stage \"designed\"",
            "line": 49,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1062"
            },
            "result": {
              "status": "passed",
              "duration": 671000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 78000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7872000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 80000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 92000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 263000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          }
        ]
      },
      {
        "id": "lead-stage-progression;design-agent-receives-critique-output",
        "keyword": "Scenario",
        "name": "DESIGN agent receives CRITIQUE output",
        "description": "",
        "line": 51,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Stage Test\" exists for me",
            "line": 52,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3055000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 53,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4834000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 54,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3338000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"CRITIQUE\" agent output with email content",
            "line": 55,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 3710000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN agent will return formatted email",
            "line": 56,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:978"
            },
            "result": {
              "status": "passed",
              "duration": 175000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 57,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 18634000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have stage \"designed\"",
            "line": 58,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1062"
            },
            "result": {
              "status": "passed",
              "duration": 509000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead should have agent outputs stored",
            "line": 59,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1078"
            },
            "result": {
              "status": "passed",
              "duration": 1019000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 73000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6059000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 146000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "lead-stage-progression;lead-stage-does-not-progress-when-agent-fails",
        "keyword": "Scenario",
        "name": "Lead stage does not progress when agent fails",
        "description": "",
        "line": 61,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Stage Test\" exists for me",
            "line": 62,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2422000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 63,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2548000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"queued\"",
            "line": 64,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 832000
            }
          },
          {
            "keyword": "And ",
            "name": "the SEARCH agent will fail",
            "line": 65,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:973"
            },
            "result": {
              "status": "passed",
              "duration": 118000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"SEARCH\" agent on the lead",
            "line": 66,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 13456000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should still have stage \"queued\"",
            "line": 67,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1073"
            },
            "result": {
              "status": "passed",
              "duration": 1161000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 69000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6194000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 159000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "lead-stage-progression;lead-stage-does-not-progress-when-design-agent-fails",
        "keyword": "Scenario",
        "name": "Lead stage does not progress when DESIGN agent fails",
        "description": "",
        "line": 69,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Stage Test\" exists for me",
            "line": 70,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2189000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 71,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2228000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"critiqued\"",
            "line": 72,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2494000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"CRITIQUE\" agent output with email content",
            "line": 73,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:97"
            },
            "result": {
              "status": "passed",
              "duration": 1709000
            }
          },
          {
            "keyword": "And ",
            "name": "the DESIGN agent will fail",
            "line": 74,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:993"
            },
            "result": {
              "status": "passed",
              "duration": 123000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"DESIGN\" agent on the lead",
            "line": 75,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 18102000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should still have stage \"critiqued\"",
            "line": 76,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1073"
            },
            "result": {
              "status": "passed",
              "duration": 418000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 76000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "update-a-lead-via-api",
    "uri": "features/lead_update.feature",
    "keyword": "Feature",
    "name": "Update a lead via API",
    "description": "  As an authenticated user\n  I want to update a lead in my campaign\n  So that I can correct or enrich data",
    "line": 1,
    "elements": [
      {
        "id": "update-a-lead-via-api;update-lead-title",
        "keyword": "Scenario",
        "name": "Update lead title",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 16690000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/leads/#{@lead.id}\" with JSON:",
            "line": 8,
            "doc_string": {
              "value": "{\"lead\": {\"title\": \"VP Engineering\"}}",
              "content_type": "",
              "line": 9
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 15283000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 12,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"title\" with \"VP Engineering\"",
            "line": 13,
            "match": {
              "location": "features/step_definitions/common_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "lead-input-validation",
    "uri": "features/lead_validation.feature",
    "keyword": "Feature",
    "name": "Lead input validation",
    "description": "  As a campaign owner\n  I want helpful errors when I submit invalid lead data\n  So that I can correct entries",
    "line": 1,
    "elements": [
      {
        "id": "lead-input-validation;missing-email-yields-validation-error",
        "keyword": "Scenario",
        "name": "Missing email yields validation error",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Data Quality\" exists for me",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 15132000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads\" with JSON:",
            "line": 8,
            "doc_string": {
              "value": "{\"lead\": {\"campaignId\": #{@campaign.id}, \"name\": \"No Email\"}}",
              "content_type": "",
              "line": 9
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 7992000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 12,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 94000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 168000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "lead-validation",
    "uri": "features/lead_validation_comprehensive.feature",
    "keyword": "Feature",
    "name": "Lead Validation",
    "description": "  As an authenticated user\n  I want validation errors for invalid lead data\n  So that I can correct mistakes",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11501000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Validation Test\" exists for me",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2746000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 194000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "lead-validation;missing-email-yields-validation-error",
        "keyword": "Scenario",
        "name": "Missing email yields validation error",
        "description": "",
        "line": 10,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads\" with JSON:",
            "line": 11,
            "doc_string": {
              "value": "{\"lead\": {\"campaignId\": #{@campaign.id}, \"name\": \"No Email\", \"title\": \"CTO\", \"company\": \"Acme\"}}",
              "content_type": "",
              "line": 12
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 6440000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 15,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"errors\"",
            "line": 16,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12399000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Validation Test\" exists for me",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4580000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 74000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 240000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "lead-validation;missing-name-yields-validation-error",
        "keyword": "Scenario",
        "name": "Missing name yields validation error",
        "description": "",
        "line": 18,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads\" with JSON:",
            "line": 19,
            "doc_string": {
              "value": "{\"lead\": {\"campaignId\": #{@campaign.id}, \"email\": \"test@example.com\", \"title\": \"CTO\", \"company\": \"Acme\"}}",
              "content_type": "",
              "line": 20
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 5805000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 23,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 83000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10199000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Validation Test\" exists for me",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3875000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 395000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "lead-validation;missing-title-yields-validation-error",
        "keyword": "Scenario",
        "name": "Missing title yields validation error",
        "description": "",
        "line": 25,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads\" with JSON:",
            "line": 26,
            "doc_string": {
              "value": "{\"lead\": {\"campaignId\": #{@campaign.id}, \"name\": \"Test\", \"email\": \"test@example.com\", \"company\": \"Acme\"}}",
              "content_type": "",
              "line": 27
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 6131000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 30,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9932000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Validation Test\" exists for me",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2609000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 192000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "lead-validation;missing-company-yields-validation-error",
        "keyword": "Scenario",
        "name": "Missing company yields validation error",
        "description": "",
        "line": 32,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads\" with JSON:",
            "line": 33,
            "doc_string": {
              "value": "{\"lead\": {\"campaignId\": #{@campaign.id}, \"name\": \"Test\", \"email\": \"test@example.com\", \"title\": \"CTO\"}}",
              "content_type": "",
              "line": 34
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 5037000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 37,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7460000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Validation Test\" exists for me",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3243000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 195000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "lead-validation;invalid-email-format-yields-validation-error",
        "keyword": "Scenario",
        "name": "Invalid email format yields validation error",
        "description": "",
        "line": 39,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads\" with JSON:",
            "line": 40,
            "doc_string": {
              "value": "{\"lead\": {\"campaignId\": #{@campaign.id}, \"name\": \"Test\", \"email\": \"invalid-email\", \"title\": \"CTO\", \"company\": \"Acme\"}}",
              "content_type": "",
              "line": 41
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 6052000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 44,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6869000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Validation Test\" exists for me",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2688000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 429000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ]
      },
      {
        "id": "lead-validation;cannot-create-lead-for-non-existent-campaign",
        "keyword": "Scenario",
        "name": "Cannot create lead for non-existent campaign",
        "description": "",
        "line": 46,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads\" with JSON:",
            "line": 47,
            "doc_string": {
              "value": "{\"lead\": {\"campaignId\": 999999, \"name\": \"Test\", \"email\": \"test@example.com\", \"title\": \"CTO\", \"company\": \"Acme\"}}",
              "content_type": "",
              "line": 48
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 3412000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 51,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 35000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7867000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Validation Test\" exists for me",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2406000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 177000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "lead-validation;cannot-create-lead-for-another-user's-campaign",
        "keyword": "Scenario",
        "name": "Cannot create lead for another user's campaign",
        "description": "",
        "line": 53,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "there is another user with a separate campaign",
            "line": 54,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5746000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads\" with JSON:",
            "line": 55,
            "doc_string": {
              "value": "{\"lead\": {\"campaignId\": #{@other_campaign.id}, \"name\": \"Test\", \"email\": \"test@example.com\", \"title\": \"CTO\", \"company\": \"Acme\"}}",
              "content_type": "",
              "line": 56
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 3518000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 59,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 35000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "list-my-leads-via-api",
    "uri": "features/leads_index.feature",
    "keyword": "Feature",
    "name": "List my leads via API",
    "description": "  As an authenticated user\n  I want to list my leads across campaigns\n  So that I can review prospects",
    "line": 1,
    "elements": [
      {
        "id": "list-my-leads-via-api;get-leads-list",
        "keyword": "Scenario",
        "name": "Get leads list",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 10788000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/api/v1/leads\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 11347000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 9,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON array response should have at least 1 item",
            "line": 10,
            "match": {
              "location": "features/step_definitions/common_steps.rb:170"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 164000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "markdownhelper-edge-cases",
    "uri": "features/markdown_helper_edge_cases.feature",
    "keyword": "Feature",
    "name": "MarkdownHelper Edge Cases",
    "description": "  As a user\n  I want markdown rendering to handle edge cases correctly\n  So that emails are formatted correctly",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8449000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 66000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 177000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-empty-text",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles empty text",
        "description": "",
        "line": 10,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text \"\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be \"\"",
            "line": 12,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:30"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12029000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 95000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 343000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-nil-text",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles nil text",
        "description": "",
        "line": 14,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text nil",
            "line": 15,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be \"\"",
            "line": 16,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:30"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8119000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 169000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-blank-text",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles blank text",
        "description": "",
        "line": 18,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text \"   \"",
            "line": 19,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be \"\"",
            "line": 20,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:30"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6993000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 241000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-removes-subject-line-from-markdown",
        "keyword": "Scenario",
        "name": "MarkdownHelper removes Subject line from markdown",
        "description": "",
        "line": 22,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text:",
            "line": 23,
            "doc_string": {
              "value": "Subject: Test Subject\n\nThis is the body.",
              "content_type": "",
              "line": 24
            },
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 60000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should not include \"Subject: Test Subject\"",
            "line": 29,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"This is the body\"",
            "line": 30,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8021000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 85000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 203000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-removes-subject-line-case-insensitively",
        "keyword": "Scenario",
        "name": "MarkdownHelper removes Subject line case-insensitively",
        "description": "",
        "line": 32,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text:",
            "line": 33,
            "doc_string": {
              "value": "subject: Test Subject\n\nThis is the body.",
              "content_type": "",
              "line": 34
            },
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 69000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should not include \"subject: Test Subject\"",
            "line": 39,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"This is the body\"",
            "line": 40,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8524000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 770000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-removes-subject-line-with-whitespace",
        "keyword": "Scenario",
        "name": "MarkdownHelper removes Subject line with whitespace",
        "description": "",
        "line": 42,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text:",
            "line": 43,
            "doc_string": {
              "value": "Subject:   Test Subject\n\nThis is the body.",
              "content_type": "",
              "line": 44
            },
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 65000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should not include \"Subject:\"",
            "line": 49,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"This is the body\"",
            "line": 50,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7940000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 198000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-multiple-subject-lines",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles multiple Subject lines",
        "description": "",
        "line": 52,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text:",
            "line": 53,
            "doc_string": {
              "value": "Subject: First Subject\nSubject: Second Subject\n\nThis is the body.",
              "content_type": "",
              "line": 54
            },
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 63000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should not include \"Subject:\"",
            "line": 60,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"This is the body\"",
            "line": 61,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8225000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 178000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-bold-text",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles bold text",
        "description": "",
        "line": 63,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text \"**bold text**\"",
            "line": 64,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include \"<strong>bold text</strong>\"",
            "line": 65,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 22207000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 165000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-italic-text",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles italic text",
        "description": "",
        "line": 67,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text \"*italic text*\"",
            "line": 68,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 145000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include \"<em>italic text</em>\"",
            "line": 69,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 93000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9719000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 167000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-strikethrough-text",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles strikethrough text",
        "description": "",
        "line": 71,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text \"~~strikethrough text~~\"",
            "line": 72,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 61000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include \"<del>strikethrough text</del>\"",
            "line": 73,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 127000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6529000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 167000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-code-text",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles code text",
        "description": "",
        "line": 75,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text \"`code text`\"",
            "line": 76,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include \"<code>code text</code>\"",
            "line": 77,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6916000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 173000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-links",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles links",
        "description": "",
        "line": 79,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text \"[link text](https://example.com)\"",
            "line": 80,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include '<a href=\"https://example.com\">link text</a>'",
            "line": 81,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6985000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 164000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-blockquotes",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles blockquotes",
        "description": "",
        "line": 83,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text:",
            "line": 84,
            "doc_string": {
              "value": "> This is a quote",
              "content_type": "",
              "line": 85
            },
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include \"<blockquote>This is a quote</blockquote>\"",
            "line": 88,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6185000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 358000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-bullet-lists",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles bullet lists",
        "description": "",
        "line": 90,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text:",
            "line": 91,
            "doc_string": {
              "value": "- Item 1\n- Item 2",
              "content_type": "",
              "line": 92
            },
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include \"<ul>\"",
            "line": 96,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<li>Item 1</li>\"",
            "line": 97,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<li>Item 2</li>\"",
            "line": 98,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5901000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 144000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-asterisk-bullet-lists",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles asterisk bullet lists",
        "description": "",
        "line": 100,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text:",
            "line": 101,
            "doc_string": {
              "value": "* Item 1\n* Item 2",
              "content_type": "",
              "line": 102
            },
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include \"<ul>\"",
            "line": 106,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<li>Item 1</li>\"",
            "line": 107,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<li>Item 2</li>\"",
            "line": 108,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8485000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 304000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-paragraphs-separated-by-empty-lines",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles paragraphs separated by empty lines",
        "description": "",
        "line": 110,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text:",
            "line": 111,
            "doc_string": {
              "value": "Paragraph 1\n\nParagraph 2",
              "content_type": "",
              "line": 112
            },
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 112000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include \"<p>Paragraph 1</p>\"",
            "line": 117,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<p>Paragraph 2</p>\"",
            "line": 118,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10715000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 191000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-nested-formatting",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles nested formatting",
        "description": "",
        "line": 120,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text \"**bold *italic* text**\"",
            "line": 121,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 156000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include \"<strong>\"",
            "line": 122,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<em>italic</em>\"",
            "line": 123,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5800000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 145000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-links-before-formatting",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles links before formatting",
        "description": "",
        "line": 125,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text \"[link](url) **bold**\"",
            "line": 126,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include '<a href=\"url\">link</a>'",
            "line": 127,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<strong>bold</strong>\"",
            "line": 128,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6592000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 97000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 159000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-code-before-formatting",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles code before formatting",
        "description": "",
        "line": 130,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text \"`code` **bold**\"",
            "line": 131,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include \"<code>code</code>\"",
            "line": 132,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<strong>bold</strong>\"",
            "line": 133,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7261000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 106000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 181000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-bold-before-italic",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles bold before italic",
        "description": "",
        "line": 135,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text \"**bold** *italic*\"",
            "line": 136,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include \"<strong>bold</strong>\"",
            "line": 137,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<em>italic</em>\"",
            "line": 138,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11997000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 277000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-lists-with-paragraphs",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles lists with paragraphs",
        "description": "",
        "line": 140,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text:",
            "line": 141,
            "doc_string": {
              "value": "Paragraph before list\n\n- List item 1\n- List item 2\n\nParagraph after list",
              "content_type": "",
              "line": 142
            },
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 92000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include \"<p>Paragraph before list</p>\"",
            "line": 150,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 79000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<ul>\"",
            "line": 151,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<li>List item 1</li>\"",
            "line": 152,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<li>List item 2</li>\"",
            "line": 153,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<p>Paragraph after list</p>\"",
            "line": 154,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6767000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 175000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-blockquotes-with-paragraphs",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles blockquotes with paragraphs",
        "description": "",
        "line": 156,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text:",
            "line": 157,
            "doc_string": {
              "value": "Paragraph before quote\n\n> Quote text\n\nParagraph after quote",
              "content_type": "",
              "line": 158
            },
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 164000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include \"<p>Paragraph before quote</p>\"",
            "line": 165,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<blockquote>Quote text</blockquote>\"",
            "line": 166,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<p>Paragraph after quote</p>\"",
            "line": 167,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6494000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 266000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-markdown_to_text-with-empty-text",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles markdown_to_text with empty text",
        "description": "",
        "line": 169,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to text with text \"\"",
            "line": 170,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:18"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be \"\"",
            "line": 171,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:30"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5823000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 145000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-markdown_to_text-with-nil-text",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles markdown_to_text with nil text",
        "description": "",
        "line": 173,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to text with text nil",
            "line": 174,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:26"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be \"\"",
            "line": 175,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:30"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6856000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 150000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-markdown_to_text-removing-subject-line",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles markdown_to_text removing Subject line",
        "description": "",
        "line": 177,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to text with text:",
            "line": 178,
            "doc_string": {
              "value": "Subject: Test Subject\n\nThis is the body.",
              "content_type": "",
              "line": 179
            },
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 60000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should not include \"Subject: Test Subject\"",
            "line": 184,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 65000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"This is the body\"",
            "line": 185,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6189000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-markdown_to_text-removing-html-tags",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles markdown_to_text removing HTML tags",
        "description": "",
        "line": 187,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to text with text \"<p>HTML text</p>\"",
            "line": 188,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:18"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include \"HTML text\"",
            "line": 189,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should not include \"<p>\"",
            "line": 190,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should not include \"</p>\"",
            "line": 191,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11149000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 160000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 229000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-markdown_to_text-removing-formatting",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles markdown_to_text removing formatting",
        "description": "",
        "line": 193,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to text with text \"**bold** *italic* ~~strikethrough~~ `code`\"",
            "line": 194,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:18"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include \"bold italic strikethrough code\"",
            "line": 195,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should not include \"**\"",
            "line": 196,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should not include \"*\"",
            "line": 197,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should not include \"~~\"",
            "line": 198,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should not include \"`\"",
            "line": 199,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7339000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 150000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-markdown_to_text-removing-links",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles markdown_to_text removing links",
        "description": "",
        "line": 201,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to text with text \"[link text](https://example.com)\"",
            "line": 202,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:18"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include \"link text\"",
            "line": 203,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should not include \"https://example.com\"",
            "line": 204,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should not include \"[\"",
            "line": 205,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should not include \"]\"",
            "line": 206,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should not include \"(\"",
            "line": 207,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should not include \")\"",
            "line": 208,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6007000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 150000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-markdown_to_text-removing-blockquotes",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles markdown_to_text removing blockquotes",
        "description": "",
        "line": 210,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to text with text:",
            "line": 211,
            "doc_string": {
              "value": "> Quote text",
              "content_type": "",
              "line": 212
            },
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include \"Quote text\"",
            "line": 215,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should not include \">\"",
            "line": 216,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6105000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-markdown_to_text-removing-bullet-points",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles markdown_to_text removing bullet points",
        "description": "",
        "line": 218,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to text with text:",
            "line": 219,
            "doc_string": {
              "value": "- Item 1\n- Item 2",
              "content_type": "",
              "line": 220
            },
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should include \"Item 1\"",
            "line": 224,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"Item 2\"",
            "line": 225,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should not include \"-\"",
            "line": 226,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should not include \"*\"",
            "line": 227,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6012000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 152000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-markdown_to_text-cleaning-up-multiple-blank-lines",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles markdown_to_text cleaning up multiple blank lines",
        "description": "",
        "line": 229,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to text with text:",
            "line": 230,
            "doc_string": {
              "value": "Paragraph 1\n\n\n\nParagraph 2",
              "content_type": "",
              "line": 231
            },
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should not include more than two consecutive newlines",
            "line": 238,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:42"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"Paragraph 1\"",
            "line": 239,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"Paragraph 2\"",
            "line": 240,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6595000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 291000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-markdown_to_text-stripping-whitespace",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles markdown_to_text stripping whitespace",
        "description": "",
        "line": 242,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to text with text:",
            "line": 243,
            "doc_string": {
              "value": "\nText with whitespace\n",
              "content_type": "",
              "line": 244
            },
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be trimmed",
            "line": 249,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"Text with whitespace\"",
            "line": 250,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6674000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "markdownhelper-edge-cases;markdownhelper-handles-complex-markdown-with-all-features",
        "keyword": "Scenario",
        "name": "MarkdownHelper handles complex markdown with all features",
        "description": "",
        "line": 252,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I convert markdown to HTML with text:",
            "line": 253,
            "doc_string": {
              "value": "Subject: Complex Test\n\n**Bold text** and *italic text*\n\n- List item 1\n- List item 2\n\n> Blockquote text\n\n[Link text](https://example.com)\n\n`code text`",
              "content_type": "",
              "line": 254
            },
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 92000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should not include \"Subject:\"",
            "line": 268,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<strong>Bold text</strong>\"",
            "line": 269,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<em>italic text</em>\"",
            "line": 270,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<ul>\"",
            "line": 271,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<li>List item 1</li>\"",
            "line": 272,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<li>List item 2</li>\"",
            "line": 273,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<blockquote>Blockquote text</blockquote>\"",
            "line": 274,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include '<a href=\"https://example.com\">Link text</a>'",
            "line": 275,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "keyword": "And ",
            "name": "the result should include \"<code>code text</code>\"",
            "line": 276,
            "match": {
              "location": "features/step_definitions/markdown_helper_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "oauth-controller",
    "uri": "features/oauth_controller.feature",
    "keyword": "Feature",
    "name": "OAuth Controller",
    "description": "  As an authenticated user\n  I want to configure Gmail OAuth\n  So that I can send emails via Gmail",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6217000
            }
          },
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 9,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 153000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "oauth-controller;user-can-initiate-gmail-oauth-authorization",
        "keyword": "Scenario",
        "name": "User can initiate Gmail OAuth authorization",
        "description": "",
        "line": 11,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/oauth/gmail/authorize\"",
            "line": 12,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 7640000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 13,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to an authorization URL",
            "line": 14,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:41"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "keyword": "And ",
            "name": "the session should have oauth_state",
            "line": 15,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "the session should have oauth_user_id",
            "line": 16,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:53"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6729000
            }
          },
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 9,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 142000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "oauth-controller;oauth-authorization-fails-when-oauth-is-not-configured",
        "keyword": "Scenario",
        "name": "OAuth authorization fails when OAuth is not configured",
        "description": "",
        "line": 18,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is not configured",
            "line": 19,
            "match": {
              "location": "features/step_definitions/email_steps.rb:102"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/oauth/gmail/authorize\"",
            "line": 20,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 2105000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 21,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the home page",
            "line": 22,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:138"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "keyword": "And ",
            "name": "I should see an error flash message",
            "line": 23,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "keyword": "And ",
            "name": "the error message should include \"Gmail OAuth is not configured\"",
            "line": 24,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 450000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5942000
            }
          },
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 9,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 138000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 887000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          }
        ]
      },
      {
        "id": "oauth-controller;oauth-authorization-handles-errors-gracefully",
        "keyword": "Scenario",
        "name": "OAuth authorization handles errors gracefully",
        "description": "",
        "line": 26,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "GmailOauthService will raise an error when getting authorization URL",
            "line": 27,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:21"
            },
            "result": {
              "status": "passed",
              "duration": 139000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/oauth/gmail/authorize\"",
            "line": 28,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 2488000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 29,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 35000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the home page",
            "line": 30,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:138"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "keyword": "And ",
            "name": "I should see an error flash message",
            "line": 31,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6849000
            }
          },
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 9,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 154000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "oauth-controller;oauth-callback-succeeds-with-valid-code",
        "keyword": "Scenario",
        "name": "OAuth callback succeeds with valid code",
        "description": "",
        "line": 33,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "GmailOauthService will return exchange result true",
            "line": 34,
            "match": {
              "location": "features/step_definitions/email_steps.rb:139"
            },
            "result": {
              "status": "passed",
              "duration": 121000
            }
          },
          {
            "keyword": "And ",
            "name": "I have oauth_state in session",
            "line": 35,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:4"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "keyword": "And ",
            "name": "I have oauth_user_id in session",
            "line": 36,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 828000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/oauth/gmail/callback\" with params:",
            "line": 37,
            "doc_string": {
              "value": "{\"code\": \"valid_code\"}",
              "content_type": "",
              "line": 38
            },
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:33"
            },
            "result": {
              "status": "passed",
              "duration": 6824000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 41,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the home page",
            "line": 42,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:138"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "keyword": "And ",
            "name": "I should see a success flash message",
            "line": 43,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:120"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "keyword": "And ",
            "name": "the session oauth_state should be cleared",
            "line": 44,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:74"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "And ",
            "name": "the session oauth_user_id should be cleared",
            "line": 45,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:81"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should have gmail_access_token set",
            "line": 46,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:163"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should have gmail_refresh_token set",
            "line": 47,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:168"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 14035000
            }
          },
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 9,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 167000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 68000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 158000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "oauth-controller;oauth-callback-fails-with-error-parameter",
        "keyword": "Scenario",
        "name": "OAuth callback fails with error parameter",
        "description": "",
        "line": 49,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/oauth/gmail/callback\" with params:",
            "line": 50,
            "doc_string": {
              "value": "{\"error\": \"access_denied\"}",
              "content_type": "",
              "line": 51
            },
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:33"
            },
            "result": {
              "status": "passed",
              "duration": 2318000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 54,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the home page",
            "line": 55,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:138"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "keyword": "And ",
            "name": "I should see an error flash message",
            "line": 56,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "keyword": "And ",
            "name": "the error message should include \"OAuth authorization failed\"",
            "line": 57,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6270000
            }
          },
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 9,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 145000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "oauth-controller;oauth-callback-fails-without-code",
        "keyword": "Scenario",
        "name": "OAuth callback fails without code",
        "description": "",
        "line": 59,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/oauth/gmail/callback\" with params:",
            "line": 60,
            "doc_string": {
              "value": "{}",
              "content_type": "",
              "line": 61
            },
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:33"
            },
            "result": {
              "status": "passed",
              "duration": 2014000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 64,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the home page",
            "line": 65,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:138"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "keyword": "And ",
            "name": "I should see an error flash message",
            "line": 66,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "keyword": "And ",
            "name": "the error message should include \"No authorization code received\"",
            "line": 67,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6102000
            }
          },
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 9,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "oauth-controller;oauth-callback-handles-user-id-mismatch",
        "keyword": "Scenario",
        "name": "OAuth callback handles user ID mismatch",
        "description": "",
        "line": 69,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have oauth_user_id in session with value 999",
            "line": 70,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/oauth/gmail/callback\" with params:",
            "line": 71,
            "doc_string": {
              "value": "{\"code\": \"valid_code\"}",
              "content_type": "",
              "line": 72
            },
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:33"
            },
            "result": {
              "status": "passed",
              "duration": 121723000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 75,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 69000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the home page",
            "line": 76,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:138"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "keyword": "And ",
            "name": "a warning should be logged about user ID mismatch",
            "line": 77,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:142"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9633000
            }
          },
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 9,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 131000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "oauth-controller;oauth-callback-fails-when-token-exchange-fails",
        "keyword": "Scenario",
        "name": "OAuth callback fails when token exchange fails",
        "description": "",
        "line": 79,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "GmailOauthService will return exchange result false",
            "line": 80,
            "match": {
              "location": "features/step_definitions/email_steps.rb:139"
            },
            "result": {
              "status": "passed",
              "duration": 134000
            }
          },
          {
            "keyword": "And ",
            "name": "I have oauth_state in session",
            "line": 81,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:4"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "keyword": "And ",
            "name": "I have oauth_user_id in session",
            "line": 82,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 820000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/oauth/gmail/callback\" with params:",
            "line": 83,
            "doc_string": {
              "value": "{\"code\": \"valid_code\"}",
              "content_type": "",
              "line": 84
            },
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:33"
            },
            "result": {
              "status": "passed",
              "duration": 3188000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 87,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 81000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the home page",
            "line": 88,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:138"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "keyword": "And ",
            "name": "I should see an error flash message",
            "line": 89,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "keyword": "And ",
            "name": "the error message should include \"Failed to configure Gmail OAuth\"",
            "line": 90,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9849000
            }
          },
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 9,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 152000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "oauth-controller;oauth-callback-handles-exceptions-during-token-exchange",
        "keyword": "Scenario",
        "name": "OAuth callback handles exceptions during token exchange",
        "description": "",
        "line": 92,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "GmailOauthService will raise an error during token exchange",
            "line": 93,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:25"
            },
            "result": {
              "status": "passed",
              "duration": 138000
            }
          },
          {
            "keyword": "And ",
            "name": "I have oauth_state in session",
            "line": 94,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:4"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "keyword": "And ",
            "name": "I have oauth_user_id in session",
            "line": 95,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 978000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/oauth/gmail/callback\" with params:",
            "line": 96,
            "doc_string": {
              "value": "{\"code\": \"valid_code\"}",
              "content_type": "",
              "line": 97
            },
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:33"
            },
            "result": {
              "status": "passed",
              "duration": 5621000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 100,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 117000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the home page",
            "line": 101,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:138"
            },
            "result": {
              "status": "passed",
              "duration": 80000
            }
          },
          {
            "keyword": "And ",
            "name": "I should see an error flash message",
            "line": 102,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "And ",
            "name": "the error message should include \"OAuth callback failed\"",
            "line": 103,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6286000
            }
          },
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 9,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 150000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "oauth-controller;user-can-revoke-gmail-oauth",
        "keyword": "Scenario",
        "name": "User can revoke Gmail OAuth",
        "description": "",
        "line": 105,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have Gmail OAuth configured",
            "line": 106,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:173"
            },
            "result": {
              "status": "passed",
              "duration": 1393000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a DELETE request to \"/oauth/gmail/revoke\"",
            "line": 107,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 3644000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 108,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the home page",
            "line": 109,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:138"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "keyword": "And ",
            "name": "I should see a success flash message",
            "line": 110,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:120"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's gmail_access_token should be nil",
            "line": 111,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:148"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's gmail_refresh_token should be nil",
            "line": 112,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:153"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's gmail_token_expires_at should be nil",
            "line": 113,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:158"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5963000
            }
          },
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 9,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 236000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "oauth-controller;oauth-authorization-stores-state-in-session-for-security",
        "keyword": "Scenario",
        "name": "OAuth authorization stores state in session for security",
        "description": "",
        "line": 115,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/oauth/gmail/authorize\"",
            "line": 116,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 2367000
            }
          },
          {
            "keyword": "Then ",
            "name": "the session should have oauth_state",
            "line": 117,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "keyword": "And ",
            "name": "the oauth_state should be a random hex string",
            "line": 118,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:100"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "And ",
            "name": "the session should have oauth_user_id",
            "line": 119,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:53"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "keyword": "And ",
            "name": "the oauth_user_id should match the current user ID",
            "line": 120,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:106"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7752000
            }
          },
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 9,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 71000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 70000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 334000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "oauth-controller;oauth-callback-clears-session-after-successful-exchange",
        "keyword": "Scenario",
        "name": "OAuth callback clears session after successful exchange",
        "description": "",
        "line": 122,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "GmailOauthService will return exchange result true",
            "line": 123,
            "match": {
              "location": "features/step_definitions/email_steps.rb:139"
            },
            "result": {
              "status": "passed",
              "duration": 145000
            }
          },
          {
            "keyword": "And ",
            "name": "I have oauth_state in session",
            "line": 124,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:4"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "keyword": "And ",
            "name": "I have oauth_user_id in session",
            "line": 125,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 1276000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/oauth/gmail/callback\" with params:",
            "line": 126,
            "doc_string": {
              "value": "{\"code\": \"valid_code\"}",
              "content_type": "",
              "line": 127
            },
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:33"
            },
            "result": {
              "status": "passed",
              "duration": 4194000
            }
          },
          {
            "keyword": "Then ",
            "name": "the session should not have oauth_state",
            "line": 130,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:60"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          },
          {
            "keyword": "And ",
            "name": "the session should not have oauth_user_id",
            "line": 131,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:67"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5756000
            }
          },
          {
            "keyword": "Given ",
            "name": "Gmail OAuth client is configured",
            "line": 9,
            "match": {
              "location": "features/step_definitions/email_steps.rb:96"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 145000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "oauth-controller;oauth-callback-preserves-session-on-error",
        "keyword": "Scenario",
        "name": "OAuth callback preserves session on error",
        "description": "",
        "line": 133,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "GmailOauthService will raise an error during token exchange",
            "line": 134,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:25"
            },
            "result": {
              "status": "passed",
              "duration": 131000
            }
          },
          {
            "keyword": "And ",
            "name": "I have oauth_state in session",
            "line": 135,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:4"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "And ",
            "name": "I have oauth_user_id in session",
            "line": 136,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 958000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/oauth/gmail/callback\" with params:",
            "line": 137,
            "doc_string": {
              "value": "{\"code\": \"valid_code\"}",
              "content_type": "",
              "line": 138
            },
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:33"
            },
            "result": {
              "status": "passed",
              "duration": 3563000
            }
          },
          {
            "keyword": "Then ",
            "name": "the session may still have oauth_state",
            "line": 141,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:88"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "keyword": "And ",
            "name": "the session may still have oauth_user_id",
            "line": 142,
            "match": {
              "location": "features/step_definitions/oauth_controller_steps.rb:94"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "omniauth-callbacks",
    "uri": "features/omniauth_callbacks.feature",
    "keyword": "Feature",
    "name": "Omniauth Callbacks",
    "description": "  As a user\n  I want to sign in with Google using Omniauth\n  So that I can access my account easily",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am on the sign in page",
            "line": 7,
            "match": {
              "location": "features/step_definitions/omniauth_callbacks_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 153000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "omniauth-callbacks;successful-google-oauth2-sign-in-with-complete-profile",
        "keyword": "Scenario",
        "name": "Successful Google OAuth2 sign in with complete profile",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I sign in with Google successfully and my profile is complete",
            "line": 10,
            "match": {
              "location": "features/step_definitions/omniauth_callbacks_steps.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 28583000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should be signed in",
            "line": 11,
            "match": {
              "location": "features/step_definitions/omniauth_callbacks_steps.rb:24"
            },
            "result": {
              "status": "passed",
              "duration": 551000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the dashboard",
            "line": 12,
            "match": {
              "location": "features/step_definitions/omniauth_callbacks_steps.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 112000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 93000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am on the sign in page",
            "line": 7,
            "match": {
              "location": "features/step_definitions/omniauth_callbacks_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 146000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "omniauth-callbacks;successful-google-oauth2-sign-in-with-incomplete-profile",
        "keyword": "Scenario",
        "name": "Successful Google OAuth2 sign in with incomplete profile",
        "description": "",
        "line": 14,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I sign in with Google successfully and my profile is incomplete",
            "line": 15,
            "match": {
              "location": "features/step_definitions/omniauth_callbacks_steps.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22304000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should be signed in",
            "line": 16,
            "match": {
              "location": "features/step_definitions/omniauth_callbacks_steps.rb:24"
            },
            "result": {
              "status": "passed",
              "duration": 805000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the complete profile page",
            "line": 17,
            "match": {
              "location": "features/step_definitions/omniauth_callbacks_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 239000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 160000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am on the sign in page",
            "line": 7,
            "match": {
              "location": "features/step_definitions/omniauth_callbacks_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 145000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "omniauth-callbacks;failed-google-oauth2-sign-in",
        "keyword": "Scenario",
        "name": "Failed Google OAuth2 sign in",
        "description": "",
        "line": 19,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I fail to sign in with Google",
            "line": 20,
            "match": {
              "location": "features/step_definitions/omniauth_callbacks_steps.rb:15"
            },
            "result": {
              "status": "passed",
              "duration": 8007000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should see an authentication error message",
            "line": 21,
            "match": {
              "location": "features/step_definitions/omniauth_callbacks_steps.rb:42"
            },
            "result": {
              "status": "passed",
              "duration": 122000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the sign in page",
            "line": 22,
            "match": {
              "location": "features/step_definitions/omniauth_callbacks_steps.rb:76"
            },
            "result": {
              "status": "passed",
              "duration": 575000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 101000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am on the sign in page",
            "line": 7,
            "match": {
              "location": "features/step_definitions/omniauth_callbacks_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "omniauth-callbacks;omniauth-failure",
        "keyword": "Scenario",
        "name": "Omniauth failure",
        "description": "",
        "line": 24,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "the omniauth authentication fails",
            "line": 25,
            "match": {
              "location": "features/step_definitions/omniauth_callbacks_steps.rb:20"
            },
            "result": {
              "status": "passed",
              "duration": 5590000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should see a generic authentication failed message",
            "line": 26,
            "match": {
              "location": "features/step_definitions/omniauth_callbacks_steps.rb:57"
            },
            "result": {
              "status": "passed",
              "duration": 117000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the sign in page",
            "line": 27,
            "match": {
              "location": "features/step_definitions/omniauth_callbacks_steps.rb:76"
            },
            "result": {
              "status": "passed",
              "duration": 525000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "orchestrator-execution",
    "uri": "features/orchestrator_execution.feature",
    "keyword": "Feature",
    "name": "Orchestrator Execution",
    "description": "  As a system\n  I want to execute the full agent pipeline via Orchestrator\n  So that I can generate complete emails for companies",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6451000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3202000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 149000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "orchestrator-execution;orchestrator.run-executes-full-pipeline-(search--writer--critique)",
        "keyword": "Scenario",
        "name": "Orchestrator.run executes full pipeline (Search  Writer  Critique)",
        "description": "",
        "line": 10,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Orchestrator is configured",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1268"
            },
            "result": {
              "status": "passed",
              "duration": 2010000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the Orchestrator with company name \"Microsoft\"",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1320"
            },
            "result": {
              "status": "passed",
              "duration": 1915000
            }
          },
          {
            "keyword": "Then ",
            "name": "the Orchestrator result should include email content",
            "line": 13,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1400"
            },
            "result": {
              "status": "passed",
              "duration": 64000
            }
          },
          {
            "keyword": "And ",
            "name": "the Orchestrator result should include sources",
            "line": 14,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1405"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "keyword": "And ",
            "name": "the Orchestrator result should include critique",
            "line": 15,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1410"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6177000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2034000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "orchestrator-execution;orchestrator-handles-company-name-input",
        "keyword": "Scenario",
        "name": "Orchestrator handles company name input",
        "description": "",
        "line": 17,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Orchestrator is configured",
            "line": 18,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1268"
            },
            "result": {
              "status": "passed",
              "duration": 1490000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the Orchestrator with company name \"Acme Corp\"",
            "line": 19,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1320"
            },
            "result": {
              "status": "passed",
              "duration": 631000
            }
          },
          {
            "keyword": "Then ",
            "name": "the Orchestrator result should include company \"Acme Corp\"",
            "line": 20,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1384"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9315000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3036000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 143000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "orchestrator-execution;orchestrator-handles-optional-recipient-parameter",
        "keyword": "Scenario",
        "name": "Orchestrator handles optional recipient parameter",
        "description": "",
        "line": 22,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Orchestrator is configured",
            "line": 23,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1268"
            },
            "result": {
              "status": "passed",
              "duration": 2178000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the Orchestrator with company name \"Microsoft\" and recipient \"John Doe\"",
            "line": 24,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1338"
            },
            "result": {
              "status": "passed",
              "duration": 674000
            }
          },
          {
            "keyword": "Then ",
            "name": "the Orchestrator result should include recipient \"John Doe\"",
            "line": 25,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1388"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7261000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2259000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "orchestrator-execution;orchestrator-handles-product_info-and-sender_company-parameters",
        "keyword": "Scenario",
        "name": "Orchestrator handles product_info and sender_company parameters",
        "description": "",
        "line": 27,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Orchestrator is configured",
            "line": 28,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1268"
            },
            "result": {
              "status": "passed",
              "duration": 3216000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the Orchestrator with company name \"Microsoft\", product_info \"SaaS Platform\", and sender_company \"MyCompany\"",
            "line": 29,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1357"
            },
            "result": {
              "status": "passed",
              "duration": 657000
            }
          },
          {
            "keyword": "Then ",
            "name": "the Orchestrator result should include product_info \"SaaS Platform\"",
            "line": 30,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1392"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "keyword": "And ",
            "name": "the Orchestrator result should include sender_company \"MyCompany\"",
            "line": 31,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1396"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6573000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2556000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 267000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "orchestrator-execution;orchestrator-returns-complete-email-with-critique-and-sources",
        "keyword": "Scenario",
        "name": "Orchestrator returns complete email with critique and sources",
        "description": "",
        "line": 33,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Orchestrator is configured",
            "line": 34,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1268"
            },
            "result": {
              "status": "passed",
              "duration": 1589000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the Orchestrator with company name \"Microsoft\"",
            "line": 35,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1320"
            },
            "result": {
              "status": "passed",
              "duration": 1074000
            }
          },
          {
            "keyword": "Then ",
            "name": "the Orchestrator result should include email content",
            "line": 36,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1400"
            },
            "result": {
              "status": "passed",
              "duration": 84000
            }
          },
          {
            "keyword": "And ",
            "name": "the Orchestrator result should include sources",
            "line": 37,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1405"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "keyword": "And ",
            "name": "the Orchestrator result should include critique",
            "line": 38,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1410"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 60000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6152000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2063000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 143000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "orchestrator-execution;orchestrator-raises-error-when-search-agent-fails",
        "keyword": "Scenario",
        "name": "Orchestrator raises error when SEARCH agent fails",
        "description": "",
        "line": 40,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Orchestrator is configured",
            "line": 41,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1268"
            },
            "result": {
              "status": "passed",
              "duration": 1874000
            }
          },
          {
            "keyword": "And ",
            "name": "the SEARCH agent will fail",
            "line": 42,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:973"
            },
            "result": {
              "status": "passed",
              "duration": 59000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the Orchestrator with company name \"Microsoft\"",
            "line": 43,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1320"
            },
            "result": {
              "status": "passed",
              "duration": 447000
            }
          },
          {
            "keyword": "Then ",
            "name": "an error should be raised",
            "line": 44,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1415"
            },
            "result": {
              "status": "passed",
              "duration": 65000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6063000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2208000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 162000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "orchestrator-execution;orchestrator-stops-when-critique-is-\"none\"",
        "keyword": "Scenario",
        "name": "Orchestrator stops when critique is \"None\"",
        "description": "",
        "line": 46,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Orchestrator is configured",
            "line": 47,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1268"
            },
            "result": {
              "status": "passed",
              "duration": 1509000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE agent will return no critique",
            "line": 48,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1310"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the Orchestrator with company name \"Microsoft\"",
            "line": 49,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1320"
            },
            "result": {
              "status": "passed",
              "duration": 7893000
            }
          },
          {
            "keyword": "Then ",
            "name": "the Orchestrator should complete successfully",
            "line": 50,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1421"
            },
            "result": {
              "status": "passed",
              "duration": 79000
            }
          },
          {
            "keyword": "And ",
            "name": "the Orchestrator result should have no critique",
            "line": 51,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1426"
            },
            "result": {
              "status": "passed",
              "duration": 67000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 65000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8944000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2783000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 167000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "orchestrator-execution;orchestrator-completes-even-when-critique-is-provided",
        "keyword": "Scenario",
        "name": "Orchestrator completes even when critique is provided",
        "description": "",
        "line": 53,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Orchestrator is configured",
            "line": 54,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1268"
            },
            "result": {
              "status": "passed",
              "duration": 2682000
            }
          },
          {
            "keyword": "And ",
            "name": "the CRITIQUE agent will return critique",
            "line": 55,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1314"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the Orchestrator with company name \"Microsoft\"",
            "line": 56,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1320"
            },
            "result": {
              "status": "passed",
              "duration": 1266000
            }
          },
          {
            "keyword": "Then ",
            "name": "the Orchestrator should complete successfully",
            "line": 57,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1421"
            },
            "result": {
              "status": "passed",
              "duration": 67000
            }
          },
          {
            "keyword": "And ",
            "name": "the Orchestrator result should include critique text",
            "line": 58,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1430"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "profile-management",
    "uri": "features/profile_management.feature",
    "keyword": "Feature",
    "name": "Profile management",
    "description": "  As an authenticated user\n  I want to edit my profile\n  So that my workspace name and job title are up to date",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in as a user",
            "line": 7,
            "match": {
              "location": "features/step_definitions/profile_management_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 12321000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 171000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "profile-management;viewing-the-profile-edit-page",
        "keyword": "Scenario",
        "name": "Viewing the profile edit page",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I visit the profile edit page",
            "line": 10,
            "match": {
              "location": "features/step_definitions/profile_management_steps.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 6248000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should see the profile completion form",
            "line": 11,
            "match": {
              "location": "features/step_definitions/profile_management_steps.rb:9"
            },
            "result": {
              "status": "passed",
              "duration": 2000000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in as a user",
            "line": 7,
            "match": {
              "location": "features/step_definitions/profile_management_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 7221000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 172000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "profile-management;successfully-updating-profile",
        "keyword": "Scenario",
        "name": "Successfully updating profile",
        "description": "",
        "line": 13,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/complete-profile\" with JSON:",
            "line": 14,
            "doc_string": {
              "value": "{\"user\": {\"workspace_name\": \"New Workspace\", \"job_title\": \"CEO\"}}",
              "content_type": "",
              "line": 15
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 4235000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 18,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should have workspace_name \"New Workspace\"",
            "line": 19,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:256"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should have job_title \"CEO\"",
            "line": 20,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:261"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in as a user",
            "line": 7,
            "match": {
              "location": "features/step_definitions/profile_management_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 13224000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 90000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 504000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          }
        ]
      },
      {
        "id": "profile-management;updating-profile-with-empty-values",
        "keyword": "Scenario",
        "name": "Updating profile with empty values",
        "description": "",
        "line": 22,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/complete-profile\" with JSON:",
            "line": 23,
            "doc_string": {
              "value": "{\"user\": {\"workspace_name\": \"\", \"job_title\": \"\"}}",
              "content_type": "",
              "line": 24
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 6995000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 27,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should have workspace_name \"\"",
            "line": 28,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:256"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should have job_title \"\"",
            "line": 29,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:261"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "run-agents-error-handling",
    "uri": "features/run_agents_error.feature",
    "keyword": "Feature",
    "name": "Run agents error handling",
    "description": "  As an authenticated user\n  I want clear errors when running agents on missing leads\n  So that I understand what went wrong",
    "line": 1,
    "elements": [
      {
        "id": "run-agents-error-handling;run-agents-on-non-existent-lead-returns-404",
        "keyword": "Scenario",
        "name": "Run agents on non-existent lead returns 404",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9549000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/api/v1/leads/999999/run_agents\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 5077000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 404",
            "line": 9,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 193000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "tavily-search-agent-api-integration",
    "uri": "features/search_agent.feature",
    "keyword": "Feature",
    "name": "Tavily Search Agent API integration",
    "description": "  As a developer\n  I want the search agent to handle Tavily API responses robustly\n  So that errors and edge cases are logged and handled gracefully",
    "line": 1,
    "elements": [
      {
        "id": "tavily-search-agent-api-integration;tavily-api-returns-no-results-field",
        "keyword": "Scenario",
        "name": "Tavily API returns no results field",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Tavily API responds without a \"results\" field",
            "line": 7,
            "match": {
              "location": "features/step_definitions/search_agent_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 269000
            }
          },
          {
            "keyword": "When ",
            "name": "the search agent performs a search",
            "line": 8,
            "match": {
              "location": "features/step_definitions/search_agent_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 280000
            }
          },
          {
            "keyword": "Then ",
            "name": "a warning should be logged about missing results",
            "line": 9,
            "match": {
              "location": "features/step_definitions/search_agent_steps.rb:38"
            },
            "result": {
              "status": "passed",
              "duration": 89000
            }
          },
          {
            "keyword": "And ",
            "name": "an empty array should be returned",
            "line": 10,
            "match": {
              "location": "features/step_definitions/search_agent_steps.rb:42"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 189000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "id": "tavily-search-agent-api-integration;tavily-api-returns-valid-results",
        "keyword": "Scenario",
        "name": "Tavily API returns valid results",
        "description": "",
        "line": 12,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Tavily API responds with a valid \"results\" array",
            "line": 13,
            "match": {
              "location": "features/step_definitions/search_agent_steps.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 263000
            }
          },
          {
            "keyword": "When ",
            "name": "the search agent performs a search",
            "line": 14,
            "match": {
              "location": "features/step_definitions/search_agent_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 155000
            }
          },
          {
            "keyword": "Then ",
            "name": "the results should be mapped and returned",
            "line": 15,
            "match": {
              "location": "features/step_definitions/search_agent_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 290000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "tavily-search-agent-api-integration;tavily-api-response-parsing-raises-an-exception",
        "keyword": "Scenario",
        "name": "Tavily API response parsing raises an exception",
        "description": "",
        "line": 17,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Tavily API responds with invalid data",
            "line": 18,
            "match": {
              "location": "features/step_definitions/search_agent_steps.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 201000
            }
          },
          {
            "keyword": "And ",
            "name": "parsing the response raises an exception",
            "line": 19,
            "match": {
              "location": "features/step_definitions/search_agent_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "keyword": "When ",
            "name": "the search agent performs a search",
            "line": 20,
            "match": {
              "location": "features/step_definitions/search_agent_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 323000
            }
          },
          {
            "keyword": "Then ",
            "name": "an error should be logged about the failure",
            "line": 21,
            "match": {
              "location": "features/step_definitions/search_agent_steps.rb:50"
            },
            "result": {
              "status": "passed",
              "duration": 66000
            }
          },
          {
            "keyword": "And ",
            "name": "an empty array should be returned",
            "line": 22,
            "match": {
              "location": "features/step_definitions/search_agent_steps.rb:42"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 160000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "settingshelper-module",
    "uri": "features/settings_helper.feature",
    "keyword": "Feature",
    "name": "SettingsHelper module",
    "description": "  As a system\n  I want to ensure that user settings can be handled correctly\n  So that user has a smooth and error-free experience when interacting with their settings via the application",
    "line": 1,
    "elements": [
      {
        "id": "settingshelper-module;get-setting-by-symbol-and-string-key",
        "keyword": "Scenario",
        "name": "Get setting by symbol and string key",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a settings hash with \"tone\" set to \"friendly\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/settings_helper_steps.rb:62"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "keyword": "Then ",
            "name": "get_setting with :tone returns \"friendly\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/settings_helper_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "keyword": "And ",
            "name": "get_setting with \"tone\" returns \"friendly\"",
            "line": 9,
            "match": {
              "location": "features/step_definitions/settings_helper_steps.rb:86"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 62000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 168000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "id": "settingshelper-module;dig-nested-setting-with-mixed-keys",
        "keyword": "Scenario",
        "name": "Dig nested setting with mixed keys",
        "description": "",
        "line": 11,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a nested settings hash with brand_voice.tone set to \"formal\"",
            "line": 12,
            "match": {
              "location": "features/step_definitions/settings_helper_steps.rb:78"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "keyword": "Then ",
            "name": "dig_setting with :brand_voice, :tone returns \"formal\"",
            "line": 13,
            "match": {
              "location": "features/step_definitions/settings_helper_steps.rb:90"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          },
          {
            "keyword": "And ",
            "name": "dig_setting with \"brand_voice\", \"tone\" returns \"formal\"",
            "line": 14,
            "match": {
              "location": "features/step_definitions/settings_helper_steps.rb:94"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 172000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "id": "settingshelper-module;get-setting-with-default-fallback",
        "keyword": "Scenario",
        "name": "Get setting with default fallback",
        "description": "",
        "line": 16,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a settings hash with no \"missing\" key",
            "line": 17,
            "match": {
              "location": "features/step_definitions/settings_helper_steps.rb:66"
            },
            "result": {
              "status": "passed",
              "duration": 203000
            }
          },
          {
            "keyword": "Then ",
            "name": "get_setting_with_default with :missing and default \"default_value\" returns \"default_value\"",
            "line": 18,
            "match": {
              "location": "features/step_definitions/settings_helper_steps.rb:98"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 129000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 239000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          }
        ]
      },
      {
        "id": "settingshelper-module;get-multiple-settings-at-once",
        "keyword": "Scenario",
        "name": "Get multiple settings at once",
        "description": "",
        "line": 20,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a settings hash with \"a\" set to 1 and :b set to 2",
            "line": 21,
            "match": {
              "location": "features/step_definitions/settings_helper_steps.rb:70"
            },
            "result": {
              "status": "passed",
              "duration": 92000
            }
          },
          {
            "keyword": "Then ",
            "name": "get_settings with :a, :b returns a hash with a: 1 and b: 2",
            "line": 22,
            "match": {
              "location": "features/step_definitions/settings_helper_steps.rb:102"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 386000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "settingshelper-module;check-if-setting-is-present",
        "keyword": "Scenario",
        "name": "Check if setting is present",
        "description": "",
        "line": 24,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a settings hash with \"present\" set to \"yes\" and \"empty\" set to \"\"",
            "line": 25,
            "match": {
              "location": "features/step_definitions/settings_helper_steps.rb:74"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "keyword": "Then ",
            "name": "setting_present? with :present returns true",
            "line": 26,
            "match": {
              "location": "features/step_definitions/settings_helper_steps.rb:108"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "keyword": "And ",
            "name": "setting_present? with :empty returns false",
            "line": 27,
            "match": {
              "location": "features/step_definitions/settings_helper_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "keyword": "And ",
            "name": "setting_present? with :missing returns false",
            "line": 28,
            "match": {
              "location": "features/step_definitions/settings_helper_steps.rb:116"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 168000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "ui-interactions",
    "uri": "features/ui_interactions.feature",
    "keyword": "Feature",
    "name": "UI Interactions",
    "description": "  As a user\n  I want to interact with the web interface\n  So that I can manage campaigns and leads visually",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6343000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 103000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 213000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "ui-interactions;dashboard-renders-react-components",
        "keyword": "Scenario",
        "name": "Dashboard renders React components",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I visit the home page",
            "line": 10,
            "match": {
              "location": "features/step_definitions/common_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 3139000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should see the dashboard container",
            "line": 11,
            "match": {
              "location": "features/step_definitions/common_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 577000
            }
          },
          {
            "keyword": "And ",
            "name": "the dashboard should mount React components",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1177"
            },
            "result": {
              "status": "passed",
              "duration": 298000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6492000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 224000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "ui-interactions;dashboard-shows-empty-state-when-no-campaigns-exist",
        "keyword": "Scenario",
        "name": "Dashboard shows empty state when no campaigns exist",
        "description": "",
        "line": 14,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I have no campaigns",
            "line": 15,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:920"
            },
            "result": {
              "status": "passed",
              "duration": 1794000
            }
          },
          {
            "keyword": "When ",
            "name": "I visit the home page",
            "line": 16,
            "match": {
              "location": "features/step_definitions/common_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 2926000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should see the empty state message",
            "line": 17,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1182"
            },
            "result": {
              "status": "passed",
              "duration": 561000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7858000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 150000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "ui-interactions;dashboard-shows-campaigns-list",
        "keyword": "Scenario",
        "name": "Dashboard shows campaigns list",
        "description": "",
        "line": 19,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"Visible Campaign\" exists for me",
            "line": 20,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 4084000
            }
          },
          {
            "keyword": "When ",
            "name": "I visit the home page",
            "line": 21,
            "match": {
              "location": "features/step_definitions/common_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 3569000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should see the campaign in the list",
            "line": 22,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1187"
            },
            "result": {
              "status": "passed",
              "duration": 566000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6389000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "ui-interactions;page-has-correct-title-and-meta-tags",
        "keyword": "Scenario",
        "name": "Page has correct title and meta tags",
        "description": "",
        "line": 24,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I visit the home page",
            "line": 25,
            "match": {
              "location": "features/step_definitions/common_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 3254000
            }
          },
          {
            "keyword": "Then ",
            "name": "the page title should include \"CampAIgn\"",
            "line": 26,
            "match": {
              "location": "features/step_definitions/common_steps.rb:190"
            },
            "result": {
              "status": "passed",
              "duration": 365000
            }
          },
          {
            "keyword": "And ",
            "name": "I should see a meta tag \"viewport\"",
            "line": 27,
            "match": {
              "location": "features/step_definitions/common_steps.rb:194"
            },
            "result": {
              "status": "passed",
              "duration": 308000
            }
          },
          {
            "keyword": "And ",
            "name": "I should see a meta tag \"description\"",
            "line": 28,
            "match": {
              "location": "features/step_definitions/common_steps.rb:194"
            },
            "result": {
              "status": "passed",
              "duration": 166000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6828000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "ui-interactions;page-includes-required-assets",
        "keyword": "Scenario",
        "name": "Page includes required assets",
        "description": "",
        "line": 30,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I visit the home page",
            "line": 31,
            "match": {
              "location": "features/step_definitions/common_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 6203000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should see the stylesheet pack tag",
            "line": 32,
            "match": {
              "location": "features/step_definitions/common_steps.rb:202"
            },
            "result": {
              "status": "passed",
              "duration": 335000
            }
          },
          {
            "keyword": "And ",
            "name": "I should see the javascript pack tag",
            "line": 33,
            "match": {
              "location": "features/step_definitions/common_steps.rb:206"
            },
            "result": {
              "status": "passed",
              "duration": 213000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 83000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 20378000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 159000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "ui-interactions;page-includes-pwa-icons",
        "keyword": "Scenario",
        "name": "Page includes PWA icons",
        "description": "",
        "line": 35,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I visit the home page",
            "line": 36,
            "match": {
              "location": "features/step_definitions/common_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 8683000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should see a link icon of type \"image/png\"",
            "line": 37,
            "match": {
              "location": "features/step_definitions/common_steps.rb:198"
            },
            "result": {
              "status": "passed",
              "duration": 888000
            }
          },
          {
            "keyword": "And ",
            "name": "I should see a link icon of type \"image/svg+xml\"",
            "line": 38,
            "match": {
              "location": "features/step_definitions/common_steps.rb:198"
            },
            "result": {
              "status": "passed",
              "duration": 603000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9182000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 146000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "ui-interactions;dashboard-root-has-correct-css-classes",
        "keyword": "Scenario",
        "name": "Dashboard root has correct CSS classes",
        "description": "",
        "line": 40,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I visit the home page",
            "line": 41,
            "match": {
              "location": "features/step_definitions/common_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 4714000
            }
          },
          {
            "keyword": "Then ",
            "name": "the dashboard root should have CSS class \"min-h-screen\"",
            "line": 42,
            "match": {
              "location": "features/step_definitions/common_steps.rb:210"
            },
            "result": {
              "status": "passed",
              "duration": 706000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "layout-asset-tags",
    "uri": "features/ui_layout_assets.feature",
    "keyword": "Feature",
    "name": "Layout asset tags",
    "description": "  As a user\n  I want CSS and JS pack tags to be present\n  So that styles and scripts load",
    "line": 1,
    "elements": [
      {
        "id": "layout-asset-tags;pack-tags-are-included",
        "keyword": "Scenario",
        "name": "Pack tags are included",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8024000
            }
          },
          {
            "keyword": "When ",
            "name": "I visit the home page",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 3313000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should see the stylesheet pack tag",
            "line": 9,
            "match": {
              "location": "features/step_definitions/common_steps.rb:202"
            },
            "result": {
              "status": "passed",
              "duration": 126000
            }
          },
          {
            "keyword": "And ",
            "name": "I should see the javascript pack tag",
            "line": 10,
            "match": {
              "location": "features/step_definitions/common_steps.rb:206"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 350000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "layout-title-and-meta-tags",
    "uri": "features/ui_layout_title_meta.feature",
    "keyword": "Feature",
    "name": "Layout title and meta tags",
    "description": "  As a user\n  I want the page to have correct title and meta tags\n  So that the UI renders correctly on devices",
    "line": 1,
    "elements": [
      {
        "id": "layout-title-and-meta-tags;title-and-viewport-are-present",
        "keyword": "Scenario",
        "name": "Title and viewport are present",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7248000
            }
          },
          {
            "keyword": "When ",
            "name": "I visit the home page",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 3406000
            }
          },
          {
            "keyword": "Then ",
            "name": "the page title should include \"CampAIgn\"",
            "line": 9,
            "match": {
              "location": "features/step_definitions/common_steps.rb:190"
            },
            "result": {
              "status": "passed",
              "duration": 387000
            }
          },
          {
            "keyword": "And ",
            "name": "I should see a meta tag \"viewport\"",
            "line": 10,
            "match": {
              "location": "features/step_definitions/common_steps.rb:194"
            },
            "result": {
              "status": "passed",
              "duration": 247000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 168000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "pwa-icon-links",
    "uri": "features/ui_pwa_icons.feature",
    "keyword": "Feature",
    "name": "PWA icon links",
    "description": "  As a user\n  I want icons declared for various platforms\n  So that the app has proper favicon and touch icons",
    "line": 1,
    "elements": [
      {
        "id": "pwa-icon-links;icon-link-tags-exist",
        "keyword": "Scenario",
        "name": "Icon link tags exist",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7422000
            }
          },
          {
            "keyword": "When ",
            "name": "I visit the home page",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 3667000
            }
          },
          {
            "keyword": "Then ",
            "name": "I should see a link icon of type \"image/png\"",
            "line": 9,
            "match": {
              "location": "features/step_definitions/common_steps.rb:198"
            },
            "result": {
              "status": "passed",
              "duration": 582000
            }
          },
          {
            "keyword": "And ",
            "name": "I should see a link icon of type \"image/svg+xml\"",
            "line": 10,
            "match": {
              "location": "features/step_definitions/common_steps.rb:198"
            },
            "result": {
              "status": "passed",
              "duration": 152000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 177000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "react-dashboard-mount-point",
    "uri": "features/ui_react_mount.feature",
    "keyword": "Feature",
    "name": "React dashboard mount point",
    "description": "  As a user\n  I want the dashboard mount point present\n  So that the React app can render",
    "line": 1,
    "elements": [
      {
        "id": "react-dashboard-mount-point;mount-point-has-expected-css-class",
        "keyword": "Scenario",
        "name": "Mount point has expected CSS class",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6973000
            }
          },
          {
            "keyword": "When ",
            "name": "I visit the home page",
            "line": 8,
            "match": {
              "location": "features/step_definitions/common_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 3345000
            }
          },
          {
            "keyword": "Then ",
            "name": "the dashboard root should have CSS class \"min-h-screen\"",
            "line": 9,
            "match": {
              "location": "features/step_definitions/common_steps.rb:210"
            },
            "result": {
              "status": "passed",
              "duration": 677000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 167000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "update-design-agent-output-via-api",
    "uri": "features/update_agent_output_design.feature",
    "keyword": "Feature",
    "name": "Update DESIGN agent output via API",
    "description": "  As an authenticated user\n  I want to edit the formatted email content\n  So that I can refine the design formatting",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7879000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 173000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "update-design-agent-output-via-api;update-design-formatted-email-content",
        "keyword": "Scenario",
        "name": "Update DESIGN formatted email content",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 9735000
            }
          },
          {
            "keyword": "And ",
            "name": "a \"DESIGN\" agent output exists for the lead",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1505000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/leads/#{@lead.id}/update_agent_output\" with JSON:",
            "line": 12,
            "doc_string": {
              "value": "{\"agentName\": \"DESIGN\", \"content\": \"Subject: Updated\\n\\n**Updated** email content\"}",
              "content_type": "",
              "line": 13
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 8300000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 16,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON nested value at \"outputData.formatted_email\" should equal \"Subject: Updated\\n\\n**Updated** email content\"",
            "line": 17,
            "match": {
              "location": "features/step_definitions/common_steps.rb:176"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON nested value at \"outputData.email\" should equal \"Subject: Updated\\n\\n**Updated** email content\"",
            "line": 18,
            "match": {
              "location": "features/step_definitions/common_steps.rb:176"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6417000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 204000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "update-design-agent-output-via-api;update-design-with-formatted_email-parameter",
        "keyword": "Scenario",
        "name": "Update DESIGN with formatted_email parameter",
        "description": "",
        "line": 20,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 21,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3855000
            }
          },
          {
            "keyword": "And ",
            "name": "a \"DESIGN\" agent output exists for the lead",
            "line": 22,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1659000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/leads/#{@lead.id}/update_agent_output\" with JSON:",
            "line": 23,
            "doc_string": {
              "value": "{\"agentName\": \"DESIGN\", \"formatted_email\": \"Subject: Test\\n\\n**Bold** text\"}",
              "content_type": "",
              "line": 24
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 8317000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 27,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON nested value at \"outputData.formatted_email\" should equal \"Subject: Test\\n\\n**Bold** text\"",
            "line": 28,
            "match": {
              "location": "features/step_definitions/common_steps.rb:176"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11779000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 150000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "update-design-agent-output-via-api;update-design-requires-content-parameter",
        "keyword": "Scenario",
        "name": "Update DESIGN requires content parameter",
        "description": "",
        "line": 30,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 31,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 6813000
            }
          },
          {
            "keyword": "And ",
            "name": "a \"DESIGN\" agent output exists for the lead",
            "line": 32,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 3234000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/leads/#{@lead.id}/update_agent_output\" with JSON:",
            "line": 33,
            "doc_string": {
              "value": "{\"agentName\": \"DESIGN\"}",
              "content_type": "",
              "line": 34
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 9471000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 37,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"errors\"",
            "line": 38,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6556000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 261000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "update-design-agent-output-via-api;cannot-update-design-output-for-another-user's-lead",
        "keyword": "Scenario",
        "name": "Cannot update DESIGN output for another user's lead",
        "description": "",
        "line": 40,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a campaign titled \"My Campaign\" exists for me",
            "line": 41,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2209000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 42,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2018000
            }
          },
          {
            "keyword": "And ",
            "name": "a \"DESIGN\" agent output exists for the lead",
            "line": 43,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1071000
            }
          },
          {
            "keyword": "And ",
            "name": "there is another user with a separate campaign",
            "line": 44,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 4787000
            }
          },
          {
            "keyword": "And ",
            "name": "the other user has a lead",
            "line": 45,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:934"
            },
            "result": {
              "status": "passed",
              "duration": 1698000
            }
          },
          {
            "keyword": "And ",
            "name": "the original lead ID is stored",
            "line": 47,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:948"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/leads/#{@other_lead.id}/update_agent_output\" with JSON:",
            "line": 50,
            "doc_string": {
              "value": "{\"agentName\": \"DESIGN\", \"content\": \"Hacked content\"}",
              "content_type": "",
              "line": 51
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 3800000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 404",
            "line": 54,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "update-search-agent-output-via-api",
    "uri": "features/update_agent_output_search.feature",
    "keyword": "Feature",
    "name": "Update SEARCH agent output via API",
    "description": "  As an authenticated user\n  I want to correct search data\n  So that downstream agents use accurate info",
    "line": 1,
    "elements": [
      {
        "id": "update-search-agent-output-via-api;update-search-output-data",
        "keyword": "Scenario",
        "name": "Update SEARCH output data",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 21007000
            }
          },
          {
            "keyword": "And ",
            "name": "a \"SEARCH\" agent output exists for the lead",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 2372000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/leads/#{@lead.id}/update_agent_output\" with JSON:",
            "line": 9,
            "doc_string": {
              "value": "{\"agentName\": \"SEARCH\", \"updatedData\": {\"urls\": [\"https://example.com\"]}}",
              "content_type": "",
              "line": 10
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 15289000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 13,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON response should include \"outputData\"",
            "line": 14,
            "match": {
              "location": "features/step_definitions/common_steps.rb:160"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 77000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 232000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 35000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "update-writer-agent-output-via-api",
    "uri": "features/update_agent_output_writer.feature",
    "keyword": "Feature",
    "name": "Update WRITER agent output via API",
    "description": "  As an authenticated user\n  I want to edit the generated email content\n  So that I can refine outreach",
    "line": 1,
    "elements": [
      {
        "id": "update-writer-agent-output-via-api;update-writer-email-content",
        "keyword": "Scenario",
        "name": "Update WRITER email content",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a lead exists for my campaign",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 16656000
            }
          },
          {
            "keyword": "And ",
            "name": "a \"WRITER\" agent output exists for the lead",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1948000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a PATCH request to \"/api/v1/leads/#{@lead.id}/update_agent_output\" with JSON:",
            "line": 9,
            "doc_string": {
              "value": "{\"agentName\": \"WRITER\", \"content\": \"Hello there!\"}",
              "content_type": "",
              "line": 10
            },
            "match": {
              "location": "features/step_definitions/common_steps.rb:46"
            },
            "result": {
              "status": "passed",
              "duration": 26637000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 13,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          },
          {
            "keyword": "And ",
            "name": "the JSON nested value at \"outputData.email\" should equal \"Hello there!\"",
            "line": 14,
            "match": {
              "location": "features/step_definitions/common_steps.rb:176"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 62000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 202000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "user-model",
    "uri": "features/user_model.feature",
    "keyword": "Feature",
    "name": "User model",
    "description": "  As a system\n  I want to ensure the User model methods work as expected\n  So that authentication, Gmail, and profile features function correctly",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 7943000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 68000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 404000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ]
      },
      {
        "id": "user-model;from_google_omniauth-creates-or-finds-user-by-provider-and-uid",
        "keyword": "Scenario",
        "name": "from_google_omniauth creates or finds user by provider and uid",
        "description": "",
        "line": 9,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "Google OAuth data with provider \"google_oauth2\", uid \"12345\", email \"user@example.com\", first_name \"Test\", last_name \"User\"",
            "line": 10,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:45"
            },
            "result": {
              "status": "passed",
              "duration": 131000
            }
          },
          {
            "keyword": "When ",
            "name": "I call User.from_google_omniauth with the OAuth data",
            "line": 11,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:69"
            },
            "result": {
              "status": "passed",
              "duration": 6937000
            }
          },
          {
            "keyword": "Then ",
            "name": "the user should be found or created with email \"user@example.com\" and provider \"google_oauth2\"",
            "line": 12,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:73"
            },
            "result": {
              "status": "passed",
              "duration": 127000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 6406000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 303000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "user-model;profile_complete?-returns-true-when-workspace_name-and-job_title-are-present",
        "keyword": "Scenario",
        "name": "profile_complete? returns true when workspace_name and job_title are present",
        "description": "",
        "line": 14,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user has workspace_name \"Acme\" and job_title \"Engineer\"",
            "line": 15,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:78"
            },
            "result": {
              "status": "passed",
              "duration": 1437000
            }
          },
          {
            "keyword": "When ",
            "name": "I check if the user's profile is complete",
            "line": 16,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be true",
            "line": 17,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:86"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 6635000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 63000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 246000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "user-model;profile_complete?-returns-false-when-workspace_name-or-job_title-is-missing",
        "keyword": "Scenario",
        "name": "profile_complete? returns false when workspace_name or job_title is missing",
        "description": "",
        "line": 19,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user has workspace_name nil and job_title \"Engineer\"",
            "line": 20,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:90"
            },
            "result": {
              "status": "passed",
              "duration": 1615000
            }
          },
          {
            "keyword": "When ",
            "name": "I check if the user's profile is complete",
            "line": 21,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be false",
            "line": 22,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:86"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 6254000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 191000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "user-model;gmail_connected?-returns-true-when-gmail_refresh_token-is-present",
        "keyword": "Scenario",
        "name": "gmail_connected? returns true when gmail_refresh_token is present",
        "description": "",
        "line": 24,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user has gmail_refresh_token \"token123\"",
            "line": 25,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:94"
            },
            "result": {
              "status": "passed",
              "duration": 1482000
            }
          },
          {
            "keyword": "When ",
            "name": "I check if the user is gmail connected",
            "line": 26,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:98"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be true",
            "line": 27,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:86"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 6889000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 91000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 198000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "user-model;gmail_connected?-returns-false-when-gmail_refresh_token-is-missing",
        "keyword": "Scenario",
        "name": "gmail_connected? returns false when gmail_refresh_token is missing",
        "description": "",
        "line": 29,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user has gmail_refresh_token nil",
            "line": 30,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:102"
            },
            "result": {
              "status": "passed",
              "duration": 668000
            }
          },
          {
            "keyword": "When ",
            "name": "I check if the user is gmail connected",
            "line": 31,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:98"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be false",
            "line": 32,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:86"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 7838000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 199000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          }
        ]
      },
      {
        "id": "user-model;gmail_token_expired?-returns-true-when-token-is-expired",
        "keyword": "Scenario",
        "name": "gmail_token_expired? returns true when token is expired",
        "description": "",
        "line": 34,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user has gmail_token_expires_at in the past",
            "line": 35,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:106"
            },
            "result": {
              "status": "passed",
              "duration": 1573000
            }
          },
          {
            "keyword": "When ",
            "name": "I check if the user's gmail token is expired",
            "line": 36,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:110"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be true",
            "line": 37,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:86"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 14940000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 197000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "user-model;gmail_token_expired?-returns-false-when-token-is-not-expired",
        "keyword": "Scenario",
        "name": "gmail_token_expired? returns false when token is not expired",
        "description": "",
        "line": 39,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user has gmail_token_expires_at in the future",
            "line": 40,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4646000
            }
          },
          {
            "keyword": "When ",
            "name": "I check if the user's gmail token is expired",
            "line": 41,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:110"
            },
            "result": {
              "status": "passed",
              "duration": 131000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be false",
            "line": 42,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:86"
            },
            "result": {
              "status": "passed",
              "duration": 59000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 88000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 13279000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 196000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "user-model;can_send_gmail?-returns-true-when-access-token-and-email-are-present",
        "keyword": "Scenario",
        "name": "can_send_gmail? returns true when access token and email are present",
        "description": "",
        "line": 44,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user has gmail_access_token \"access123\" and gmail_email \"user@example.com\"",
            "line": 45,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:118"
            },
            "result": {
              "status": "passed",
              "duration": 3959000
            }
          },
          {
            "keyword": "When ",
            "name": "I check if the user can send gmail",
            "line": 46,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:122"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be true",
            "line": 47,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:86"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 6852000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 190000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "user-model;can_send_gmail?-returns-false-when-access-token-or-email-is-missing",
        "keyword": "Scenario",
        "name": "can_send_gmail? returns false when access token or email is missing",
        "description": "",
        "line": 49,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user has gmail_access_token nil and gmail_email \"user@example.com\"",
            "line": 50,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:126"
            },
            "result": {
              "status": "passed",
              "duration": 1405000
            }
          },
          {
            "keyword": "When ",
            "name": "I check if the user can send gmail",
            "line": 51,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:122"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "Then ",
            "name": "the result should be false",
            "line": 52,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:86"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 6610000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 645000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "user-model;send_gmail!-raises-error-if-cannot-send-gmail",
        "keyword": "Scenario",
        "name": "send_gmail! raises error if cannot send gmail",
        "description": "",
        "line": 54,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user has gmail_access_token nil and gmail_email nil",
            "line": 55,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:130"
            },
            "result": {
              "status": "passed",
              "duration": 387000
            }
          },
          {
            "keyword": "When ",
            "name": "I try to send gmail with the user",
            "line": 56,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:134"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "keyword": "Then ",
            "name": "a user model error should be raised",
            "line": 57,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:144"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 5727000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 171000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "user-model;from_google_omniauth-splits-full-name-when-first_name-and-last_name-are-missing",
        "keyword": "Scenario",
        "name": "from_google_omniauth splits full name when first_name and last_name are missing",
        "description": "",
        "line": 59,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "Google OAuth data with provider \"google_oauth2\", uid \"99999\", email \"splitname@example.com\", first_name \"\", last_name \"\"",
            "line": 60,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:45"
            },
            "result": {
              "status": "passed",
              "duration": 243000
            }
          },
          {
            "keyword": "And ",
            "name": "the OAuth data has name \"Test User\"",
            "line": 61,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:58"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "keyword": "When ",
            "name": "I call User.from_google_omniauth with the OAuth data",
            "line": 62,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:69"
            },
            "result": {
              "status": "passed",
              "duration": 6034000
            }
          },
          {
            "keyword": "Then ",
            "name": "the user should be found or created with email \"splitname@example.com\" and provider \"google_oauth2\"",
            "line": 63,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:73"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's first_name should be \"Test\"",
            "line": 64,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:61"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's last_name should be \"User\"",
            "line": 65,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:65"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 5784000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 167000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "user-model;from_google_omniauth-returns-existing-user-by-provider-and-uid",
        "keyword": "Scenario",
        "name": "from_google_omniauth returns existing user by provider and uid",
        "description": "",
        "line": 67,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"existing@example.com\" and password \"password123\"",
            "line": 68,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 5010000
            }
          },
          {
            "keyword": "And ",
            "name": "the user has provider \"google_oauth2\" and uid \"abc123\"",
            "line": 69,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:40"
            },
            "result": {
              "status": "passed",
              "duration": 1381000
            }
          },
          {
            "keyword": "Given ",
            "name": "Google OAuth data with provider \"google_oauth2\", uid \"abc123\", email \"existing@example.com\", first_name \"Existing\", last_name \"User\"",
            "line": 70,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:45"
            },
            "result": {
              "status": "passed",
              "duration": 79000
            }
          },
          {
            "keyword": "When ",
            "name": "I call User.from_google_omniauth with the OAuth data",
            "line": 71,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:69"
            },
            "result": {
              "status": "passed",
              "duration": 568000
            }
          },
          {
            "keyword": "Then ",
            "name": "the user should be found or created with email \"existing@example.com\" and provider \"google_oauth2\"",
            "line": 72,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:73"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 5777000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 217000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "user-model;send_gmail!-calls-gmailsender.send_email-with-correct-arguments",
        "keyword": "Scenario",
        "name": "send_gmail! calls GmailSender.send_email with correct arguments",
        "description": "",
        "line": 74,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the user has gmail_access_token \"token123\" and gmail_email \"user@example.com\"",
            "line": 75,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:118"
            },
            "result": {
              "status": "passed",
              "duration": 1110000
            }
          },
          {
            "keyword": "And ",
            "name": "I mock GmailSender.send_email",
            "line": 76,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 137000
            }
          },
          {
            "keyword": "When ",
            "name": "I call send_gmail! with to \"to@example.com\", subject \"Hello\", text_body \"Hi\", and html_body \"<b>Hi</b>\"",
            "line": 77,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 74000
            }
          },
          {
            "keyword": "Then ",
            "name": "GmailSender.send_email should have been called with the user and correct arguments",
            "line": 78,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 71000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 5404000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "user-model;serialize_from_session-calls-super-with-first-two-arguments",
        "keyword": "Scenario",
        "name": "serialize_from_session calls super with first two arguments",
        "description": "",
        "line": 80,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I call User.serialize_from_session with three arguments \"foo\", \"bar\", \"baz\"",
            "line": 81,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:20"
            },
            "result": {
              "status": "passed",
              "duration": 382000
            }
          },
          {
            "keyword": "Then ",
            "name": "super should be called with the first two arguments \"foo\" and \"bar\"",
            "line": 82,
            "match": {
              "location": "features/step_definitions/user_model_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "user-registration",
    "uri": "features/user_registration.feature",
    "keyword": "Feature",
    "name": "User Registration",
    "description": "  As a new user\n  I want to register for an account\n  So that I can use the application",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "no users exist",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 745000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "user-registration;user-can-register-with-valid-credentials",
        "keyword": "Scenario",
        "name": "User can register with valid credentials",
        "description": "",
        "line": 10,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/signup\" with params:",
            "line": 11,
            "doc_string": {
              "value": "{\"user\": {\"email\": \"newuser@example.com\", \"password\": \"password123\", \"password_confirmation\": \"password123\", \"name\": \"New User\"}}",
              "content_type": "",
              "line": 12
            },
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 28287000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 15,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 58000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the home page",
            "line": 16,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:138"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "keyword": "And ",
            "name": "a user should exist with email \"newuser@example.com\"",
            "line": 17,
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:54"
            },
            "result": {
              "status": "passed",
              "duration": 2518000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should have name \"New User\"",
            "line": 18,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:241"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "no users exist",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 1099000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 161000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "user-registration;user-can-register-with-first_name-and-last_name",
        "keyword": "Scenario",
        "name": "User can register with first_name and last_name",
        "description": "",
        "line": 20,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/signup\" with params:",
            "line": 21,
            "doc_string": {
              "value": "{\"user\": {\"email\": \"newuser@example.com\", \"password\": \"password123\", \"password_confirmation\": \"password123\"}, \"first_name\": \"New\", \"last_name\": \"User\", \"workspace_name\": \"My Workspace\", \"job_title\": \"Developer\"}",
              "content_type": "",
              "line": 22
            },
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 13208000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 25,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the home page",
            "line": 26,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:138"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "keyword": "And ",
            "name": "a user should exist with email \"newuser@example.com\"",
            "line": 27,
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:54"
            },
            "result": {
              "status": "passed",
              "duration": 650000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should have name \"New User\"",
            "line": 28,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:241"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should have first_name \"New\"",
            "line": 29,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:246"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should have last_name \"User\"",
            "line": 30,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:251"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should have workspace_name \"My Workspace\"",
            "line": 31,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:256"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should have job_title \"Developer\"",
            "line": 32,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:261"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "keyword": "And ",
            "name": "no users exist",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 771000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 153000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "user-registration;user-registration-fails-with-invalid-email",
        "keyword": "Scenario",
        "name": "User registration fails with invalid email",
        "description": "",
        "line": 34,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/signup\" with params:",
            "line": 35,
            "doc_string": {
              "value": "{\"user\": {\"email\": \"invalid-email\", \"password\": \"password123\", \"password_confirmation\": \"password123\"}}",
              "content_type": "",
              "line": 36
            },
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 12674000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 39,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          },
          {
            "keyword": "And ",
            "name": "I should not be logged in",
            "line": 40,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:190"
            },
            "result": {
              "status": "passed",
              "duration": 1639000
            }
          },
          {
            "keyword": "And ",
            "name": "no user should exist with email \"invalid-email\"",
            "line": 41,
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:60"
            },
            "result": {
              "status": "passed",
              "duration": 491000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "no users exist",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 755000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "user-registration;user-registration-fails-with-mismatched-passwords",
        "keyword": "Scenario",
        "name": "User registration fails with mismatched passwords",
        "description": "",
        "line": 43,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/signup\" with params:",
            "line": 44,
            "doc_string": {
              "value": "{\"user\": {\"email\": \"newuser@example.com\", \"password\": \"password123\", \"password_confirmation\": \"different\"}}",
              "content_type": "",
              "line": 45
            },
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 8505000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 48,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "keyword": "And ",
            "name": "I should not be logged in",
            "line": 49,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:190"
            },
            "result": {
              "status": "passed",
              "duration": 6961000
            }
          },
          {
            "keyword": "And ",
            "name": "no user should exist with email \"newuser@example.com\"",
            "line": 50,
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:60"
            },
            "result": {
              "status": "passed",
              "duration": 489000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "no users exist",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 1201000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 636000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "user-registration;user-registration-fails-with-existing-email",
        "keyword": "Scenario",
        "name": "User registration fails with existing email",
        "description": "",
        "line": 52,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user exists with email \"existing@example.com\"",
            "line": 53,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 4728000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/signup\" with params:",
            "line": 54,
            "doc_string": {
              "value": "{\"user\": {\"email\": \"existing@example.com\", \"password\": \"password123\", \"password_confirmation\": \"password123\"}}",
              "content_type": "",
              "line": 55
            },
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 12044000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 422",
            "line": 58,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "keyword": "And ",
            "name": "I should not be logged in",
            "line": 59,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:190"
            },
            "result": {
              "status": "passed",
              "duration": 3373000
            }
          },
          {
            "keyword": "And ",
            "name": "only one user should exist with email \"existing@example.com\"",
            "line": 60,
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:65"
            },
            "result": {
              "status": "passed",
              "duration": 1479000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "And ",
            "name": "no users exist",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 1206000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 534000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "user-registration;authenticated-user-with-remember_me-cannot-access-signup-page",
        "keyword": "Scenario",
        "name": "Authenticated user with remember_me cannot access signup page",
        "description": "",
        "line": 62,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 63,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7187000
            }
          },
          {
            "keyword": "And ",
            "name": "I have remember_me enabled",
            "line": 64,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:55"
            },
            "result": {
              "status": "passed",
              "duration": 6916000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/signup\"",
            "line": 65,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 2888000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 66,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the home page",
            "line": 67,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:138"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 66000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "And ",
            "name": "no users exist",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 841000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "user-registration;authenticated-user-without-remember_me-is-signed-out-when-accessing-signup",
        "keyword": "Scenario",
        "name": "Authenticated user without remember_me is signed out when accessing signup",
        "description": "",
        "line": 69,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 70,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5948000
            }
          },
          {
            "keyword": "And ",
            "name": "I do not have remember_me enabled",
            "line": 71,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:65"
            },
            "result": {
              "status": "passed",
              "duration": 5534000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/signup\"",
            "line": 72,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 3426000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 73,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 39000
            }
          },
          {
            "keyword": "And ",
            "name": "I should not be logged in",
            "line": 76,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:190"
            },
            "result": {
              "status": "passed",
              "duration": 1710000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's remember_created_at should be nil",
            "line": 77,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:300"
            },
            "result": {
              "status": "passed",
              "duration": 935000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 86000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "And ",
            "name": "no users exist",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 1115000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 146000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "user-registration;user-registration-combines-first_name-and-last_name-into-name",
        "keyword": "Scenario",
        "name": "User registration combines first_name and last_name into name",
        "description": "",
        "line": 79,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/signup\" with params:",
            "line": 80,
            "doc_string": {
              "value": "{\"user\": {\"email\": \"newuser@example.com\", \"password\": \"password123\", \"password_confirmation\": \"password123\"}, \"first_name\": \"John\", \"last_name\": \"Doe\"}",
              "content_type": "",
              "line": 81
            },
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 11986000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 84,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "keyword": "And ",
            "name": "a user should exist with email \"newuser@example.com\"",
            "line": 85,
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:54"
            },
            "result": {
              "status": "passed",
              "duration": 539000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should have name \"John Doe\"",
            "line": 86,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:241"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should have first_name \"John\"",
            "line": 87,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:246"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should have last_name \"Doe\"",
            "line": 88,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:251"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "And ",
            "name": "no users exist",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 793000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 65000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 149000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "user-registration;user-registration-with-only-first_name-does-not-set-name",
        "keyword": "Scenario",
        "name": "User registration with only first_name does not set name",
        "description": "",
        "line": 90,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/signup\" with params:",
            "line": 91,
            "doc_string": {
              "value": "{\"user\": {\"email\": \"newuser@example.com\", \"password\": \"password123\", \"password_confirmation\": \"password123\"}, \"first_name\": \"John\"}",
              "content_type": "",
              "line": 92
            },
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 16379000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 95,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "keyword": "And ",
            "name": "a user should exist with email \"newuser@example.com\"",
            "line": 96,
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:54"
            },
            "result": {
              "status": "passed",
              "duration": 863000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should have first_name \"John\"",
            "line": 97,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:246"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          },
          {
            "keyword": "And ",
            "name": "the user name should not be automatically set from first_name",
            "line": 98,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:266"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "And ",
            "name": "no users exist",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 836000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 145000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "user-registration;user-registration-with-only-last_name-does-not-set-name",
        "keyword": "Scenario",
        "name": "User registration with only last_name does not set name",
        "description": "",
        "line": 100,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/signup\" with params:",
            "line": 101,
            "doc_string": {
              "value": "{\"user\": {\"email\": \"newuser@example.com\", \"password\": \"password123\", \"password_confirmation\": \"password123\"}, \"last_name\": \"Doe\"}",
              "content_type": "",
              "line": 102
            },
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 10563000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 105,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "keyword": "And ",
            "name": "a user should exist with email \"newuser@example.com\"",
            "line": 106,
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:54"
            },
            "result": {
              "status": "passed",
              "duration": 659000
            }
          },
          {
            "keyword": "And ",
            "name": "the user should have last_name \"Doe\"",
            "line": 107,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:251"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "keyword": "And ",
            "name": "the user name should not be automatically set from last_name",
            "line": 108,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:271"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 21000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "keyword": "And ",
            "name": "no users exist",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 717000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 221000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "user-registration;user-can-access-signup-page",
        "keyword": "Scenario",
        "name": "User can access signup page",
        "description": "",
        "line": 110,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/signup\"",
            "line": 111,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 3352000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 112,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 37000
            }
          },
          {
            "keyword": "And ",
            "name": "the response should contain the registration form",
            "line": 113,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "And ",
            "name": "no users exist",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:5"
            },
            "result": {
              "status": "passed",
              "duration": 757000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "user-registration;user-registration-handles-inactive-account-flow",
        "keyword": "Scenario",
        "name": "User registration handles inactive account flow",
        "description": "",
        "line": 115,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/signup\" with params:",
            "line": 116,
            "doc_string": {
              "value": "{\"user\": {\"email\": \"newuser@example.com\", \"password\": \"password123\", \"password_confirmation\": \"password123\"}}",
              "content_type": "",
              "line": 117
            },
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 9537000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 120,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 140000
            }
          },
          {
            "keyword": "And ",
            "name": "a user should exist with email \"newuser@example.com\"",
            "line": 121,
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:54"
            },
            "result": {
              "status": "passed",
              "duration": 854000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "user-remembered-state",
    "uri": "features/user_remembered.feature",
    "keyword": "Feature",
    "name": "User remembered state",
    "description": "  As a developer\n  I want to ensure user_remembered? logic is fully covered\n  So that authentication and remember_me work as expected",
    "line": 1,
    "elements": [
      {
        "id": "user-remembered-state;user-is-not-signed-in",
        "keyword": "Scenario",
        "name": "user is not signed in",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user is not signed in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/user_remembered_steps.rb:3"
            },
            "result": {
              "status": "passed",
              "duration": 676000
            }
          },
          {
            "keyword": "When ",
            "name": "the system checks if the user is remembered",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_remembered_steps.rb:32"
            },
            "result": {
              "status": "passed",
              "duration": 9290000
            }
          },
          {
            "keyword": "Then ",
            "name": "the remembered user result should be false",
            "line": 9,
            "match": {
              "location": "features/step_definitions/user_remembered_steps.rb:40"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 146000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 67000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "id": "user-remembered-state;user-is-signed-in-but-has-no-remember-cookie",
        "keyword": "Scenario",
        "name": "user is signed in but has no remember cookie",
        "description": "",
        "line": 11,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user is signed in",
            "line": 12,
            "match": {
              "location": "features/step_definitions/user_remembered_steps.rb:8"
            },
            "result": {
              "status": "passed",
              "duration": 6599000
            }
          },
          {
            "keyword": "And ",
            "name": "the user does not have a remember_user_token cookie",
            "line": 13,
            "match": {
              "location": "features/step_definitions/user_remembered_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 613000
            }
          },
          {
            "keyword": "And ",
            "name": "the user has remember_created_at set in the database",
            "line": 14,
            "match": {
              "location": "features/step_definitions/user_remembered_steps.rb:24"
            },
            "result": {
              "status": "passed",
              "duration": 1891000
            }
          },
          {
            "keyword": "When ",
            "name": "the system checks if the user is remembered",
            "line": 15,
            "match": {
              "location": "features/step_definitions/user_remembered_steps.rb:32"
            },
            "result": {
              "status": "passed",
              "duration": 1054000
            }
          },
          {
            "keyword": "Then ",
            "name": "the remembered user result should be false",
            "line": 16,
            "match": {
              "location": "features/step_definitions/user_remembered_steps.rb:40"
            },
            "result": {
              "status": "passed",
              "duration": 41000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 146000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 85000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          }
        ]
      },
      {
        "id": "user-remembered-state;user-is-signed-in-with-remember-cookie-but-no-remember_created_at",
        "keyword": "Scenario",
        "name": "user is signed in with remember cookie but no remember_created_at",
        "description": "",
        "line": 18,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user is signed in",
            "line": 19,
            "match": {
              "location": "features/step_definitions/user_remembered_steps.rb:8"
            },
            "result": {
              "status": "passed",
              "duration": 6121000
            }
          },
          {
            "keyword": "And ",
            "name": "the user has a remember_user_token cookie",
            "line": 20,
            "match": {
              "location": "features/step_definitions/user_remembered_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 376000
            }
          },
          {
            "keyword": "And ",
            "name": "the user does not have remember_created_at set in the database",
            "line": 21,
            "match": {
              "location": "features/step_definitions/user_remembered_steps.rb:28"
            },
            "result": {
              "status": "passed",
              "duration": 378000
            }
          },
          {
            "keyword": "When ",
            "name": "the system checks if the user is remembered",
            "line": 22,
            "match": {
              "location": "features/step_definitions/user_remembered_steps.rb:32"
            },
            "result": {
              "status": "passed",
              "duration": 483000
            }
          },
          {
            "keyword": "Then ",
            "name": "the remembered user result should be false",
            "line": 23,
            "match": {
              "location": "features/step_definitions/user_remembered_steps.rb:40"
            },
            "result": {
              "status": "passed",
              "duration": 35000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 72000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "user-remembered-state;user-is-signed-in-with-remember-cookie-and-remember_created_at",
        "keyword": "Scenario",
        "name": "user is signed in with remember cookie and remember_created_at",
        "description": "",
        "line": 25,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a user is signed in",
            "line": 26,
            "match": {
              "location": "features/step_definitions/user_remembered_steps.rb:8"
            },
            "result": {
              "status": "passed",
              "duration": 5820000
            }
          },
          {
            "keyword": "And ",
            "name": "the user has a remember_user_token cookie",
            "line": 27,
            "match": {
              "location": "features/step_definitions/user_remembered_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 371000
            }
          },
          {
            "keyword": "And ",
            "name": "the user has remember_created_at set in the database",
            "line": 28,
            "match": {
              "location": "features/step_definitions/user_remembered_steps.rb:24"
            },
            "result": {
              "status": "passed",
              "duration": 1461000
            }
          },
          {
            "keyword": "When ",
            "name": "the system checks if the user is remembered",
            "line": 29,
            "match": {
              "location": "features/step_definitions/user_remembered_steps.rb:32"
            },
            "result": {
              "status": "passed",
              "duration": 526000
            }
          },
          {
            "keyword": "Then ",
            "name": "the remembered user result should be true",
            "line": 30,
            "match": {
              "location": "features/step_definitions/user_remembered_steps.rb:40"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 144000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 68000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "user-sessions",
    "uri": "features/user_sessions.feature",
    "keyword": "Feature",
    "name": "User Sessions",
    "description": "  As a user\n  I want to log in and out\n  So that I can access my account",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 6254000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "user-sessions;user-can-log-in-with-valid-credentials",
        "keyword": "Scenario",
        "name": "User can log in with valid credentials",
        "description": "",
        "line": 10,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/login\" with params:",
            "line": 11,
            "doc_string": {
              "value": "{\"user\": {\"email\": \"user@example.com\", \"password\": \"password123\"}}",
              "content_type": "",
              "line": 12
            },
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 12691000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 15,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 88000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the home page",
            "line": 16,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:138"
            },
            "result": {
              "status": "passed",
              "duration": 92000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be logged in as \"user@example.com\"",
            "line": 17,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:176"
            },
            "result": {
              "status": "passed",
              "duration": 9834000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 59000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 8898000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 377000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 64000
            }
          }
        ]
      },
      {
        "id": "user-sessions;user-can-log-in-with-remember_me-checked",
        "keyword": "Scenario",
        "name": "User can log in with remember_me checked",
        "description": "",
        "line": 19,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/login\" with params:",
            "line": 20,
            "doc_string": {
              "value": "{\"user\": {\"email\": \"user@example.com\", \"password\": \"password123\", \"remember_me\": \"1\"}}",
              "content_type": "",
              "line": 21
            },
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 10923000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 24,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the home page",
            "line": 25,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:138"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be logged in as \"user@example.com\"",
            "line": 26,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:176"
            },
            "result": {
              "status": "passed",
              "duration": 6500000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's remember_created_at should be set",
            "line": 27,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:294"
            },
            "result": {
              "status": "passed",
              "duration": 709000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 4902000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 234000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "id": "user-sessions;user-can-log-in-without-remember_me-checked",
        "keyword": "Scenario",
        "name": "User can log in without remember_me checked",
        "description": "",
        "line": 29,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/login\" with params:",
            "line": 30,
            "doc_string": {
              "value": "{\"user\": {\"email\": \"user@example.com\", \"password\": \"password123\", \"remember_me\": \"0\"}}",
              "content_type": "",
              "line": 31
            },
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 11828000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 34,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the home page",
            "line": 35,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:138"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be logged in as \"user@example.com\"",
            "line": 36,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:176"
            },
            "result": {
              "status": "passed",
              "duration": 5318000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's remember_created_at should be nil",
            "line": 37,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:300"
            },
            "result": {
              "status": "passed",
              "duration": 704000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 4833000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 146000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "user-sessions;user-login-fails-with-invalid-email",
        "keyword": "Scenario",
        "name": "User login fails with invalid email",
        "description": "",
        "line": 39,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/login\" with params:",
            "line": 40,
            "doc_string": {
              "value": "{\"user\": {\"email\": \"wrong@example.com\", \"password\": \"password123\"}}",
              "content_type": "",
              "line": 41
            },
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 19051000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 44,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 79000
            }
          },
          {
            "keyword": "And ",
            "name": "I should not be logged in",
            "line": 45,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:190"
            },
            "result": {
              "status": "passed",
              "duration": 2441000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 6162000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 170000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "user-sessions;user-login-fails-with-invalid-password",
        "keyword": "Scenario",
        "name": "User login fails with invalid password",
        "description": "",
        "line": 47,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a POST request to \"/login\" with params:",
            "line": 48,
            "doc_string": {
              "value": "{\"user\": {\"email\": \"user@example.com\", \"password\": \"wrongpassword\"}}",
              "content_type": "",
              "line": 49
            },
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 14215000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 52,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 61000
            }
          },
          {
            "keyword": "And ",
            "name": "I should not be logged in",
            "line": 53,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:190"
            },
            "result": {
              "status": "passed",
              "duration": 2455000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 7850000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 180000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "user-sessions;authenticated-user-with-remember_me-cannot-access-login-page",
        "keyword": "Scenario",
        "name": "Authenticated user with remember_me cannot access login page",
        "description": "",
        "line": 55,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 56,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1120000
            }
          },
          {
            "keyword": "And ",
            "name": "I have remember_me enabled",
            "line": 57,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:55"
            },
            "result": {
              "status": "passed",
              "duration": 7025000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/login\"",
            "line": 58,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 4342000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 59,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to the home page",
            "line": 60,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:138"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 22000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 83000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 5880000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 165000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "user-sessions;authenticated-user-without-remember_me-is-signed-out-when-accessing-login",
        "keyword": "Scenario",
        "name": "Authenticated user without remember_me is signed out when accessing login",
        "description": "",
        "line": 62,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 63,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1342000
            }
          },
          {
            "keyword": "And ",
            "name": "I do not have remember_me enabled",
            "line": 64,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:65"
            },
            "result": {
              "status": "passed",
              "duration": 7894000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/login\"",
            "line": 65,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 4621000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 66,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to \"/login\"",
            "line": 67,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:152"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "keyword": "And ",
            "name": "I should not be logged in",
            "line": 68,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:190"
            },
            "result": {
              "status": "passed",
              "duration": 3342000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's remember_created_at should be nil",
            "line": 69,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:300"
            },
            "result": {
              "status": "passed",
              "duration": 1175000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 112000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 6084000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 474000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "user-sessions;user-can-log-out",
        "keyword": "Scenario",
        "name": "User can log out",
        "description": "",
        "line": 71,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 72,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1071000
            }
          },
          {
            "keyword": "And ",
            "name": "I have remember_me enabled",
            "line": 73,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:55"
            },
            "result": {
              "status": "passed",
              "duration": 8104000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a DELETE request to \"/logout\"",
            "line": 74,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 4708000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 75,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be redirected to \"/login\"",
            "line": 76,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:152"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "keyword": "And ",
            "name": "I should not be logged in",
            "line": 77,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:190"
            },
            "result": {
              "status": "passed",
              "duration": 2104000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's remember_created_at should be nil",
            "line": 78,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:300"
            },
            "result": {
              "status": "passed",
              "duration": 971000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 177000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            }
          },
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 9186000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 372000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "user-sessions;user-login-clears-existing-remember_me-when-not-checked",
        "keyword": "Scenario",
        "name": "User login clears existing remember_me when not checked",
        "description": "",
        "line": 80,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 81,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1553000
            }
          },
          {
            "keyword": "And ",
            "name": "I have remember_me enabled",
            "line": 82,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:55"
            },
            "result": {
              "status": "passed",
              "duration": 11942000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a DELETE request to \"/logout\"",
            "line": 83,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 4918000
            }
          },
          {
            "keyword": "And ",
            "name": "I send a POST request to \"/login\" with params:",
            "line": 84,
            "doc_string": {
              "value": "{\"user\": {\"email\": \"user@example.com\", \"password\": \"password123\", \"remember_me\": \"0\"}}",
              "content_type": "",
              "line": 85
            },
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 10326000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 88,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be logged in as \"user@example.com\"",
            "line": 89,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:176"
            },
            "result": {
              "status": "passed",
              "duration": 6132000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's remember_created_at should be nil",
            "line": 90,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:300"
            },
            "result": {
              "status": "passed",
              "duration": 1400000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 89000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 11747000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 93000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 260000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "user-sessions;user-login-with-remember_me-clears-cookie-if-previously-not-remembered",
        "keyword": "Scenario",
        "name": "User login with remember_me clears cookie if previously not remembered",
        "description": "",
        "line": 92,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 93,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 1310000
            }
          },
          {
            "keyword": "And ",
            "name": "I do not have remember_me enabled",
            "line": 94,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:65"
            },
            "result": {
              "status": "passed",
              "duration": 7398000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a DELETE request to \"/logout\"",
            "line": 95,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 3931000
            }
          },
          {
            "keyword": "And ",
            "name": "I send a POST request to \"/login\" with params:",
            "line": 96,
            "doc_string": {
              "value": "{\"user\": {\"email\": \"user@example.com\", \"password\": \"password123\", \"remember_me\": \"1\"}}",
              "content_type": "",
              "line": 97
            },
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 14055000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 100,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be logged in as \"user@example.com\"",
            "line": 101,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:176"
            },
            "result": {
              "status": "passed",
              "duration": 8339000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's remember_created_at should be set",
            "line": 102,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:294"
            },
            "result": {
              "status": "passed",
              "duration": 954000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 29000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 137000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 6046000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 197000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "user-sessions;user-login-clears-remember_me-cookie-before-login-if-not-checked",
        "keyword": "Scenario",
        "name": "User login clears remember_me cookie before login if not checked",
        "description": "",
        "line": 104,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 105,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 939000
            }
          },
          {
            "keyword": "And ",
            "name": "I have remember_me enabled",
            "line": 106,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:55"
            },
            "result": {
              "status": "passed",
              "duration": 7647000
            }
          },
          {
            "keyword": "When ",
            "name": "I send a DELETE request to \"/logout\"",
            "line": 107,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 4412000
            }
          },
          {
            "keyword": "And ",
            "name": "I send a POST request to \"/login\" with params:",
            "line": 108,
            "doc_string": {
              "value": "{\"user\": {\"email\": \"user@example.com\", \"password\": \"password123\", \"remember_me\": \"0\"}}",
              "content_type": "",
              "line": 109
            },
            "match": {
              "location": "features/step_definitions/user_registration_steps.rb:19"
            },
            "result": {
              "status": "passed",
              "duration": 13277000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 302",
            "line": 112,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "keyword": "And ",
            "name": "I should be logged in as \"user@example.com\"",
            "line": 113,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:176"
            },
            "result": {
              "status": "passed",
              "duration": 5590000
            }
          },
          {
            "keyword": "And ",
            "name": "the user's remember_created_at should be nil",
            "line": 114,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:300"
            },
            "result": {
              "status": "passed",
              "duration": 638000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 23000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 78000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "authentication is enabled",
            "line": 7,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:940"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "keyword": "Given ",
            "name": "a user exists with email \"user@example.com\" and password \"password123\"",
            "line": 8,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:27"
            },
            "result": {
              "status": "passed",
              "duration": 5883000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 171000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "user-sessions;user-can-access-login-page",
        "keyword": "Scenario",
        "name": "User can access login page",
        "description": "",
        "line": 116,
        "type": "scenario",
        "steps": [
          {
            "keyword": "When ",
            "name": "I send a GET request to \"/login\"",
            "line": 117,
            "match": {
              "location": "features/step_definitions/common_steps.rb:112"
            },
            "result": {
              "status": "passed",
              "duration": 4676000
            }
          },
          {
            "keyword": "Then ",
            "name": "the response status should be 200",
            "line": 118,
            "match": {
              "location": "features/step_definitions/common_steps.rb:128"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "keyword": "And ",
            "name": "the response should contain the login form",
            "line": 119,
            "match": {
              "location": "features/step_definitions/user_authentication_steps.rb:133"
            },
            "result": {
              "status": "passed",
              "duration": 35000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 98000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "writer-agent-gemini-api-error-handling",
    "uri": "features/writer_agent.feature",
    "keyword": "Feature",
    "name": "Writer Agent Gemini API error handling",
    "description": "  As a developer\n  I want to ensure that writer agen can use Gemini API to generate personalized marketing emails with robust error handling\n  So that user can have a smooth experience geenrating emails",
    "line": 1,
    "elements": [
      {
        "id": "writer-agent-gemini-api-error-handling;gemini-api-returns-empty-response-body",
        "keyword": "Scenario",
        "name": "Gemini API returns empty response body",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Gemini API returns an empty response body",
            "line": 7,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 224000
            }
          },
          {
            "keyword": "When ",
            "name": "the writer agent requests an email",
            "line": 8,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:41"
            },
            "result": {
              "status": "passed",
              "duration": 379000
            }
          },
          {
            "keyword": "Then ",
            "name": "an error \"Gemini API returned empty response\" should be raised",
            "line": 9,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:52"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 295000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "writer-agent-gemini-api-error-handling;gemini-api-returns-invalid-json",
        "keyword": "Scenario",
        "name": "Gemini API returns invalid JSON",
        "description": "",
        "line": 11,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Gemini API returns invalid JSON",
            "line": 12,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:6"
            },
            "result": {
              "status": "passed",
              "duration": 194000
            }
          },
          {
            "keyword": "When ",
            "name": "the writer agent requests an email",
            "line": 13,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:41"
            },
            "result": {
              "status": "passed",
              "duration": 697000
            }
          },
          {
            "keyword": "Then ",
            "name": "an error \"Failed to parse Gemini API response\" should be raised",
            "line": 14,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:52"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "writer-agent-gemini-api-error-handling;gemini-api-returns-a-response-with-an-error-message-\"api-quota-exceeded\"",
        "keyword": "Scenario",
        "name": "Gemini API returns a response with an error message \"API quota exceeded\"",
        "description": "",
        "line": 16,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Gemini API returns a response with an error message \"API quota exceeded\"",
            "line": 17,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:11"
            },
            "result": {
              "status": "passed",
              "duration": 221000
            }
          },
          {
            "keyword": "When ",
            "name": "the writer agent requests an email",
            "line": 18,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:41"
            },
            "result": {
              "status": "passed",
              "duration": 328000
            }
          },
          {
            "keyword": "Then ",
            "name": "an error \"Gemini API error: API quota exceeded\" should be raised",
            "line": 19,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:52"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 149000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "writer-agent-gemini-api-error-handling;gemini-api-returns-response-with-invalid-structure-(no-candidates)",
        "keyword": "Scenario",
        "name": "Gemini API returns response with invalid structure (no candidates)",
        "description": "",
        "line": 21,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Gemini API returns a response with no candidates",
            "line": 22,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 477000
            }
          },
          {
            "keyword": "When ",
            "name": "the writer agent requests an email",
            "line": 23,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:41"
            },
            "result": {
              "status": "passed",
              "duration": 442000
            }
          },
          {
            "keyword": "Then ",
            "name": "an error \"Invalid Gemini response structure\" should be raised",
            "line": 24,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:52"
            },
            "result": {
              "status": "passed",
              "duration": 98000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 186000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "writer-agent-gemini-api-error-handling;gemini-api-returns-response-with-candidate-but-no-content-parts",
        "keyword": "Scenario",
        "name": "Gemini API returns response with candidate but no content parts",
        "description": "",
        "line": 26,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Gemini API returns a response with a candidate but no content parts",
            "line": 27,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:23"
            },
            "result": {
              "status": "passed",
              "duration": 377000
            }
          },
          {
            "keyword": "When ",
            "name": "the writer agent requests an email",
            "line": 28,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:41"
            },
            "result": {
              "status": "passed",
              "duration": 781000
            }
          },
          {
            "keyword": "Then ",
            "name": "an error \"Invalid Gemini response structure\" should be raised",
            "line": 29,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:52"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 48000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 35000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "writer-agent-gemini-api-error-handling;gemini-api-returns-response-with-candidate-and-content-parts-but-no-text",
        "keyword": "Scenario",
        "name": "Gemini API returns response with candidate and content parts but no text",
        "description": "",
        "line": 31,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Gemini API returns a response with a candidate and content parts but no text",
            "line": 32,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:29"
            },
            "result": {
              "status": "passed",
              "duration": 216000
            }
          },
          {
            "keyword": "When ",
            "name": "the writer agent requests an email",
            "line": 33,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:41"
            },
            "result": {
              "status": "passed",
              "duration": 281000
            }
          },
          {
            "keyword": "Then ",
            "name": "the email \"Failed to generate email\" should be returned",
            "line": 34,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:58"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 149000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "writer-agent-gemini-api-error-handling;gemini-api-returns-valid-response-with-email-text",
        "keyword": "Scenario",
        "name": "Gemini API returns valid response with email text",
        "description": "",
        "line": 36,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the Gemini API returns a valid response with email text \"Hello, this is your email!\"",
            "line": 37,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:35"
            },
            "result": {
              "status": "passed",
              "duration": 214000
            }
          },
          {
            "keyword": "When ",
            "name": "the writer agent requests an email",
            "line": 38,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:41"
            },
            "result": {
              "status": "passed",
              "duration": 291000
            }
          },
          {
            "keyword": "Then ",
            "name": "the email \"Hello, this is your email!\" should be returned",
            "line": 39,
            "match": {
              "location": "features/step_definitions/writer_agent_steps.rb:58"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 149000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "writeragent-configuration-variations",
    "uri": "features/writer_agent_configuration.feature",
    "keyword": "Feature",
    "name": "WriterAgent Configuration Variations",
    "description": "  As an authenticated user\n  I want to configure WriterAgent with different writing styles\n  So that emails match my brand voice and goals",
    "line": 1,
    "elements": [
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6103000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2211000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2030000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2425000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2213000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 2064000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 157000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-with-tone-formal",
        "keyword": "Scenario",
        "name": "WriterAgent with tone formal",
        "description": "",
        "line": 14,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 15,
            "doc_string": {
              "value": "{\"tone\": \"formal\"}",
              "content_type": "",
              "line": 16
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1421000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 19,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 102384000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 20,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1082000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent should use formal tone",
            "line": 21,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:559"
            },
            "result": {
              "status": "passed",
              "duration": 1436000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7104000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2592000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3980000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4464000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3497000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 2004000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-with-tone-professional-(default)",
        "keyword": "Scenario",
        "name": "WriterAgent with tone professional (default)",
        "description": "",
        "line": 23,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 24,
            "doc_string": {
              "value": "{\"tone\": \"professional\"}",
              "content_type": "",
              "line": 25
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 2298000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 28,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 114514000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 29,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1176000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent should use professional tone",
            "line": 30,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:567"
            },
            "result": {
              "status": "passed",
              "duration": 2193000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6406000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2286000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1748000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 1932000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1819000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1389000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-with-tone-friendly",
        "keyword": "Scenario",
        "name": "WriterAgent with tone friendly",
        "description": "",
        "line": 32,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 33,
            "doc_string": {
              "value": "{\"tone\": \"friendly\"}",
              "content_type": "",
              "line": 34
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1484000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 37,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 128579000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 38,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1070000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent should use friendly tone",
            "line": 39,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:576"
            },
            "result": {
              "status": "passed",
              "duration": 1376000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6393000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2495000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2002000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3933000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3165000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 2514000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 150000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-with-sender_persona-founder",
        "keyword": "Scenario",
        "name": "WriterAgent with sender_persona founder",
        "description": "",
        "line": 41,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 42,
            "doc_string": {
              "value": "{\"sender_persona\": \"founder\"}",
              "content_type": "",
              "line": 43
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1867000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 46,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 120526000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 47,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1771000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent should use founder persona",
            "line": 48,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:584"
            },
            "result": {
              "status": "passed",
              "duration": 3613000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6509000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2038000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2456000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2229000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2252000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1675000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 148000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-with-sender_persona-sales",
        "keyword": "Scenario",
        "name": "WriterAgent with sender_persona sales",
        "description": "",
        "line": 50,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 51,
            "doc_string": {
              "value": "{\"sender_persona\": \"sales\"}",
              "content_type": "",
              "line": 52
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1342000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 55,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 79567000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 56,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 2689000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent should use sales persona",
            "line": 57,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:592"
            },
            "result": {
              "status": "passed",
              "duration": 1400000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 397000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 14469000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 6220000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 6184000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 5062000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3738000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 2672000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 61000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 153000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-with-sender_persona-customer_success",
        "keyword": "Scenario",
        "name": "WriterAgent with sender_persona customer_success",
        "description": "",
        "line": 59,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 60,
            "doc_string": {
              "value": "{\"sender_persona\": \"customer_success\"}",
              "content_type": "",
              "line": 61
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 2923000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 64,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 112155000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 65,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1790000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent should use customer_success persona",
            "line": 66,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:600"
            },
            "result": {
              "status": "passed",
              "duration": 1501000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6088000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3133000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3269000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4273000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2031000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1368000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 147000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-with-email_length-very_short",
        "keyword": "Scenario",
        "name": "WriterAgent with email_length very_short",
        "description": "",
        "line": 68,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 69,
            "doc_string": {
              "value": "{\"email_length\": \"very_short\"}",
              "content_type": "",
              "line": 70
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1483000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 73,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 87402000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 74,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1440000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent should use very_short length",
            "line": 75,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:608"
            },
            "result": {
              "status": "passed",
              "duration": 1704000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 24000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7604000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2407000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3215000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4320000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 6074000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1535000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 141000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-with-email_length-short-(default)",
        "keyword": "Scenario",
        "name": "WriterAgent with email_length short (default)",
        "description": "",
        "line": 77,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 78,
            "doc_string": {
              "value": "{\"email_length\": \"short\"}",
              "content_type": "",
              "line": 79
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 2106000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 82,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 124029000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 83,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 2778000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent should use short length",
            "line": 84,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:616"
            },
            "result": {
              "status": "passed",
              "duration": 3223000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8435000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3955000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2675000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3888000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3918000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1709000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 131000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-with-email_length-standard",
        "keyword": "Scenario",
        "name": "WriterAgent with email_length standard",
        "description": "",
        "line": 86,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 87,
            "doc_string": {
              "value": "{\"email_length\": \"standard\"}",
              "content_type": "",
              "line": 88
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1974000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 91,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 78699000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 92,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1036000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent should use standard length",
            "line": 93,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:625"
            },
            "result": {
              "status": "passed",
              "duration": 1348000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8318000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2395000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2106000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 5448000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 4444000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 2745000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 245000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-with-personalization_level-low",
        "keyword": "Scenario",
        "name": "WriterAgent with personalization_level low",
        "description": "",
        "line": 95,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 96,
            "doc_string": {
              "value": "{\"personalization_level\": \"low\"}",
              "content_type": "",
              "line": 97
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1539000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 100,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 173147000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 101,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1161000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent should use low personalization",
            "line": 102,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:633"
            },
            "result": {
              "status": "passed",
              "duration": 2510000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 32000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6462000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2741000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1981000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3513000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1497000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1073000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 44000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 130000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-with-personalization_level-medium-(default)",
        "keyword": "Scenario",
        "name": "WriterAgent with personalization_level medium (default)",
        "description": "",
        "line": 104,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 105,
            "doc_string": {
              "value": "{\"personalization_level\": \"medium\"}",
              "content_type": "",
              "line": 106
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1616000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 109,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 82491000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 110,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1074000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent should use medium personalization",
            "line": 111,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:641"
            },
            "result": {
              "status": "passed",
              "duration": 1238000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 38000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10436000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3954000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3947000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4895000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2273000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1188000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 136000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-with-personalization_level-high",
        "keyword": "Scenario",
        "name": "WriterAgent with personalization_level high",
        "description": "",
        "line": 113,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 114,
            "doc_string": {
              "value": "{\"personalization_level\": \"high\"}",
              "content_type": "",
              "line": 115
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 5694000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 118,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 93874000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 119,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1296000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent should use high personalization",
            "line": 120,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:650"
            },
            "result": {
              "status": "passed",
              "duration": 1678000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6680000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 1929000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1579000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2061000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1554000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1104000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-with-primary_cta_type-book_call",
        "keyword": "Scenario",
        "name": "WriterAgent with primary_cta_type book_call",
        "description": "",
        "line": 122,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 123,
            "doc_string": {
              "value": "{\"primary_cta_type\": \"book_call\"}",
              "content_type": "",
              "line": 124
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1469000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 127,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 88130000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 128,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1455000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent should use book_call CTA",
            "line": 129,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:658"
            },
            "result": {
              "status": "passed",
              "duration": 1433000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 25000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7869000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3328000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2369000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 2054000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2123000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 2205000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 151000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-with-primary_cta_type-get_reply",
        "keyword": "Scenario",
        "name": "WriterAgent with primary_cta_type get_reply",
        "description": "",
        "line": 131,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 132,
            "doc_string": {
              "value": "{\"primary_cta_type\": \"get_reply\"}",
              "content_type": "",
              "line": 133
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1548000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 136,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 83228000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 137,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1087000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent should use get_reply CTA",
            "line": 138,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:666"
            },
            "result": {
              "status": "passed",
              "duration": 1603000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 5753000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 2868000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 1986000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 1842000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 1404000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1621000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 43000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 131000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 5000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-with-primary_cta_type-get_click",
        "keyword": "Scenario",
        "name": "WriterAgent with primary_cta_type get_click",
        "description": "",
        "line": 140,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 141,
            "doc_string": {
              "value": "{\"primary_cta_type\": \"get_click\"}",
              "content_type": "",
              "line": 142
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 1635000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 145,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 80129000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 146,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 4458000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent should use get_click CTA",
            "line": 147,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:674"
            },
            "result": {
              "status": "passed",
              "duration": 2356000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6569000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 3041000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2571000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3393000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 2296000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1309000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 47000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 152000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-with-cta_softness-soft",
        "keyword": "Scenario",
        "name": "WriterAgent with cta_softness soft",
        "description": "",
        "line": 149,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 150,
            "doc_string": {
              "value": "{\"cta_softness\": \"soft\"}",
              "content_type": "",
              "line": 151
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 3452000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 154,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 97024000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 155,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 2444000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent should use soft CTA",
            "line": 156,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:682"
            },
            "result": {
              "status": "passed",
              "duration": 2520000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 93000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 6525000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4160000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3234000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4727000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 3748000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1456000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 46000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 152000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 6000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-with-cta_softness-balanced-(default)",
        "keyword": "Scenario",
        "name": "WriterAgent with cta_softness balanced (default)",
        "description": "",
        "line": 158,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 159,
            "doc_string": {
              "value": "{\"cta_softness\": \"balanced\"}",
              "content_type": "",
              "line": 160
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 3966000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 163,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 104620000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 164,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1177000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent should use balanced CTA",
            "line": 165,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:690"
            },
            "result": {
              "status": "passed",
              "duration": 1514000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 7845000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 4026000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 2699000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 3728000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 4367000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 3231000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 55000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 199000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-with-cta_softness-direct",
        "keyword": "Scenario",
        "name": "WriterAgent with cta_softness direct",
        "description": "",
        "line": 167,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config with settings:",
            "line": 168,
            "doc_string": {
              "value": "{\"cta_softness\": \"direct\"}",
              "content_type": "",
              "line": 169
            },
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:44"
            },
            "result": {
              "status": "passed",
              "duration": 2340000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 172,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 111973000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 173,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 2021000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent should use direct CTA",
            "line": 174,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:699"
            },
            "result": {
              "status": "passed",
              "duration": 2122000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 34000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 66000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          }
        ]
      },
      {
        "keyword": "Background",
        "name": "",
        "description": "",
        "line": 6,
        "type": "background",
        "steps": [
          {
            "keyword": "Given ",
            "name": "I am logged in",
            "line": 7,
            "match": {
              "location": "features/step_definitions/common_steps.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 9643000
            }
          },
          {
            "keyword": "And ",
            "name": "I have API keys configured",
            "line": 8,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:114"
            },
            "result": {
              "status": "passed",
              "duration": 6710000
            }
          },
          {
            "keyword": "And ",
            "name": "a campaign titled \"Writer Test Campaign\" exists for me",
            "line": 9,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 3094000
            }
          },
          {
            "keyword": "And ",
            "name": "a lead exists for my campaign",
            "line": 10,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:7"
            },
            "result": {
              "status": "passed",
              "duration": 4808000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has stage \"searched\"",
            "line": 11,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 5221000
            }
          },
          {
            "keyword": "And ",
            "name": "the lead has a \"SEARCH\" agent output",
            "line": 12,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1210"
            },
            "result": {
              "status": "passed",
              "duration": 1954000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 192000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      },
      {
        "id": "writeragent-configuration-variations;writeragent-handles-api-errors-gracefully",
        "keyword": "Scenario",
        "name": "WriterAgent handles API errors gracefully",
        "description": "",
        "line": 176,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "the campaign has a \"WRITER\" agent config",
            "line": 177,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:36"
            },
            "result": {
              "status": "passed",
              "duration": 5113000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER agent will fail",
            "line": 178,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:862"
            },
            "result": {
              "status": "passed",
              "duration": 173000
            }
          },
          {
            "keyword": "When ",
            "name": "I run the \"WRITER\" agent on the lead",
            "line": 179,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:1006"
            },
            "result": {
              "status": "passed",
              "duration": 20174000
            }
          },
          {
            "keyword": "Then ",
            "name": "the lead should have a \"WRITER\" agent output",
            "line": 180,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:866"
            },
            "result": {
              "status": "passed",
              "duration": 1520000
            }
          },
          {
            "keyword": "And ",
            "name": "the WRITER output should include error information",
            "line": 181,
            "match": {
              "location": "features/step_definitions/api_setup_steps.rb:707"
            },
            "result": {
              "status": "passed",
              "duration": 2342000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 112000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 70000
            }
          }
        ]
      }
    ]
  },
  {
    "id": "writer-agent-prompt-and-error-handling-coverage",
    "uri": "features/writer_agent_prompt.feature",
    "keyword": "Feature",
    "name": "Writer Agent prompt and error handling coverage",
    "description": "  As a developer\n  I want to ensure WriterAgent covers all prompt and error branches\n  So that all logic is robustly tested",
    "line": 1,
    "elements": [
      {
        "id": "writer-agent-prompt-and-error-handling-coverage;previous_critique-is-present",
        "keyword": "Scenario",
        "name": "previous_critique is present",
        "description": "",
        "line": 6,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "WriterAgent is initialized with previous_critique feedback",
            "line": 7,
            "match": {
              "location": "features/step_definitions/writer_agent_prompt_steps.rb:68"
            },
            "result": {
              "status": "passed",
              "duration": 53000
            }
          },
          {
            "keyword": "When ",
            "name": "the agent builds the prompt",
            "line": 8,
            "match": {
              "location": "features/step_definitions/writer_agent_prompt_steps.rb:73"
            },
            "result": {
              "status": "passed",
              "duration": 33000
            }
          },
          {
            "keyword": "Then ",
            "name": "the prompt should include the critique feedback section",
            "line": 9,
            "match": {
              "location": "features/step_definitions/writer_agent_prompt_steps.rb:77"
            },
            "result": {
              "status": "passed",
              "duration": 45000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 194000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 20000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 76000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          }
        ]
      },
      {
        "id": "writer-agent-prompt-and-error-handling-coverage;previous_critique-is-not-present",
        "keyword": "Scenario",
        "name": "previous_critique is not present",
        "description": "",
        "line": 11,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "WriterAgent is initialized without previous_critique",
            "line": 12,
            "match": {
              "location": "features/step_definitions/writer_agent_prompt_steps.rb:82"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "keyword": "When ",
            "name": "the agent builds the prompt",
            "line": 13,
            "match": {
              "location": "features/step_definitions/writer_agent_prompt_steps.rb:73"
            },
            "result": {
              "status": "passed",
              "duration": 27000
            }
          },
          {
            "keyword": "Then ",
            "name": "the prompt should not include the critique feedback section",
            "line": 14,
            "match": {
              "location": "features/step_definitions/writer_agent_prompt_steps.rb:86"
            },
            "result": {
              "status": "passed",
              "duration": 42000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 50000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 192000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 12000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ]
      },
      {
        "id": "writer-agent-prompt-and-error-handling-coverage;sources-are-present",
        "keyword": "Scenario",
        "name": "sources are present",
        "description": "",
        "line": 16,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "WriterAgent is initialized with sources",
            "line": 17,
            "match": {
              "location": "features/step_definitions/writer_agent_prompt_steps.rb:90"
            },
            "result": {
              "status": "passed",
              "duration": 62000
            }
          },
          {
            "keyword": "When ",
            "name": "the agent builds the prompt",
            "line": 18,
            "match": {
              "location": "features/step_definitions/writer_agent_prompt_steps.rb:73"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "keyword": "Then ",
            "name": "the prompt should include the sources section",
            "line": 19,
            "match": {
              "location": "features/step_definitions/writer_agent_prompt_steps.rb:95"
            },
            "result": {
              "status": "passed",
              "duration": 78000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 197000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 15000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "writer-agent-prompt-and-error-handling-coverage;sources-are-empty",
        "keyword": "Scenario",
        "name": "sources are empty",
        "description": "",
        "line": 21,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "WriterAgent is initialized with no sources",
            "line": 22,
            "match": {
              "location": "features/step_definitions/writer_agent_prompt_steps.rb:101"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "keyword": "When ",
            "name": "the agent builds the prompt",
            "line": 23,
            "match": {
              "location": "features/step_definitions/writer_agent_prompt_steps.rb:73"
            },
            "result": {
              "status": "passed",
              "duration": 30000
            }
          },
          {
            "keyword": "Then ",
            "name": "the prompt should include the limited sources note",
            "line": 24,
            "match": {
              "location": "features/step_definitions/writer_agent_prompt_steps.rb:106"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 40000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 11000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 439000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 16000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "writer-agent-prompt-and-error-handling-coverage;focus_areas-are-present",
        "keyword": "Scenario",
        "name": "focus_areas are present",
        "description": "",
        "line": 26,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "WriterAgent is initialized with focus_areas",
            "line": 27,
            "match": {
              "location": "features/step_definitions/writer_agent_prompt_steps.rb:111"
            },
            "result": {
              "status": "passed",
              "duration": 57000
            }
          },
          {
            "keyword": "When ",
            "name": "the agent builds the prompt",
            "line": 28,
            "match": {
              "location": "features/step_definitions/writer_agent_prompt_steps.rb:73"
            },
            "result": {
              "status": "passed",
              "duration": 28000
            }
          },
          {
            "keyword": "Then ",
            "name": "the prompt should include the focus areas section",
            "line": 29,
            "match": {
              "location": "features/step_definitions/writer_agent_prompt_steps.rb:116"
            },
            "result": {
              "status": "passed",
              "duration": 56000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 369000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 9000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 14000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          }
        ]
      },
      {
        "id": "writer-agent-prompt-and-error-handling-coverage;focus_areas-are-empty",
        "keyword": "Scenario",
        "name": "focus_areas are empty",
        "description": "",
        "line": 31,
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "WriterAgent is initialized with no focus_areas",
            "line": 32,
            "match": {
              "location": "features/step_definitions/writer_agent_prompt_steps.rb:121"
            },
            "result": {
              "status": "passed",
              "duration": 49000
            }
          },
          {
            "keyword": "When ",
            "name": "the agent builds the prompt",
            "line": 33,
            "match": {
              "location": "features/step_definitions/writer_agent_prompt_steps.rb:73"
            },
            "result": {
              "status": "passed",
              "duration": 31000
            }
          },
          {
            "keyword": "Then ",
            "name": "the prompt should not include the focus areas section",
            "line": 34,
            "match": {
              "location": "features/step_definitions/writer_agent_prompt_steps.rb:126"
            },
            "result": {
              "status": "passed",
              "duration": 52000
            }
          }
        ],
        "before": [
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:14"
            },
            "result": {
              "status": "passed",
              "duration": 10000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:22"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:17"
            },
            "result": {
              "status": "passed",
              "duration": 54000
            }
          },
          {
            "match": {
              "location": "features/support/webmock_control.rb:1"
            },
            "result": {
              "status": "passed",
              "duration": 173000
            }
          },
          {
            "match": {
              "location": "features/step_definitions/google_oauth_token_refresher_steps.rb:2"
            },
            "result": {
              "status": "passed",
              "duration": 7000
            }
          }
        ],
        "after": [
          {
            "match": {
              "location": "webmock-3.26.1/lib/webmock/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "features/support/env.rb:34"
            },
            "result": {
              "status": "passed",
              "duration": 13000
            }
          },
          {
            "match": {
              "location": "capybara-3.40.0/lib/capybara/cucumber.rb:10"
            },
            "result": {
              "status": "passed",
              "duration": 8000
            }
          }
        ]
      }
    ]
  }
]